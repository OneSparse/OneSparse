<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Matrix Documentation - OneSparse Postgres</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../stylesheets/extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Matrix Documentation";
        var mkdocs_page_input_path = "test_matrix_header.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/C.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/python.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/pgsql.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> OneSparse Postgres
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Welcome to OneSparse Postgres</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="#">Matrix Documentation</a>
    <ul class="current">
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../test_scalar_header/">Scalar</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../test_scalar_op_f4/">Scalar float4 Operations</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../test_scalar_op_f8/">Scalar float8 Operations</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../test_scalar_op_i2/">Scalar smallint Operations</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../test_scalar_op_i4/">Scalar integer Operations</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../test_scalar_op_i8/">Scalar bigint Operations</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../test_vector_header/">Vectors</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">OneSparse Postgres</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Matrix Documentation</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="matrix-documentation">Matrix Documentation</h1>
<p>This documentation is also tests for the code, the examples below
show the literal output of these statements from Postgres.</p>
<p>Some setup to make sure the extension is installed.
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="k">create</span><span class="w"> </span><span class="k">extension</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">exists</span><span class="w"> </span><span class="n">onesparse</span><span class="p">;</span>
</span></code></pre></div>
OneSparse wraps the SuiteSparse:GraphBLAS library and extends
Postgres by adding new types and functions that allow you to do
sparse and dense linear algebra in Postgres.  This is similar to
functionality packages like <code>numpy</code> and <code>scipy.sparse</code> bring to
Python.</p>
<p>The most powerful object in OneSparse is a Matrix.  A Matrix is a
two dimensional array of data with a certain number of rows <em>m</em> and
columns <em>n</em>.  Typically matrices are very memory hungry data
structures, requiring <code>m * n</code> memory to hold all of the elements.</p>
<p>This limits traditional matrix libraries, because many problems in
linear algebra are <em>sparse</em>.  Not every element is used in the
problem or even definable.  Traditional linear algebra libraries
usually encode sparse matrices into dense matrices by using the
number zero to indicate "nothing", but this does not aleviate the
memory problem.  For matrices with a large number of rows and
columns this means vast areas of memories filled with zeros that
end up being multiplied away, wasting energy.</p>
<p>OneSparse matrices however are smart, and can adapt to the number
of actually useful elements in a Matrix.  They can be dense or
sparse, the SuiteSparse library will adapt to choose the right
backend format.</p>
<h1 id="matrices-and-graphs">Matrices and Graphs</h1>
<p>Every matrix is a graph, whether you think of it that way or not.
And every graph has a corresponding matrix.  The data that you put
into tables can also describe a graph, and thus a matrix.  These
three different ways of thinking about tables, graphs, and matrices
is one of the core concepts of OneSparse:</p>
<p><img alt="Tables, Graphs, and Matrices" src="../table_graph_matrix.png" /></p>
<p>While SuiteSparse is optimized for processing sparse matrices and
vectors, it also supports optimized kernels for dense objects.  A
dense matrix is just a sparse matrix with all its elements.  In
this case SuiteSparse will automatically store it in a dense
optimal format and use CPUs or GPUs appropriately to process them.</p>
<p>If the matrix has bounds, it can be printed to the console if they
are reasonable size, this is useful for debugging and
experimentation:</p>
<p><div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="k">select</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;int32(4:4)&#39;</span><span class="o">::</span><span class="n">matrix</span><span class="p">);</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="go">┌────────────────────┐</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="go">│       print        │</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="go">├────────────────────┤</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="go">│      0  1  2  3    │</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="go">│    ────────────    │</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="go">│  0│                │</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="go">│  1│                │</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="go">│  2│                │</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="go">│  3│                │</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="go">│                    │</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="go">└────────────────────┘</span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="go">(1 row)</span>
</span></code></pre></div>
Note that this matrix is empty, it's not filled with "zeros", it
contains <em>no elements</em>.  The memory needed to hold the matrix
contains only stored elements, if there isn't a value stored at a
given row or column position, no memory is consumed.  This is the
"sparse" in sparse matrix.  This is how it's possible to create an
unbounded row by unbounded column matrix without exhausting memory
trying to allocate <code>2^120</code> entries.</p>
<h1 id="drawing-some-objects">Drawing Some Objects</h1>
<p>The <code>draw()</code> function turns a matrix into the Graphviz DOT language
that is used to draw graph diagrams:
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="k">select</span><span class="w"> </span><span class="n">draw</span><span class="p">(</span><span class="s1">&#39;int32(4:4)[1:2:1 2:3:2 3:1:3]&#39;</span><span class="o">::</span><span class="n">matrix</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">draw</span><span class="p">;</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="go">┌────────────────────┐</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="go">│        draw        │</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="go">├────────────────────┤</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="go">│ digraph {          │</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="gp">│ 1 -&gt;</span><span class="w"> </span><span class="mf">2</span><span class="w"> </span><span class="p">[</span><span class="k">label</span><span class="o">=</span><span class="s s-Name">&quot;1&quot;</span><span class="p">]</span><span class="w"> </span><span class="err">│</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="gp">│ 2 -&gt;</span><span class="w"> </span><span class="mf">3</span><span class="w"> </span><span class="p">[</span><span class="k">label</span><span class="o">=</span><span class="s s-Name">&quot;2&quot;</span><span class="p">]</span><span class="w"> </span><span class="err">│</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="gp">│ 3 -&gt;</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="p">[</span><span class="k">label</span><span class="o">=</span><span class="s s-Name">&quot;3&quot;</span><span class="p">]</span><span class="w"> </span><span class="err">│</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="err">│</span><span class="w"> </span><span class="p">}</span><span class="w">                  </span><span class="err">│</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="err">│</span><span class="w">                    </span><span class="err">│</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="err">└────────────────────┘</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="p">(</span><span class="mf">1</span><span class="w"> </span><span class="k">row</span><span class="p">)</span>
</span></code></pre></div>
Will generate the following diagram:</p>
<div>
<!-- Title: %3 Pages: 1 -->
<svg width="65pt" height="170pt"
 viewBox="0.00 0.00 65.11 170.12" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 166.12)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-166.12 61.11,-166.12 61.11,4 -4,4"/>
<!-- 1 -->
<g id="node1" class="node">
<title>1</title>
<ellipse fill="none" stroke="black" cx="41.56" cy="-150.1" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="41.56" y="-148.2" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 2 -->
<g id="node2" class="node">
<title>2</title>
<ellipse fill="none" stroke="black" cx="15.56" cy="-81.06" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="15.56" y="-79.16" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge1" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="black" d="M37.38,-138.33C33.65,-128.71 28.08,-114.36 23.51,-102.56"/>
<polygon fill="black" stroke="black" points="26.69,-101.09 19.81,-93.03 20.16,-103.62 26.69,-101.09"/>
<text text-anchor="middle" x="33.56" y="-113.68" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 3 -->
<g id="node3" class="node">
<title>3</title>
<ellipse fill="none" stroke="black" cx="41.56" cy="-12.02" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="41.56" y="-10.12" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge2" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="black" d="M19.73,-69.29C23.46,-59.67 29.03,-45.32 33.61,-33.52"/>
<polygon fill="black" stroke="black" points="36.95,-34.58 37.3,-23.99 30.42,-32.05 36.95,-34.58"/>
<text text-anchor="middle" x="33.56" y="-44.64" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 3&#45;&gt;1 -->
<g id="edge3" class="edge">
<title>3&#45;&gt;1</title>
<path fill="none" stroke="black" d="M41.56,-24.31C41.56,-46.97 41.56,-98.31 41.56,-127.59"/>
<polygon fill="black" stroke="black" points="38.06,-127.97 41.56,-137.97 45.06,-127.97 38.06,-127.97"/>
<text text-anchor="middle" x="44.56" y="-79.16" font-family="Times,serif" font-size="8.00">3</text>
</g>
</g>
</svg>
</div>

<p>Here are a couple of sparse matrices from the
<code>onesparse.test_fixture</code> table.  We'll call them <code>a</code> and <code>b</code> in
these docs:</p>
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="k">select</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test_fixture</span><span class="p">;</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="go">┌────────────────────┬────────────────────┐</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="go">│         a          │         b          │</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="go">├────────────────────┼────────────────────┤</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="go">│      0  1  2  3    │      0  1  2  3    │</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="go">│    ────────────    │    ────────────    │</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="go">│  0│        0  3    │  0│           4    │</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="go">│  1│  2     1  0    │  1│        3  1    │</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="go">│  2│  2  2          │  2│     2     4    │</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="go">│  3│  2     1       │  3│     0  2       │</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="go">│                    │                    │</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="go">└────────────────────┴────────────────────┘</span>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="go">(1 row)</span>
</span></code></pre></div>
<table style="width: 100%; table-layout: fixed;" class="dot-table">
  <tr>
    <td style="width: 30%;">
        <!-- Diagram A -->
<div>
<!-- Title: %3 Pages: 1 -->
<svg width="153pt" height="239pt"
 viewBox="0.00 0.00 153.31 239.17" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 235.17)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-235.17 149.31,-235.17 149.31,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<ellipse fill="none" stroke="black" cx="69.76" cy="-219.15" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="69.76" y="-217.25" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 2 -->
<g id="node2" class="node">
<title>2</title>
<ellipse fill="none" stroke="black" cx="98.76" cy="-150.1" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="98.76" y="-148.2" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 0&#45;&gt;2 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;2</title>
<path fill="none" stroke="black" d="M69.21,-207.05C69.22,-199.23 70.07,-188.65 73.76,-180.12 75.71,-175.61 78.62,-171.28 81.78,-167.4"/>
<polygon fill="black" stroke="black" points="84.61,-169.49 88.79,-159.75 79.45,-164.76 84.61,-169.49"/>
<text text-anchor="middle" x="76.76" y="-182.72" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 3 -->
<g id="node3" class="node">
<title>3</title>
<ellipse fill="none" stroke="black" cx="51.76" cy="-12.02" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="51.76" y="-10.12" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 0&#45;&gt;3 -->
<g id="edge2" class="edge">
<title>0&#45;&gt;3</title>
<path fill="none" stroke="black" d="M55.27,-214.33C42.6,-210.23 24.72,-202.43 14.76,-189.12 -4.01,-164.06 3.88,-151.24 0.76,-120.08 -2.27,-89.91 10.52,-48.91 14.76,-42.04 18.79,-35.51 24.85,-29.86 30.91,-25.32"/>
<polygon fill="black" stroke="black" points="33.21,-27.99 39.55,-19.51 29.3,-22.19 33.21,-27.99"/>
<text text-anchor="middle" x="3.76" y="-113.68" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 2&#45;&gt;0 -->
<g id="edge6" class="edge">
<title>2&#45;&gt;0</title>
<path fill="none" stroke="black" d="M94.2,-161.63C89.99,-171.38 83.6,-186.13 78.42,-198.12"/>
<polygon fill="black" stroke="black" points="75.17,-196.81 74.42,-207.37 81.6,-199.59 75.17,-196.81"/>
<text text-anchor="middle" x="89.76" y="-182.72" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 1 -->
<g id="node4" class="node">
<title>1</title>
<ellipse fill="none" stroke="black" cx="129.76" cy="-81.06" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="129.76" y="-79.16" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 2&#45;&gt;1 -->
<g id="edge7" class="edge">
<title>2&#45;&gt;1</title>
<path fill="none" stroke="black" d="M101.77,-138.2C104.08,-130.45 107.58,-119.91 111.76,-111.08 113.43,-107.55 115.43,-103.92 117.49,-100.47"/>
<polygon fill="black" stroke="black" points="120.48,-102.28 122.85,-91.95 114.56,-98.55 120.48,-102.28"/>
<text text-anchor="middle" x="114.76" y="-113.68" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 3&#45;&gt;0 -->
<g id="edge8" class="edge">
<title>3&#45;&gt;0</title>
<path fill="none" stroke="black" d="M52.73,-24.1C55.6,-56.87 64.1,-153.69 67.89,-196.9"/>
<polygon fill="black" stroke="black" points="64.43,-197.46 68.79,-207.12 71.4,-196.85 64.43,-197.46"/>
<text text-anchor="middle" x="64.76" y="-113.68" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 3&#45;&gt;2 -->
<g id="edge9" class="edge">
<title>3&#45;&gt;2</title>
<path fill="none" stroke="black" d="M55.56,-24.03C63.45,-46.86 81.69,-99.69 91.76,-128.85"/>
<polygon fill="black" stroke="black" points="88.5,-130.12 95.07,-138.43 95.11,-127.83 88.5,-130.12"/>
<text text-anchor="middle" x="82.76" y="-79.16" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 1&#45;&gt;0 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;0</title>
<path fill="none" stroke="black" d="M131.33,-93.05C133.1,-109.08 134.51,-139.45 123.76,-162.12 115.76,-178.98 100.68,-193.96 88.48,-204.18"/>
<polygon fill="black" stroke="black" points="86.25,-201.48 80.61,-210.45 90.61,-206.95 86.25,-201.48"/>
<text text-anchor="middle" x="132.76" y="-148.2" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="black" d="M125.91,-92.87C123.08,-100.57 118.99,-111.09 114.76,-120.08 113.26,-123.26 111.57,-126.57 109.86,-129.77"/>
<polygon fill="black" stroke="black" points="106.65,-128.35 104.86,-138.79 112.77,-131.74 106.65,-128.35"/>
<text text-anchor="middle" x="121.76" y="-113.68" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge5" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="black" d="M120.51,-71.08C112.33,-63.23 99.98,-51.62 88.76,-42.04 82.92,-37.06 76.37,-31.82 70.43,-27.18"/>
<polygon fill="black" stroke="black" points="72.37,-24.26 62.31,-20.93 68.09,-29.8 72.37,-24.26"/>
<text text-anchor="middle" x="101.76" y="-44.64" font-family="Times,serif" font-size="8.00">0</text>
</g>
</g>
</svg>
</div>

    </td>
    <td style="width: 30%;">
        <!-- Diagram B -->
<div>
<!-- Title: %3 Pages: 1 -->
<svg width="105pt" height="239pt"
 viewBox="0.00 0.00 104.56 239.17" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 235.17)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-235.17 100.56,-235.17 100.56,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<ellipse fill="none" stroke="black" cx="56.56" cy="-219.15" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="56.56" y="-217.25" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 3 -->
<g id="node2" class="node">
<title>3</title>
<ellipse fill="none" stroke="black" cx="56.56" cy="-150.1" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="56.56" y="-148.2" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 0&#45;&gt;3 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;3</title>
<path fill="none" stroke="black" d="M56.56,-207.08C56.56,-197.72 56.56,-184.04 56.56,-172.55"/>
<polygon fill="black" stroke="black" points="60.06,-172.42 56.56,-162.42 53.06,-172.42 60.06,-172.42"/>
<text text-anchor="middle" x="59.56" y="-182.72" font-family="Times,serif" font-size="8.00">4</text>
</g>
<!-- 1 -->
<g id="node3" class="node">
<title>1</title>
<ellipse fill="none" stroke="black" cx="15.56" cy="-81.06" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="15.56" y="-79.16" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 3&#45;&gt;1 -->
<g id="edge6" class="edge">
<title>3&#45;&gt;1</title>
<path fill="none" stroke="black" d="M45.16,-141.51C38.19,-136.28 29.67,-128.74 24.56,-120.08 21.61,-115.1 19.63,-109.22 18.3,-103.58"/>
<polygon fill="black" stroke="black" points="21.68,-102.59 16.45,-93.37 14.79,-103.83 21.68,-102.59"/>
<text text-anchor="middle" x="27.56" y="-113.68" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 2 -->
<g id="node4" class="node">
<title>2</title>
<ellipse fill="none" stroke="black" cx="56.56" cy="-12.02" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="56.56" y="-10.12" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 3&#45;&gt;2 -->
<g id="edge7" class="edge">
<title>3&#45;&gt;2</title>
<path fill="none" stroke="black" d="M56.56,-137.97C56.56,-115.34 56.56,-63.66 56.56,-34.34"/>
<polygon fill="black" stroke="black" points="60.06,-34.31 56.56,-24.31 53.06,-34.31 60.06,-34.31"/>
<text text-anchor="middle" x="59.56" y="-79.16" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="black" d="M21.84,-92.34C28,-102.42 37.54,-118.01 45.06,-130.31"/>
<polygon fill="black" stroke="black" points="42.13,-132.22 50.33,-138.92 48.1,-128.56 42.13,-132.22"/>
<text text-anchor="middle" x="41.56" y="-113.68" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="black" d="M14.9,-68.72C14.93,-60.78 15.99,-50.17 20.56,-42.04 24.2,-35.55 29.93,-29.96 35.75,-25.46"/>
<polygon fill="black" stroke="black" points="37.88,-28.24 44.12,-19.68 33.9,-22.48 37.88,-28.24"/>
<text text-anchor="middle" x="23.56" y="-44.64" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge5" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="black" d="M66.58,-21.3C72.15,-26.58 78.55,-33.94 81.56,-42.04 93.63,-74.56 93.63,-87.57 81.56,-120.08 79.77,-124.9 76.79,-129.44 73.49,-133.45"/>
<polygon fill="black" stroke="black" points="70.87,-131.14 66.58,-140.82 75.97,-135.92 70.87,-131.14"/>
<text text-anchor="middle" x="93.56" y="-79.16" font-family="Times,serif" font-size="8.00">4</text>
</g>
<!-- 2&#45;&gt;1 -->
<g id="edge4" class="edge">
<title>2&#45;&gt;1</title>
<path fill="none" stroke="black" d="M50.27,-23.3C44.11,-33.38 34.57,-48.97 27.05,-61.27"/>
<polygon fill="black" stroke="black" points="24.01,-59.52 21.78,-69.88 29.99,-63.18 24.01,-59.52"/>
<text text-anchor="middle" x="41.56" y="-44.64" font-family="Times,serif" font-size="8.00">2</text>
</g>
</g>
</svg>
</div>

    </td>
  </tr>
</table>
<p>Here are some sparse test vectors, they will be used for some of
the examples below:</p>
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="k">select</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">u</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">u</span><span class="p">,</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test_fixture</span><span class="p">;</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="go">┌───────────┬───────────┐</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="go">│     u     │     v     │</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="go">├───────────┼───────────┤</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="go">│           │           │</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="go">│    ───    │    ───    │</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="go">│  0│       │  0│       │</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="go">│  1│  2    │  1│       │</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="go">│  2│       │  2│  3    │</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="go">│  3│       │  3│       │</span>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="go">│           │           │</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="go">└───────────┴───────────┘</span>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="go">(1 row)</span>
</span></code></pre></div>
<table style="width: 100%; table-layout: fixed;" class="dot-table">
  <tr>
    <td style="width: 30%;">
        <!-- Diagram A -->
<div>
<!-- Title: vector Pages: 1 -->
<svg width="70pt" height="177pt"
 viewBox="0.00 0.00 70.00 177.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 173)">
<title>vector</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-173 66,-173 66,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_vector</title>
<polygon fill="lightgray" stroke="black" stroke-dasharray="5,2" points="8,-8 8,-161 54,-161 54,-8 8,-8"/>
</g>
<!-- node0 -->
<g id="node1" class="node">
<title>node0</title>
<polygon fill="none" stroke="black" points="33,-153 29,-153 29,-149 33,-149 33,-153"/>
</g>
<!-- node1 -->
<g id="node2" class="node">
<title>node1</title>
<polygon fill="none" stroke="black" points="46,-113 16,-113 16,-96 46,-96 46,-113"/>
<text text-anchor="middle" x="31" y="-102.6" font-family="Times,serif" font-size="8.00">1:2</text>
</g>
<!-- node0&#45;&gt;node1 -->
<!-- node2 -->
<g id="node3" class="node">
<title>node2</title>
<polygon fill="none" stroke="black" points="33,-60 29,-60 29,-56 33,-56 33,-60"/>
</g>
<!-- node1&#45;&gt;node2 -->
<!-- node3 -->
<g id="node4" class="node">
<title>node3</title>
<polygon fill="none" stroke="black" points="33,-20 29,-20 29,-16 33,-16 33,-20"/>
</g>
<!-- node2&#45;&gt;node3 -->
</g>
</svg>
</div>

    </td>
    <td style="width: 30%;">
        <!-- Diagram B -->
<div>
<!-- Title: vector Pages: 1 -->
<svg width="70pt" height="177pt"
 viewBox="0.00 0.00 70.00 177.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 173)">
<title>vector</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-173 66,-173 66,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_vector</title>
<polygon fill="lightgray" stroke="black" stroke-dasharray="5,2" points="8,-8 8,-161 54,-161 54,-8 8,-8"/>
</g>
<!-- node0 -->
<g id="node1" class="node">
<title>node0</title>
<polygon fill="none" stroke="black" points="33,-153 29,-153 29,-149 33,-149 33,-153"/>
</g>
<!-- node1 -->
<g id="node2" class="node">
<title>node1</title>
<polygon fill="none" stroke="black" points="33,-113 29,-113 29,-109 33,-109 33,-113"/>
</g>
<!-- node0&#45;&gt;node1 -->
<!-- node2 -->
<g id="node3" class="node">
<title>node2</title>
<polygon fill="none" stroke="black" points="46,-73 16,-73 16,-56 46,-56 46,-73"/>
<text text-anchor="middle" x="31" y="-62.6" font-family="Times,serif" font-size="8.00">2:3</text>
</g>
<!-- node1&#45;&gt;node2 -->
<!-- node3 -->
<g id="node4" class="node">
<title>node3</title>
<polygon fill="none" stroke="black" points="33,-20 29,-20 29,-16 33,-16 33,-20"/>
</g>
<!-- node2&#45;&gt;node3 -->
</g>
</svg>
</div>

    </td>
  </tr>
</table>
<p>There is also an example "dense" matrix named 'd':</p>
<p><div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="k">select</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test_fixture</span><span class="p">;</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="go">┌────────────────────┐</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="go">│       print        │</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="go">├────────────────────┤</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="go">│      0  1  2  3    │</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="go">│    ────────────    │</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="go">│  0│  1  1  1  1    │</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="go">│  1│  1  1  1  1    │</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="go">│  2│  1  1  1  1    │</span>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="go">│  3│  1  1  1  1    │</span>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="go">│                    │</span>
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="go">└────────────────────┘</span>
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="go">(1 row)</span>
</span></code></pre></div>
And another matrix named 's' which is a Sierpinsky Graph, which
we'll show off a bit later.</p>
<p><div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="k">select</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test_fixture</span><span class="p">;</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="go">┌──────────────┐</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="go">│    print     │</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="go">├──────────────┤</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="go">│      0  1    │</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="go">│    ──────    │</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="go">│  0│  1  1    │</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="go">│  1│     1    │</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="go">│              │</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="go">└──────────────┘</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="go">(1 row)</span>
</span></code></pre></div>
The <code>matrix</code> data type wraps a SuiteSparse GrB_Matrix handle and
delegates functions from SQL to the library through instances of
this type.</p>
<h1 id="empty-matrices">Empty Matrices</h1>
<p>An empty matrix can be constructed many ways, but one of the
simplest is casting a type code to the matrix type.  In this case
<code>int32</code> means the SuiteSparse type <code>GrB_INT32</code>.
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="k">select</span><span class="w"> </span><span class="s1">&#39;int32&#39;</span><span class="o">::</span><span class="n">matrix</span><span class="p">;</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="go">┌────────┐</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="go">│ matrix │</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="go">├────────┤</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="go">│ int32  │</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="go">└────────┘</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="go">(1 row)</span>
</span></code></pre></div>
Another way to create an empty matrix is to use the <code>matrix()</code>
constructor function:
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="k">select</span><span class="w"> </span><span class="n">matrix</span><span class="p">(</span><span class="s1">&#39;int32&#39;</span><span class="p">);</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="go">┌────────┐</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="go">│ matrix │</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="go">├────────┤</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="go">│ int32  │</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="go">└────────┘</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="go">(1 row)</span>
</span></code></pre></div></p>
<h1 id="matrix-dimensions">Matrix dimensions</h1>
<p>The above matrices are "unbounded", they do not have a fixed number
of rows and/or columns.  The default possible number of rows and
columns is defined by the SuiteSparse library to be <code>GrB_INDEX_MAX</code>
which is <code>2^60</code> power indexes.  For the purposes of this
documentation this will be referred to as <code>INDEX_MAX</code> and matrices
and vector dimensions that are <code>INDEX_MAX</code> in size are reffered to
as "unbounded".</p>
<p>For matrices with known dimensions, the dimensions can be provided
in parentesis after the type code.  Here a 4 row by 4 column
matrix is created:
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="k">select</span><span class="w"> </span><span class="s1">&#39;int32(4:4)&#39;</span><span class="o">::</span><span class="n">matrix</span><span class="p">;</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="go">┌────────────┐</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="go">│   matrix   │</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="go">├────────────┤</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="go">│ int32(4:4) │</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="go">└────────────┘</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="go">(1 row)</span>
</span></code></pre></div>
Another way to make a new matrix is with the <code>matrix</code> constructor
function.
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="k">select</span><span class="w"> </span><span class="n">matrix</span><span class="p">(</span><span class="s1">&#39;int32&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">4</span><span class="p">,</span><span class="w"> </span><span class="mf">4</span><span class="p">);</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="go">┌────────────┐</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="go">│   matrix   │</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="go">├────────────┤</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="go">│ int32(4:4) │</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="go">└────────────┘</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="go">(1 row)</span>
</span></code></pre></div>
Either dimension can be ommited, this creates a 4 row by unbounded
column matrix.
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="k">select</span><span class="w"> </span><span class="s1">&#39;int32(4:)&#39;</span><span class="o">::</span><span class="n">matrix</span><span class="p">;</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="go">┌───────────┐</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="go">│  matrix   │</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="go">├───────────┤</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="go">│ int32(4:) │</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="go">└───────────┘</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="go">(1 row)</span>
</span></code></pre></div>
This creates a unbounded row by 4 column matrix.
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="k">select</span><span class="w"> </span><span class="s1">&#39;int32(:4)&#39;</span><span class="o">::</span><span class="n">matrix</span><span class="p">;</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="go">┌───────────┐</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="go">│  matrix   │</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="go">├───────────┤</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="go">│ int32(:4) │</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="go">└───────────┘</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="go">(1 row)</span>
</span></code></pre></div>
All graphblas operations are exposed by a series of functions and
operators.  Here we see three very common operations, returning the
number of rows, the number of columns, and the number of store
values.
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="k">select</span><span class="w"> </span><span class="n">nrows</span><span class="p">(</span><span class="s1">&#39;int32&#39;</span><span class="o">::</span><span class="n">matrix</span><span class="p">),</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="w">       </span><span class="n">ncols</span><span class="p">(</span><span class="s1">&#39;int32&#39;</span><span class="o">::</span><span class="n">matrix</span><span class="p">),</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">       </span><span class="n">nvals</span><span class="p">(</span><span class="s1">&#39;int32&#39;</span><span class="o">::</span><span class="n">matrix</span><span class="p">);</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="go">┌─────────────────────┬─────────────────────┬───────┐</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="go">│        nrows        │        ncols        │ nvals │</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="go">├─────────────────────┼─────────────────────┼───────┤</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="go">│ 1152921504606846976 │ 1152921504606846976 │     0 │</span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="go">└─────────────────────┴─────────────────────┴───────┘</span>
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="go">(1 row)</span>
</span></code></pre></div>
Above you can see the matrix has unbounded rows and columns (the
very large number is the number of <em>possible</em> entries).  And the
number of stored values is zero.  These matrices are empty, they
contain no elements.</p>
<p>Values can be specified after the <code>type(dimension)</code> prefix as an
array of elements between square brackets.  Empty brackets imply no
elements, so empty square brackets are the same as no square
brackets as above:
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="k">select</span><span class="w"> </span><span class="n">nrows</span><span class="p">(</span><span class="s1">&#39;int32[]&#39;</span><span class="o">::</span><span class="n">matrix</span><span class="p">),</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="w">       </span><span class="n">ncols</span><span class="p">(</span><span class="s1">&#39;int32[]&#39;</span><span class="o">::</span><span class="n">matrix</span><span class="p">),</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="w">       </span><span class="n">nvals</span><span class="p">(</span><span class="s1">&#39;int32[]&#39;</span><span class="o">::</span><span class="n">matrix</span><span class="p">);</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="go">┌─────────────────────┬─────────────────────┬───────┐</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="go">│        nrows        │        ncols        │ nvals │</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="go">├─────────────────────┼─────────────────────┼───────┤</span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="go">│ 1152921504606846976 │ 1152921504606846976 │     0 │</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="go">└─────────────────────┴─────────────────────┴───────┘</span>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="go">(1 row)</span>
</span></code></pre></div>
Elements are specified between square brackets are coordinates of
'row_id:column_id:value' separated by spaces:
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="k">select</span><span class="w"> </span><span class="s1">&#39;int32[1:2:1 2:3:2 3:1:3]&#39;</span><span class="o">::</span><span class="n">matrix</span><span class="p">,</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="w">       </span><span class="s1">&#39;int32(4:)[1:2:1 2:3:2 3:1:3]&#39;</span><span class="o">::</span><span class="n">matrix</span><span class="p">,</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="w">       </span><span class="s1">&#39;int32(:4)[1:2:1 2:3:2 3:3:1]&#39;</span><span class="o">::</span><span class="n">matrix</span><span class="p">;</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="go">┌──────────────────────────┬──────────────────────────────┬──────────────────────────────┐</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="go">│          matrix          │            matrix            │            matrix            │</span>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="go">├──────────────────────────┼──────────────────────────────┼──────────────────────────────┤</span>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="go">│ int32[1:2:1 2:3:2 3:1:3] │ int32(4:)[1:2:1 2:3:2 3:1:3] │ int32(:4)[1:2:1 2:3:2 3:3:1] │</span>
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="go">└──────────────────────────┴──────────────────────────────┴──────────────────────────────┘</span>
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="go">(1 row)</span>
</span></code></pre></div></p>
<h1 id="elements">Elements</h1>
<p>All the elements in a matrix can be iterated with the <code>elements()</code>
function:
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">elements</span><span class="p">((</span><span class="k">select</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test_fixture</span><span class="p">));</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="go">┌───┬───┬─────────┐</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="go">│ i │ j │    v    │</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="go">├───┼───┼─────────┤</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="go">│ 0 │ 2 │ int32:0 │</span>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="go">│ 0 │ 3 │ int32:3 │</span>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="go">│ 1 │ 0 │ int32:2 │</span>
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a><span class="go">│ 1 │ 2 │ int32:1 │</span>
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a><span class="go">│ 1 │ 3 │ int32:0 │</span>
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a><span class="go">│ 2 │ 0 │ int32:2 │</span>
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a><span class="go">│ 2 │ 1 │ int32:2 │</span>
</span><span id="__span-16-12"><a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a><span class="go">│ 3 │ 0 │ int32:2 │</span>
</span><span id="__span-16-13"><a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a><span class="go">│ 3 │ 2 │ int32:1 │</span>
</span><span id="__span-16-14"><a id="__codelineno-16-14" name="__codelineno-16-14" href="#__codelineno-16-14"></a><span class="go">└───┴───┴─────────┘</span>
</span><span id="__span-16-15"><a id="__codelineno-16-15" name="__codelineno-16-15" href="#__codelineno-16-15"></a><span class="go">(9 rows)</span>
</span></code></pre></div>
The inverse operation of constructing matrices from rows can be
done with <code>matrix_agg()</code>:
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="k">select</span><span class="w"> </span><span class="n">matrix_agg</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">unbound_matrix</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">generate_series</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="mf">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="go">┌─────────────────────────────────────────────────────────────────────────────┐</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="go">│                               unbound_matrix                                │</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="go">├─────────────────────────────────────────────────────────────────────────────┤</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="go">│ int32[0:0:0 1:1:1 2:2:2 3:3:3 4:4:4 5:5:5 6:6:6 7:7:7 8:8:8 9:9:9 10:10:10] │</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="go">└─────────────────────────────────────────────────────────────────────────────┘</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="go">(1 row)</span>
</span></code></pre></div>
Aggregate matrices are always unbounded so use <code>resize()</code> to bound
the matrix:
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="k">select</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">resize</span><span class="p">(</span><span class="n">matrix_agg</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">),</span><span class="w"> </span><span class="mf">10</span><span class="p">,</span><span class="w"> </span><span class="mf">10</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bound_matrix</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">generate_series</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="mf">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="go">┌──────────────────────────────────────┐</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="go">│             bound_matrix             │</span>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="go">├──────────────────────────────────────┤</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="go">│      0  1  2  3  4  5  6  7  8  9    │</span>
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="go">│    ──────────────────────────────    │</span>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="go">│  0│  0                               │</span>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="go">│  1│     1                            │</span>
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a><span class="go">│  2│        2                         │</span>
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a><span class="go">│  3│           3                      │</span>
</span><span id="__span-18-11"><a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a><span class="go">│  4│              4                   │</span>
</span><span id="__span-18-12"><a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a><span class="go">│  5│                 5                │</span>
</span><span id="__span-18-13"><a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a><span class="go">│  6│                    6             │</span>
</span><span id="__span-18-14"><a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a><span class="go">│  7│                       7          │</span>
</span><span id="__span-18-15"><a id="__codelineno-18-15" name="__codelineno-18-15" href="#__codelineno-18-15"></a><span class="go">│  8│                          8       │</span>
</span><span id="__span-18-16"><a id="__codelineno-18-16" name="__codelineno-18-16" href="#__codelineno-18-16"></a><span class="go">│  9│                             9    │</span>
</span><span id="__span-18-17"><a id="__codelineno-18-17" name="__codelineno-18-17" href="#__codelineno-18-17"></a><span class="go">│                                      │</span>
</span><span id="__span-18-18"><a id="__codelineno-18-18" name="__codelineno-18-18" href="#__codelineno-18-18"></a><span class="go">└──────────────────────────────────────┘</span>
</span><span id="__span-18-19"><a id="__codelineno-18-19" name="__codelineno-18-19" href="#__codelineno-18-19"></a><span class="go">(1 row)</span>
</span></code></pre></div>
Elements can be set individually with <code>set_element</code>, the modified
input is returned:
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="k">select</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">set_element</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">set_element</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test_fixture</span><span class="p">;</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="go">┌────────────────────┐</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="go">│    set_element     │</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="go">├────────────────────┤</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="go">│      0  1  2  3    │</span>
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="go">│    ────────────    │</span>
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="go">│  0│        0  3    │</span>
</span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="go">│  1│  2  1  1  0    │</span>
</span><span id="__span-19-9"><a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a><span class="go">│  2│  2  2          │</span>
</span><span id="__span-19-10"><a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a><span class="go">│  3│  2     1       │</span>
</span><span id="__span-19-11"><a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a><span class="go">│                    │</span>
</span><span id="__span-19-12"><a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a><span class="go">└────────────────────┘</span>
</span><span id="__span-19-13"><a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a><span class="go">(1 row)</span>
</span></code></pre></div>
Scalar elements can be extracted individually with <code>get_element</code>
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="k">select</span><span class="w"> </span><span class="n">get_element</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="p">,</span><span class="w"> </span><span class="mf">2</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">get_element</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test_fixture</span><span class="p">;</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="go">┌─────────────┐</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="go">│ get_element │</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="go">├─────────────┤</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="go">│ int32:1     │</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="go">└─────────────┘</span>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="go">(1 row)</span>
</span></code></pre></div>
If an element does exist <code>get_element</code> will return an "empty"
scalar:
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="k">select</span><span class="w"> </span><span class="n">get_element</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">get_element</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test_fixture</span><span class="p">;</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="go">┌─────────────┐</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="go">│ get_element │</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="go">├─────────────┤</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="go">│ int         │</span>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="go">└─────────────┘</span>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="go">(1 row)</span>
</span></code></pre></div></p>
<h1 id="random-matrices">Random Matrices</h1>
<p><code>random_matrix</code> will generate a random matrix provided the type,
number of rows, number of columns, and the number of (approximate)
values, an optional max value, and an optional random seed for
deterministic generation:
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="gp">select print(random_matrix(8, 8, 16, seed=&gt;</span><span class="mf">0.42</span><span class="p">,</span><span class="w"> </span><span class="n">max</span><span class="o">=&gt;</span><span class="mf">42</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">random_matrix</span><span class="p">;</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="go">┌────────────────────────────────┐</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="go">│         random_matrix          │</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="go">├────────────────────────────────┤</span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="go">│      0  1  2  3  4  5  6  7    │</span>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="go">│    ────────────────────────    │</span>
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="go">│  0│              6 31          │</span>
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="go">│  1│                   12       │</span>
</span><span id="__span-22-9"><a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="go">│  2│    26                      │</span>
</span><span id="__span-22-10"><a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a><span class="go">│  3│                40          │</span>
</span><span id="__span-22-11"><a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a><span class="go">│  4│    11    15           7    │</span>
</span><span id="__span-22-12"><a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a><span class="go">│  5│ 20 12    22        1       │</span>
</span><span id="__span-22-13"><a id="__codelineno-22-13" name="__codelineno-22-13" href="#__codelineno-22-13"></a><span class="go">│  6│              1             │</span>
</span><span id="__span-22-14"><a id="__codelineno-22-14" name="__codelineno-22-14" href="#__codelineno-22-14"></a><span class="go">│  7│       17                   │</span>
</span><span id="__span-22-15"><a id="__codelineno-22-15" name="__codelineno-22-15" href="#__codelineno-22-15"></a><span class="go">│                                │</span>
</span><span id="__span-22-16"><a id="__codelineno-22-16" name="__codelineno-22-16" href="#__codelineno-22-16"></a><span class="go">└────────────────────────────────┘</span>
</span><span id="__span-22-17"><a id="__codelineno-22-17" name="__codelineno-22-17" href="#__codelineno-22-17"></a><span class="go">(1 row)</span>
</span></code></pre></div>
This random matrix is also a random <em>graph</em>:</p>
<div>
<!-- Title: %3 Pages: 1 -->
<svg width="245pt" height="377pt"
 viewBox="0.00 0.00 245.24 377.25" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 373.25)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-373.25 241.24,-373.25 241.24,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<ellipse fill="none" stroke="black" cx="34.24" cy="-357.23" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="34.24" y="-355.33" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 4 -->
<g id="node2" class="node">
<title>4</title>
<ellipse fill="none" stroke="black" cx="135.24" cy="-288.19" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="135.24" y="-286.29" font-family="Times,serif" font-size="8.00">4</text>
</g>
<!-- 0&#45;&gt;4 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;4</title>
<path fill="none" stroke="black" d="M45.44,-348.8C62.35,-337.57 94.65,-316.13 115.55,-302.26"/>
<polygon fill="black" stroke="black" points="117.6,-305.1 124,-296.65 113.73,-299.27 117.6,-305.1"/>
<text text-anchor="middle" x="94.24" y="-320.81" font-family="Times,serif" font-size="8.00">6</text>
</g>
<!-- 5 -->
<g id="node3" class="node">
<title>5</title>
<ellipse fill="none" stroke="black" cx="71.24" cy="-150.1" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="71.24" y="-148.2" font-family="Times,serif" font-size="8.00">5</text>
</g>
<!-- 0&#45;&gt;5 -->
<g id="edge2" class="edge">
<title>0&#45;&gt;5</title>
<path fill="none" stroke="black" d="M27.98,-346.15C17.09,-327.46 -3.73,-285.98 1.24,-249.17 5.5,-217.63 0.71,-205.25 20.24,-180.12 27.28,-171.08 37.98,-164.38 47.77,-159.71"/>
<polygon fill="black" stroke="black" points="49.27,-162.87 57.08,-155.71 46.51,-156.44 49.27,-162.87"/>
<text text-anchor="middle" x="6.74" y="-251.77" font-family="Times,serif" font-size="8.00">31</text>
</g>
<!-- 1 -->
<g id="node4" class="node">
<title>1</title>
<ellipse fill="none" stroke="black" cx="135.24" cy="-81.06" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="135.24" y="-79.16" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 4&#45;&gt;1 -->
<g id="edge6" class="edge">
<title>4&#45;&gt;1</title>
<path fill="none" stroke="black" d="M135.24,-276.16C135.24,-243.46 135.24,-146.65 135.24,-103.38"/>
<polygon fill="black" stroke="black" points="138.74,-103.15 135.24,-93.15 131.74,-103.15 138.74,-103.15"/>
<text text-anchor="middle" x="140.74" y="-182.72" font-family="Times,serif" font-size="8.00">11</text>
</g>
<!-- 3 -->
<g id="node7" class="node">
<title>3</title>
<ellipse fill="none" stroke="black" cx="91.24" cy="-219.15" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="91.24" y="-217.25" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 4&#45;&gt;3 -->
<g id="edge7" class="edge">
<title>4&#45;&gt;3</title>
<path fill="none" stroke="black" d="M126.28,-277.99C121.21,-272.51 114.96,-265.25 110.24,-258.17 106.52,-252.58 103.05,-246.16 100.11,-240.21"/>
<polygon fill="black" stroke="black" points="103.15,-238.43 95.74,-230.86 96.81,-241.4 103.15,-238.43"/>
<text text-anchor="middle" x="115.74" y="-251.77" font-family="Times,serif" font-size="8.00">15</text>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<ellipse fill="none" stroke="black" cx="179.24" cy="-219.15" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="179.24" y="-217.25" font-family="Times,serif" font-size="8.00">7</text>
</g>
<!-- 4&#45;&gt;7 -->
<g id="edge8" class="edge">
<title>4&#45;&gt;7</title>
<path fill="none" stroke="black" d="M141.93,-277.01C148.52,-266.96 158.75,-251.38 166.83,-239.06"/>
<polygon fill="black" stroke="black" points="169.94,-240.7 172.5,-230.42 164.08,-236.86 169.94,-240.7"/>
<text text-anchor="middle" x="163.24" y="-251.77" font-family="Times,serif" font-size="8.00">7</text>
</g>
<!-- 5&#45;&gt;0 -->
<g id="edge9" class="edge">
<title>5&#45;&gt;0</title>
<path fill="none" stroke="black" d="M67.93,-162.06C66.37,-167.46 64.57,-174.1 63.24,-180.12 51.07,-235.59 41.46,-301.9 36.99,-335.1"/>
<polygon fill="black" stroke="black" points="33.52,-334.65 35.67,-345.02 40.45,-335.57 33.52,-334.65"/>
<text text-anchor="middle" x="55.74" y="-251.77" font-family="Times,serif" font-size="8.00">20</text>
</g>
<!-- 5&#45;&gt;1 -->
<g id="edge10" class="edge">
<title>5&#45;&gt;1</title>
<path fill="none" stroke="black" d="M79.87,-140.06C89.93,-129.53 106.77,-111.89 119.24,-98.83"/>
<polygon fill="black" stroke="black" points="121.96,-101.04 126.34,-91.39 116.9,-96.21 121.96,-101.04"/>
<text text-anchor="middle" x="112.74" y="-113.68" font-family="Times,serif" font-size="8.00">12</text>
</g>
<!-- 6 -->
<g id="node5" class="node">
<title>6</title>
<ellipse fill="none" stroke="black" cx="135.24" cy="-12.02" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="135.24" y="-10.12" font-family="Times,serif" font-size="8.00">6</text>
</g>
<!-- 5&#45;&gt;6 -->
<g id="edge12" class="edge">
<title>5&#45;&gt;6</title>
<path fill="none" stroke="black" d="M75.24,-138.31C81.09,-122.77 92.58,-93.29 104.24,-69.04 110.29,-56.46 117.86,-42.75 124.01,-32.03"/>
<polygon fill="black" stroke="black" points="127.17,-33.56 129.17,-23.16 121.12,-30.05 127.17,-33.56"/>
<text text-anchor="middle" x="107.24" y="-79.16" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 5&#45;&gt;3 -->
<g id="edge11" class="edge">
<title>5&#45;&gt;3</title>
<path fill="none" stroke="black" d="M74.52,-162.07C77.37,-171.66 81.6,-185.83 85.09,-197.53"/>
<polygon fill="black" stroke="black" points="81.82,-198.79 88.03,-207.37 88.53,-196.79 81.82,-198.79"/>
<text text-anchor="middle" x="88.74" y="-182.72" font-family="Times,serif" font-size="8.00">22</text>
</g>
<!-- 1&#45;&gt;6 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;6</title>
<path fill="none" stroke="black" d="M135.24,-68.99C135.24,-59.63 135.24,-45.96 135.24,-34.47"/>
<polygon fill="black" stroke="black" points="138.74,-34.33 135.24,-24.33 131.74,-34.33 138.74,-34.33"/>
<text text-anchor="middle" x="140.74" y="-44.64" font-family="Times,serif" font-size="8.00">12</text>
</g>
<!-- 6&#45;&gt;4 -->
<g id="edge13" class="edge">
<title>6&#45;&gt;4</title>
<path fill="none" stroke="black" d="M150.24,-16.18C177.24,-22.84 231.24,-41.03 231.24,-80.06 231.24,-220.15 231.24,-220.15 231.24,-220.15 231.24,-254.91 188.41,-273.14 159.97,-281.42"/>
<polygon fill="black" stroke="black" points="158.99,-278.06 150.24,-284.03 160.81,-284.82 158.99,-278.06"/>
<text text-anchor="middle" x="234.24" y="-148.2" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 2 -->
<g id="node6" class="node">
<title>2</title>
<ellipse fill="none" stroke="black" cx="179.24" cy="-150.1" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="179.24" y="-148.2" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 2&#45;&gt;1 -->
<g id="edge4" class="edge">
<title>2&#45;&gt;1</title>
<path fill="none" stroke="black" d="M172.56,-138.92C165.97,-128.88 155.74,-113.29 147.66,-100.98"/>
<polygon fill="black" stroke="black" points="150.4,-98.78 141.99,-92.34 144.55,-102.62 150.4,-98.78"/>
<text text-anchor="middle" x="165.74" y="-113.68" font-family="Times,serif" font-size="8.00">26</text>
</g>
<!-- 3&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>3&#45;&gt;5</title>
<path fill="none" stroke="black" d="M81.77,-209.46C76.7,-204.15 70.95,-196.9 68.24,-189.12 66.39,-183.79 66.1,-177.79 66.54,-172.16"/>
<polygon fill="black" stroke="black" points="70.04,-172.47 68.08,-162.06 63.12,-171.42 70.04,-172.47"/>
<text text-anchor="middle" x="73.74" y="-182.72" font-family="Times,serif" font-size="8.00">40</text>
</g>
<!-- 7&#45;&gt;2 -->
<g id="edge14" class="edge">
<title>7&#45;&gt;2</title>
<path fill="none" stroke="black" d="M179.24,-207.08C179.24,-197.72 179.24,-184.04 179.24,-172.55"/>
<polygon fill="black" stroke="black" points="182.74,-172.42 179.24,-162.42 175.74,-172.42 182.74,-172.42"/>
<text text-anchor="middle" x="184.74" y="-182.72" font-family="Times,serif" font-size="8.00">17</text>
</g>
</g>
</svg>
</div>

<p>One way of thinking about a "dense" matrix is a fully connected
graph, these can be constructed with the <code>dense_matrix()</code> function:
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="k">select</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">dense_matrix</span><span class="p">(</span><span class="s1">&#39;int32&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">4</span><span class="p">,</span><span class="w"> </span><span class="mf">4</span><span class="p">,</span><span class="w"> </span><span class="mf">42</span><span class="p">));</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="go">┌────────────────────┐</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="go">│       print        │</span>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="go">├────────────────────┤</span>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="go">│      0  1  2  3    │</span>
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="go">│    ────────────    │</span>
</span><span id="__span-23-7"><a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="go">│  0│ 42 42 42 42    │</span>
</span><span id="__span-23-8"><a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a><span class="go">│  1│ 42 42 42 42    │</span>
</span><span id="__span-23-9"><a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a><span class="go">│  2│ 42 42 42 42    │</span>
</span><span id="__span-23-10"><a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a><span class="go">│  3│ 42 42 42 42    │</span>
</span><span id="__span-23-11"><a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a><span class="go">│                    │</span>
</span><span id="__span-23-12"><a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a><span class="go">└────────────────────┘</span>
</span><span id="__span-23-13"><a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a><span class="go">(1 row)</span>
</span></code></pre></div></p>
<div>
<!-- Title: %3 Pages: 1 -->
<svg width="215pt" height="239pt"
 viewBox="0.00 0.00 215.49 239.17" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 235.17)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-235.17 211.49,-235.17 211.49,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<ellipse fill="none" stroke="black" cx="151.49" cy="-219.15" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="151.49" y="-217.25" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 0&#45;&gt;0 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;0</title>
<path fill="none" stroke="black" d="M165.28,-224.83C175.19,-226.69 185.05,-224.79 185.05,-219.15 185.05,-215.53 181,-213.45 175.49,-212.91"/>
<polygon fill="black" stroke="black" points="175.08,-209.43 165.28,-213.46 175.45,-216.42 175.08,-209.43"/>
<text text-anchor="middle" x="190.55" y="-217.25" font-family="Times,serif" font-size="8.00">42</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<ellipse fill="none" stroke="black" cx="47.49" cy="-150.1" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="47.49" y="-148.2" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge2" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="black" d="M136.1,-216.76C117.09,-214.29 84.79,-207.51 64.49,-189.12 59.48,-184.58 55.86,-178.29 53.29,-172.12"/>
<polygon fill="black" stroke="black" points="56.44,-170.52 49.88,-162.2 49.82,-172.8 56.44,-170.52"/>
<text text-anchor="middle" x="69.99" y="-182.72" font-family="Times,serif" font-size="8.00">42</text>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<ellipse fill="none" stroke="black" cx="115.49" cy="-12.02" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="115.49" y="-10.12" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 0&#45;&gt;2 -->
<g id="edge3" class="edge">
<title>0&#45;&gt;2</title>
<path fill="none" stroke="black" d="M158.51,-208.18C161.9,-202.8 165.62,-195.89 167.49,-189.12 181.75,-137.69 189.47,-118.54 169.49,-69.04 162.51,-51.74 147.34,-36.8 134.86,-26.71"/>
<polygon fill="black" stroke="black" points="136.84,-23.82 126.77,-20.53 132.59,-29.38 136.84,-23.82"/>
<text text-anchor="middle" x="186.99" y="-113.68" font-family="Times,serif" font-size="8.00">42</text>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<ellipse fill="none" stroke="black" cx="115.49" cy="-81.06" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="115.49" y="-79.16" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 0&#45;&gt;3 -->
<g id="edge4" class="edge">
<title>0&#45;&gt;3</title>
<path fill="none" stroke="black" d="M152.87,-206.93C154.85,-186.77 156.84,-143.49 142.49,-111.08 140.29,-106.1 136.86,-101.42 133.18,-97.33"/>
<polygon fill="black" stroke="black" points="135.62,-94.82 126.05,-90.29 130.7,-99.8 135.62,-94.82"/>
<text text-anchor="middle" x="158.99" y="-148.2" font-family="Times,serif" font-size="8.00">42</text>
</g>
<!-- 1&#45;&gt;0 -->
<g id="edge5" class="edge">
<title>1&#45;&gt;0</title>
<path fill="none" stroke="black" d="M58.54,-158.85C69.75,-166.66 87.67,-178.98 103.49,-189.12 112.4,-194.84 122.4,-200.93 130.95,-206.05"/>
<polygon fill="black" stroke="black" points="129.17,-209.06 139.55,-211.16 132.74,-203.04 129.17,-209.06"/>
<text text-anchor="middle" x="108.99" y="-182.72" font-family="Times,serif" font-size="8.00">42</text>
</g>
<!-- 1&#45;&gt;1 -->
<g id="edge6" class="edge">
<title>1&#45;&gt;1</title>
<path fill="none" stroke="black" d="M61.28,-155.79C71.19,-157.64 81.05,-155.75 81.05,-150.1 81.05,-146.49 77,-144.41 71.49,-143.87"/>
<polygon fill="black" stroke="black" points="71.08,-140.39 61.28,-144.42 71.45,-147.38 71.08,-140.39"/>
<text text-anchor="middle" x="86.55" y="-148.2" font-family="Times,serif" font-size="8.00">42</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge7" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="black" d="M38.78,-139.94C33.59,-134.34 26.97,-126.97 21.49,-120.08 6.43,-101.14 -4.81,-92.12 2.49,-69.04 6.92,-55.05 9.62,-50.67 21.49,-42.04 41.87,-27.23 69.97,-19.85 90.13,-16.26"/>
<polygon fill="black" stroke="black" points="90.81,-19.7 100.14,-14.67 89.71,-12.78 90.81,-19.7"/>
<text text-anchor="middle" x="7.99" y="-79.16" font-family="Times,serif" font-size="8.00">42</text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge8" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="black" d="M57.56,-140.73C64.22,-135.07 73.07,-127.34 80.49,-120.08 87.26,-113.47 94.39,-105.85 100.44,-99.18"/>
<polygon fill="black" stroke="black" points="103.36,-101.17 107.41,-91.38 98.14,-96.5 103.36,-101.17"/>
<text text-anchor="middle" x="93.99" y="-113.68" font-family="Times,serif" font-size="8.00">42</text>
</g>
<!-- 2&#45;&gt;0 -->
<g id="edge9" class="edge">
<title>2&#45;&gt;0</title>
<path fill="none" stroke="black" d="M129.19,-18.43C140.58,-23.4 156.76,-31.56 168.49,-42.04 193.18,-64.11 193.01,-78.15 196.49,-111.08 200.2,-146.13 201.51,-159.46 182.49,-189.12 179.08,-194.45 174.47,-199.47 169.85,-203.79"/>
<polygon fill="black" stroke="black" points="167.56,-201.14 162.27,-210.32 172.13,-206.44 167.56,-201.14"/>
<text text-anchor="middle" x="201.99" y="-113.68" font-family="Times,serif" font-size="8.00">42</text>
</g>
<!-- 2&#45;&gt;1 -->
<g id="edge10" class="edge">
<title>2&#45;&gt;1</title>
<path fill="none" stroke="black" d="M108.23,-22.76C95.91,-39.78 70.93,-76.41 57.49,-111.08 55.42,-116.44 53.63,-122.37 52.16,-127.94"/>
<polygon fill="black" stroke="black" points="48.7,-127.37 49.74,-137.91 55.5,-129.02 48.7,-127.37"/>
<text text-anchor="middle" x="83.99" y="-79.16" font-family="Times,serif" font-size="8.00">42</text>
</g>
<!-- 2&#45;&gt;2 -->
<g id="edge11" class="edge">
<title>2&#45;&gt;2</title>
<path fill="none" stroke="black" d="M129.28,-17.71C139.19,-19.56 149.05,-17.67 149.05,-12.02 149.05,-8.4 145,-6.33 139.49,-5.79"/>
<polygon fill="black" stroke="black" points="139.08,-2.3 129.28,-6.33 139.45,-9.29 139.08,-2.3"/>
<text text-anchor="middle" x="154.55" y="-10.12" font-family="Times,serif" font-size="8.00">42</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge12" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="black" d="M115.49,-24.33C115.49,-33.76 115.49,-47.46 115.49,-58.91"/>
<polygon fill="black" stroke="black" points="111.99,-58.99 115.49,-68.99 118.99,-58.99 111.99,-58.99"/>
<text text-anchor="middle" x="120.99" y="-44.64" font-family="Times,serif" font-size="8.00">42</text>
</g>
<!-- 3&#45;&gt;0 -->
<g id="edge13" class="edge">
<title>3&#45;&gt;0</title>
<path fill="none" stroke="black" d="M118.1,-92.97C121.81,-108.41 128.9,-137.49 135.49,-162.12 138.6,-173.73 142.27,-186.62 145.31,-197.11"/>
<polygon fill="black" stroke="black" points="142.04,-198.4 148.2,-207.02 148.76,-196.44 142.04,-198.4"/>
<text text-anchor="middle" x="140.99" y="-148.2" font-family="Times,serif" font-size="8.00">42</text>
</g>
<!-- 3&#45;&gt;1 -->
<g id="edge14" class="edge">
<title>3&#45;&gt;1</title>
<path fill="none" stroke="black" d="M102.35,-87.6C91.88,-92.53 77.38,-100.59 67.49,-111.08 62.66,-116.21 58.67,-122.74 55.56,-128.93"/>
<polygon fill="black" stroke="black" points="52.33,-127.57 51.4,-138.13 58.71,-130.46 52.33,-127.57"/>
<text text-anchor="middle" x="72.99" y="-113.68" font-family="Times,serif" font-size="8.00">42</text>
</g>
<!-- 3&#45;&gt;2 -->
<g id="edge15" class="edge">
<title>3&#45;&gt;2</title>
<path fill="none" stroke="black" d="M108.01,-70.3C103.13,-62.76 98.08,-51.97 100.49,-42.04 101.31,-38.68 102.59,-35.27 104.07,-32.03"/>
<polygon fill="black" stroke="black" points="107.25,-33.5 108.81,-23.02 101.05,-30.24 107.25,-33.5"/>
<text text-anchor="middle" x="105.99" y="-44.64" font-family="Times,serif" font-size="8.00">42</text>
</g>
<!-- 3&#45;&gt;3 -->
<g id="edge16" class="edge">
<title>3&#45;&gt;3</title>
<path fill="none" stroke="black" d="M129.28,-86.75C139.19,-88.6 149.05,-86.71 149.05,-81.06 149.05,-77.45 145,-75.37 139.49,-74.83"/>
<polygon fill="black" stroke="black" points="139.08,-71.35 129.28,-75.37 139.45,-78.34 139.08,-71.35"/>
<text text-anchor="middle" x="154.55" y="-79.16" font-family="Times,serif" font-size="8.00">42</text>
</g>
</g>
</svg>
</div>

<h1 id="elementwise-addition">Elementwise Addition</h1>
<p>The GraphBLAS API has elementwise operations on matrices that
operate pairs of matrices.  <code>eadd</code> computes the element-wise
“addition” of two matrices a and b, element-wise using any binary
operator.  Elements present on both sides of the operation are
included in the result.
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="k">select</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">binaryop</span><span class="p">,</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">eadd</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">binaryop</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">eadd</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test_fixture</span><span class="p">;</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="go">┌────────────────────┬─────────────┬────────────────────┬────────────────────┐</span>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="go">│         a          │  binaryop   │         b          │        eadd        │</span>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="go">├────────────────────┼─────────────┼────────────────────┼────────────────────┤</span>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="go">│      0  1  2  3    │ times_int32 │      0  1  2  3    │      0  1  2  3    │</span>
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="go">│    ────────────    │             │    ────────────    │    ────────────    │</span>
</span><span id="__span-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="go">│  0│        0  3    │             │  0│           4    │  0│        0 12    │</span>
</span><span id="__span-24-8"><a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="go">│  1│  2     1  0    │             │  1│        3  1    │  1│  2     3  0    │</span>
</span><span id="__span-24-9"><a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a><span class="go">│  2│  2  2          │             │  2│     2     4    │  2│  2  4     4    │</span>
</span><span id="__span-24-10"><a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="go">│  3│  2     1       │             │  3│     0  2       │  3│  2  0  2       │</span>
</span><span id="__span-24-11"><a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a><span class="go">│                    │             │                    │                    │</span>
</span><span id="__span-24-12"><a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a><span class="go">└────────────────────┴─────────────┴────────────────────┴────────────────────┘</span>
</span><span id="__span-24-13"><a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a><span class="go">(1 row)</span>
</span></code></pre></div>
From a graph standpoint, elementwise addition can be seen as the
merging ("union") of two graphs, such that the result has edges
from both graphs.  Any edges that occur in both graphs are merged
with the provided binary operator.</p>
<table style="width: 100%; table-layout: fixed;" class="dot-table">
  <tr>
    <td style="width: 30%;">
        <!-- Diagram A -->
<div>
<!-- Title: %3 Pages: 1 -->
<svg width="153pt" height="239pt"
 viewBox="0.00 0.00 153.31 239.17" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 235.17)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-235.17 149.31,-235.17 149.31,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<ellipse fill="none" stroke="black" cx="69.76" cy="-219.15" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="69.76" y="-217.25" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 2 -->
<g id="node2" class="node">
<title>2</title>
<ellipse fill="none" stroke="black" cx="98.76" cy="-150.1" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="98.76" y="-148.2" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 0&#45;&gt;2 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;2</title>
<path fill="none" stroke="black" d="M69.21,-207.05C69.22,-199.23 70.07,-188.65 73.76,-180.12 75.71,-175.61 78.62,-171.28 81.78,-167.4"/>
<polygon fill="black" stroke="black" points="84.61,-169.49 88.79,-159.75 79.45,-164.76 84.61,-169.49"/>
<text text-anchor="middle" x="76.76" y="-182.72" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 3 -->
<g id="node3" class="node">
<title>3</title>
<ellipse fill="none" stroke="black" cx="51.76" cy="-12.02" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="51.76" y="-10.12" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 0&#45;&gt;3 -->
<g id="edge2" class="edge">
<title>0&#45;&gt;3</title>
<path fill="none" stroke="black" d="M55.27,-214.33C42.6,-210.23 24.72,-202.43 14.76,-189.12 -4.01,-164.06 3.88,-151.24 0.76,-120.08 -2.27,-89.91 10.52,-48.91 14.76,-42.04 18.79,-35.51 24.85,-29.86 30.91,-25.32"/>
<polygon fill="black" stroke="black" points="33.21,-27.99 39.55,-19.51 29.3,-22.19 33.21,-27.99"/>
<text text-anchor="middle" x="3.76" y="-113.68" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 2&#45;&gt;0 -->
<g id="edge6" class="edge">
<title>2&#45;&gt;0</title>
<path fill="none" stroke="black" d="M94.2,-161.63C89.99,-171.38 83.6,-186.13 78.42,-198.12"/>
<polygon fill="black" stroke="black" points="75.17,-196.81 74.42,-207.37 81.6,-199.59 75.17,-196.81"/>
<text text-anchor="middle" x="89.76" y="-182.72" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 1 -->
<g id="node4" class="node">
<title>1</title>
<ellipse fill="none" stroke="black" cx="129.76" cy="-81.06" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="129.76" y="-79.16" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 2&#45;&gt;1 -->
<g id="edge7" class="edge">
<title>2&#45;&gt;1</title>
<path fill="none" stroke="black" d="M101.77,-138.2C104.08,-130.45 107.58,-119.91 111.76,-111.08 113.43,-107.55 115.43,-103.92 117.49,-100.47"/>
<polygon fill="black" stroke="black" points="120.48,-102.28 122.85,-91.95 114.56,-98.55 120.48,-102.28"/>
<text text-anchor="middle" x="114.76" y="-113.68" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 3&#45;&gt;0 -->
<g id="edge8" class="edge">
<title>3&#45;&gt;0</title>
<path fill="none" stroke="black" d="M52.73,-24.1C55.6,-56.87 64.1,-153.69 67.89,-196.9"/>
<polygon fill="black" stroke="black" points="64.43,-197.46 68.79,-207.12 71.4,-196.85 64.43,-197.46"/>
<text text-anchor="middle" x="64.76" y="-113.68" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 3&#45;&gt;2 -->
<g id="edge9" class="edge">
<title>3&#45;&gt;2</title>
<path fill="none" stroke="black" d="M55.56,-24.03C63.45,-46.86 81.69,-99.69 91.76,-128.85"/>
<polygon fill="black" stroke="black" points="88.5,-130.12 95.07,-138.43 95.11,-127.83 88.5,-130.12"/>
<text text-anchor="middle" x="82.76" y="-79.16" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 1&#45;&gt;0 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;0</title>
<path fill="none" stroke="black" d="M131.33,-93.05C133.1,-109.08 134.51,-139.45 123.76,-162.12 115.76,-178.98 100.68,-193.96 88.48,-204.18"/>
<polygon fill="black" stroke="black" points="86.25,-201.48 80.61,-210.45 90.61,-206.95 86.25,-201.48"/>
<text text-anchor="middle" x="132.76" y="-148.2" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="black" d="M125.91,-92.87C123.08,-100.57 118.99,-111.09 114.76,-120.08 113.26,-123.26 111.57,-126.57 109.86,-129.77"/>
<polygon fill="black" stroke="black" points="106.65,-128.35 104.86,-138.79 112.77,-131.74 106.65,-128.35"/>
<text text-anchor="middle" x="121.76" y="-113.68" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge5" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="black" d="M120.51,-71.08C112.33,-63.23 99.98,-51.62 88.76,-42.04 82.92,-37.06 76.37,-31.82 70.43,-27.18"/>
<polygon fill="black" stroke="black" points="72.37,-24.26 62.31,-20.93 68.09,-29.8 72.37,-24.26"/>
<text text-anchor="middle" x="101.76" y="-44.64" font-family="Times,serif" font-size="8.00">0</text>
</g>
</g>
</svg>
</div>

    </td>
    <td style="font-size: 30px; vertical-align: middle;">op</td>
    <td style="width: 30%;">
        <!-- Diagram B -->
<div>
<!-- Title: %3 Pages: 1 -->
<svg width="105pt" height="239pt"
 viewBox="0.00 0.00 104.56 239.17" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 235.17)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-235.17 100.56,-235.17 100.56,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<ellipse fill="none" stroke="black" cx="56.56" cy="-219.15" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="56.56" y="-217.25" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 3 -->
<g id="node2" class="node">
<title>3</title>
<ellipse fill="none" stroke="black" cx="56.56" cy="-150.1" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="56.56" y="-148.2" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 0&#45;&gt;3 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;3</title>
<path fill="none" stroke="black" d="M56.56,-207.08C56.56,-197.72 56.56,-184.04 56.56,-172.55"/>
<polygon fill="black" stroke="black" points="60.06,-172.42 56.56,-162.42 53.06,-172.42 60.06,-172.42"/>
<text text-anchor="middle" x="59.56" y="-182.72" font-family="Times,serif" font-size="8.00">4</text>
</g>
<!-- 1 -->
<g id="node3" class="node">
<title>1</title>
<ellipse fill="none" stroke="black" cx="15.56" cy="-81.06" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="15.56" y="-79.16" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 3&#45;&gt;1 -->
<g id="edge6" class="edge">
<title>3&#45;&gt;1</title>
<path fill="none" stroke="black" d="M45.16,-141.51C38.19,-136.28 29.67,-128.74 24.56,-120.08 21.61,-115.1 19.63,-109.22 18.3,-103.58"/>
<polygon fill="black" stroke="black" points="21.68,-102.59 16.45,-93.37 14.79,-103.83 21.68,-102.59"/>
<text text-anchor="middle" x="27.56" y="-113.68" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 2 -->
<g id="node4" class="node">
<title>2</title>
<ellipse fill="none" stroke="black" cx="56.56" cy="-12.02" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="56.56" y="-10.12" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 3&#45;&gt;2 -->
<g id="edge7" class="edge">
<title>3&#45;&gt;2</title>
<path fill="none" stroke="black" d="M56.56,-137.97C56.56,-115.34 56.56,-63.66 56.56,-34.34"/>
<polygon fill="black" stroke="black" points="60.06,-34.31 56.56,-24.31 53.06,-34.31 60.06,-34.31"/>
<text text-anchor="middle" x="59.56" y="-79.16" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="black" d="M21.84,-92.34C28,-102.42 37.54,-118.01 45.06,-130.31"/>
<polygon fill="black" stroke="black" points="42.13,-132.22 50.33,-138.92 48.1,-128.56 42.13,-132.22"/>
<text text-anchor="middle" x="41.56" y="-113.68" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="black" d="M14.9,-68.72C14.93,-60.78 15.99,-50.17 20.56,-42.04 24.2,-35.55 29.93,-29.96 35.75,-25.46"/>
<polygon fill="black" stroke="black" points="37.88,-28.24 44.12,-19.68 33.9,-22.48 37.88,-28.24"/>
<text text-anchor="middle" x="23.56" y="-44.64" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge5" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="black" d="M66.58,-21.3C72.15,-26.58 78.55,-33.94 81.56,-42.04 93.63,-74.56 93.63,-87.57 81.56,-120.08 79.77,-124.9 76.79,-129.44 73.49,-133.45"/>
<polygon fill="black" stroke="black" points="70.87,-131.14 66.58,-140.82 75.97,-135.92 70.87,-131.14"/>
<text text-anchor="middle" x="93.56" y="-79.16" font-family="Times,serif" font-size="8.00">4</text>
</g>
<!-- 2&#45;&gt;1 -->
<g id="edge4" class="edge">
<title>2&#45;&gt;1</title>
<path fill="none" stroke="black" d="M50.27,-23.3C44.11,-33.38 34.57,-48.97 27.05,-61.27"/>
<polygon fill="black" stroke="black" points="24.01,-59.52 21.78,-69.88 29.99,-63.18 24.01,-59.52"/>
<text text-anchor="middle" x="41.56" y="-44.64" font-family="Times,serif" font-size="8.00">2</text>
</g>
</g>
</svg>
</div>

    </td>
    <td style="font-size: 30px; vertical-align: middle;">=</td>
    <td style="width: 30%;">
        <!-- Diagram C -->
<div>
<!-- Title: %3 Pages: 1 -->
<svg width="115pt" height="239pt"
 viewBox="0.00 0.00 114.56 239.17" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 235.17)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-235.17 110.56,-235.17 110.56,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<ellipse fill="none" stroke="black" cx="67.56" cy="-219.15" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="67.56" y="-217.25" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 2 -->
<g id="node2" class="node">
<title>2</title>
<ellipse fill="none" stroke="black" cx="15.56" cy="-150.1" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="15.56" y="-148.2" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 0&#45;&gt;2 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;2</title>
<path fill="none" stroke="black" d="M60.11,-208.54C52.07,-198.19 39.11,-181.48 29.24,-168.74"/>
<polygon fill="black" stroke="black" points="31.89,-166.45 22.99,-160.69 26.36,-170.74 31.89,-166.45"/>
<text text-anchor="middle" x="48.56" y="-182.72" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 3 -->
<g id="node3" class="node">
<title>3</title>
<ellipse fill="none" stroke="black" cx="45.56" cy="-12.02" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="45.56" y="-10.12" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 0&#45;&gt;3 -->
<g id="edge2" class="edge">
<title>0&#45;&gt;3</title>
<path fill="none" stroke="black" d="M71.77,-207.3C73.64,-201.93 75.62,-195.28 76.56,-189.12 77.16,-185.17 76.65,-184.12 76.56,-180.12 75.44,-130.72 83.29,-117.05 71.56,-69.04 68.43,-56.25 62.32,-42.85 56.81,-32.36"/>
<polygon fill="black" stroke="black" points="59.72,-30.38 51.83,-23.31 53.59,-33.76 59.72,-30.38"/>
<text text-anchor="middle" x="84.06" y="-113.68" font-family="Times,serif" font-size="8.00">12</text>
</g>
<!-- 2&#45;&gt;0 -->
<g id="edge6" class="edge">
<title>2&#45;&gt;0</title>
<path fill="none" stroke="black" d="M17.52,-162.25C19.36,-170.3 22.72,-181.12 28.56,-189.12 33.34,-195.69 40.04,-201.42 46.54,-206.01"/>
<polygon fill="black" stroke="black" points="44.79,-209.05 55.08,-211.55 48.59,-203.17 44.79,-209.05"/>
<text text-anchor="middle" x="31.56" y="-182.72" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge8" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="black" d="M13.8,-138C11.71,-122.33 9.25,-92.97 15.56,-69.04 19.09,-55.65 26.37,-41.91 32.88,-31.4"/>
<polygon fill="black" stroke="black" points="35.99,-33.04 38.5,-22.75 30.12,-29.22 35.99,-33.04"/>
<text text-anchor="middle" x="18.56" y="-79.16" font-family="Times,serif" font-size="8.00">4</text>
</g>
<!-- 1 -->
<g id="node4" class="node">
<title>1</title>
<ellipse fill="none" stroke="black" cx="46.56" cy="-81.06" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="46.56" y="-79.16" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 2&#45;&gt;1 -->
<g id="edge7" class="edge">
<title>2&#45;&gt;1</title>
<path fill="none" stroke="black" d="M15.71,-137.99C16.2,-130.15 17.62,-119.57 21.56,-111.08 23.62,-106.62 26.59,-102.31 29.75,-98.44"/>
<polygon fill="black" stroke="black" points="32.59,-100.53 36.74,-90.78 27.41,-95.81 32.59,-100.53"/>
<text text-anchor="middle" x="24.56" y="-113.68" font-family="Times,serif" font-size="8.00">4</text>
</g>
<!-- 3&#45;&gt;0 -->
<g id="edge9" class="edge">
<title>3&#45;&gt;0</title>
<path fill="none" stroke="black" d="M56.51,-20.9C63.3,-26.24 71.79,-33.81 77.56,-42.04 84.98,-52.66 85.32,-56.5 88.56,-69.04 101.9,-120.73 110.36,-139.16 91.56,-189.12 89.85,-193.65 87.13,-197.99 84.12,-201.86"/>
<polygon fill="black" stroke="black" points="81.35,-199.7 77.35,-209.51 86.6,-204.34 81.35,-199.7"/>
<text text-anchor="middle" x="103.56" y="-113.68" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 3&#45;&gt;2 -->
<g id="edge11" class="edge">
<title>3&#45;&gt;2</title>
<path fill="none" stroke="black" d="M35.34,-21.65C24.42,-31.68 7.94,-49.41 2.56,-69.04 -2.94,-89.09 2.23,-112.65 7.59,-129"/>
<polygon fill="black" stroke="black" points="4.36,-130.36 11.03,-138.59 10.95,-127.99 4.36,-130.36"/>
<text text-anchor="middle" x="5.56" y="-79.16" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 3&#45;&gt;1 -->
<g id="edge10" class="edge">
<title>3&#45;&gt;1</title>
<path fill="none" stroke="black" d="M45.73,-24.33C45.87,-33.76 46.07,-47.46 46.24,-58.91"/>
<polygon fill="black" stroke="black" points="42.74,-59.05 46.39,-68.99 49.74,-58.94 42.74,-59.05"/>
<text text-anchor="middle" x="49.56" y="-44.64" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 1&#45;&gt;0 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;0</title>
<path fill="none" stroke="black" d="M48.3,-93.35C51.81,-116.11 59.79,-167.81 64.3,-197.02"/>
<polygon fill="black" stroke="black" points="60.85,-197.66 65.84,-207.01 67.77,-196.59 60.85,-197.66"/>
<text text-anchor="middle" x="62.56" y="-148.2" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="black" d="M41.64,-92.69C37.1,-102.52 30.22,-117.39 24.67,-129.39"/>
<polygon fill="black" stroke="black" points="21.42,-128.08 20.4,-138.63 27.77,-131.02 21.42,-128.08"/>
<text text-anchor="middle" x="36.56" y="-113.68" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge5" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="black" d="M41.53,-69.58C39.21,-64.18 36.72,-57.4 35.56,-51.04 34.48,-45.17 35.31,-38.87 36.86,-33.12"/>
<polygon fill="black" stroke="black" points="40.2,-34.17 40.2,-23.58 33.6,-31.86 40.2,-34.17"/>
<text text-anchor="middle" x="38.56" y="-44.64" font-family="Times,serif" font-size="8.00">0</text>
</g>
</g>
</svg>
</div>

    </td>
  </tr>
</table>
<h1 id="elementwise-multiplication">Elementwise Multiplication</h1>
<p><code>emult</code> multiplies elements of two matrices, taking only the
intersection of common elements in both matrices, if an element is
missing from either the left or right side, it is ommited from the
result:
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="k">select</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">binaryop</span><span class="p">,</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">emult</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">binaryop</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">emult</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test_fixture</span><span class="p">;</span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="go">┌────────────────────┬─────────────┬────────────────────┬────────────────────┐</span>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="go">│         a          │  binaryop   │         b          │       emult        │</span>
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="go">├────────────────────┼─────────────┼────────────────────┼────────────────────┤</span>
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="go">│      0  1  2  3    │ times_int32 │      0  1  2  3    │      0  1  2  3    │</span>
</span><span id="__span-25-6"><a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="go">│    ────────────    │             │    ────────────    │    ────────────    │</span>
</span><span id="__span-25-7"><a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a><span class="go">│  0│        0  3    │             │  0│           4    │  0│          12    │</span>
</span><span id="__span-25-8"><a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a><span class="go">│  1│  2     1  0    │             │  1│        3  1    │  1│        3  0    │</span>
</span><span id="__span-25-9"><a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a><span class="go">│  2│  2  2          │             │  2│     2     4    │  2│     4          │</span>
</span><span id="__span-25-10"><a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a><span class="go">│  3│  2     1       │             │  3│     0  2       │  3│        2       │</span>
</span><span id="__span-25-11"><a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a><span class="go">│                    │             │                    │                    │</span>
</span><span id="__span-25-12"><a id="__codelineno-25-12" name="__codelineno-25-12" href="#__codelineno-25-12"></a><span class="go">└────────────────────┴─────────────┴────────────────────┴────────────────────┘</span>
</span><span id="__span-25-13"><a id="__codelineno-25-13" name="__codelineno-25-13" href="#__codelineno-25-13"></a><span class="go">(1 row)</span>
</span></code></pre></div>
From a graph standpoint, elementwise multiplication can be seen as
the intersection of two graphs, such that the result has edges that
are only present in both graphs.  The edges are combined with the
provided binary operator.</p>
<table style="width: 100%; table-layout: fixed;" class="dot-table">
  <tr>
    <td style="width: 30%;">
        <!-- Diagram A -->
<div>
<!-- Title: %3 Pages: 1 -->
<svg width="153pt" height="239pt"
 viewBox="0.00 0.00 153.31 239.17" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 235.17)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-235.17 149.31,-235.17 149.31,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<ellipse fill="none" stroke="black" cx="69.76" cy="-219.15" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="69.76" y="-217.25" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 2 -->
<g id="node2" class="node">
<title>2</title>
<ellipse fill="none" stroke="black" cx="98.76" cy="-150.1" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="98.76" y="-148.2" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 0&#45;&gt;2 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;2</title>
<path fill="none" stroke="black" d="M69.21,-207.05C69.22,-199.23 70.07,-188.65 73.76,-180.12 75.71,-175.61 78.62,-171.28 81.78,-167.4"/>
<polygon fill="black" stroke="black" points="84.61,-169.49 88.79,-159.75 79.45,-164.76 84.61,-169.49"/>
<text text-anchor="middle" x="76.76" y="-182.72" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 3 -->
<g id="node3" class="node">
<title>3</title>
<ellipse fill="none" stroke="black" cx="51.76" cy="-12.02" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="51.76" y="-10.12" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 0&#45;&gt;3 -->
<g id="edge2" class="edge">
<title>0&#45;&gt;3</title>
<path fill="none" stroke="black" d="M55.27,-214.33C42.6,-210.23 24.72,-202.43 14.76,-189.12 -4.01,-164.06 3.88,-151.24 0.76,-120.08 -2.27,-89.91 10.52,-48.91 14.76,-42.04 18.79,-35.51 24.85,-29.86 30.91,-25.32"/>
<polygon fill="black" stroke="black" points="33.21,-27.99 39.55,-19.51 29.3,-22.19 33.21,-27.99"/>
<text text-anchor="middle" x="3.76" y="-113.68" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 2&#45;&gt;0 -->
<g id="edge6" class="edge">
<title>2&#45;&gt;0</title>
<path fill="none" stroke="black" d="M94.2,-161.63C89.99,-171.38 83.6,-186.13 78.42,-198.12"/>
<polygon fill="black" stroke="black" points="75.17,-196.81 74.42,-207.37 81.6,-199.59 75.17,-196.81"/>
<text text-anchor="middle" x="89.76" y="-182.72" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 1 -->
<g id="node4" class="node">
<title>1</title>
<ellipse fill="none" stroke="black" cx="129.76" cy="-81.06" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="129.76" y="-79.16" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 2&#45;&gt;1 -->
<g id="edge7" class="edge">
<title>2&#45;&gt;1</title>
<path fill="none" stroke="black" d="M101.77,-138.2C104.08,-130.45 107.58,-119.91 111.76,-111.08 113.43,-107.55 115.43,-103.92 117.49,-100.47"/>
<polygon fill="black" stroke="black" points="120.48,-102.28 122.85,-91.95 114.56,-98.55 120.48,-102.28"/>
<text text-anchor="middle" x="114.76" y="-113.68" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 3&#45;&gt;0 -->
<g id="edge8" class="edge">
<title>3&#45;&gt;0</title>
<path fill="none" stroke="black" d="M52.73,-24.1C55.6,-56.87 64.1,-153.69 67.89,-196.9"/>
<polygon fill="black" stroke="black" points="64.43,-197.46 68.79,-207.12 71.4,-196.85 64.43,-197.46"/>
<text text-anchor="middle" x="64.76" y="-113.68" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 3&#45;&gt;2 -->
<g id="edge9" class="edge">
<title>3&#45;&gt;2</title>
<path fill="none" stroke="black" d="M55.56,-24.03C63.45,-46.86 81.69,-99.69 91.76,-128.85"/>
<polygon fill="black" stroke="black" points="88.5,-130.12 95.07,-138.43 95.11,-127.83 88.5,-130.12"/>
<text text-anchor="middle" x="82.76" y="-79.16" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 1&#45;&gt;0 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;0</title>
<path fill="none" stroke="black" d="M131.33,-93.05C133.1,-109.08 134.51,-139.45 123.76,-162.12 115.76,-178.98 100.68,-193.96 88.48,-204.18"/>
<polygon fill="black" stroke="black" points="86.25,-201.48 80.61,-210.45 90.61,-206.95 86.25,-201.48"/>
<text text-anchor="middle" x="132.76" y="-148.2" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="black" d="M125.91,-92.87C123.08,-100.57 118.99,-111.09 114.76,-120.08 113.26,-123.26 111.57,-126.57 109.86,-129.77"/>
<polygon fill="black" stroke="black" points="106.65,-128.35 104.86,-138.79 112.77,-131.74 106.65,-128.35"/>
<text text-anchor="middle" x="121.76" y="-113.68" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge5" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="black" d="M120.51,-71.08C112.33,-63.23 99.98,-51.62 88.76,-42.04 82.92,-37.06 76.37,-31.82 70.43,-27.18"/>
<polygon fill="black" stroke="black" points="72.37,-24.26 62.31,-20.93 68.09,-29.8 72.37,-24.26"/>
<text text-anchor="middle" x="101.76" y="-44.64" font-family="Times,serif" font-size="8.00">0</text>
</g>
</g>
</svg>
</div>

    </td>
    <td style="font-size: 30px; vertical-align: middle;">op</td>
    <td style="width: 30%;">
        <!-- Diagram B -->
<div>
<!-- Title: %3 Pages: 1 -->
<svg width="105pt" height="239pt"
 viewBox="0.00 0.00 104.56 239.17" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 235.17)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-235.17 100.56,-235.17 100.56,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<ellipse fill="none" stroke="black" cx="56.56" cy="-219.15" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="56.56" y="-217.25" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 3 -->
<g id="node2" class="node">
<title>3</title>
<ellipse fill="none" stroke="black" cx="56.56" cy="-150.1" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="56.56" y="-148.2" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 0&#45;&gt;3 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;3</title>
<path fill="none" stroke="black" d="M56.56,-207.08C56.56,-197.72 56.56,-184.04 56.56,-172.55"/>
<polygon fill="black" stroke="black" points="60.06,-172.42 56.56,-162.42 53.06,-172.42 60.06,-172.42"/>
<text text-anchor="middle" x="59.56" y="-182.72" font-family="Times,serif" font-size="8.00">4</text>
</g>
<!-- 1 -->
<g id="node3" class="node">
<title>1</title>
<ellipse fill="none" stroke="black" cx="15.56" cy="-81.06" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="15.56" y="-79.16" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 3&#45;&gt;1 -->
<g id="edge6" class="edge">
<title>3&#45;&gt;1</title>
<path fill="none" stroke="black" d="M45.16,-141.51C38.19,-136.28 29.67,-128.74 24.56,-120.08 21.61,-115.1 19.63,-109.22 18.3,-103.58"/>
<polygon fill="black" stroke="black" points="21.68,-102.59 16.45,-93.37 14.79,-103.83 21.68,-102.59"/>
<text text-anchor="middle" x="27.56" y="-113.68" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 2 -->
<g id="node4" class="node">
<title>2</title>
<ellipse fill="none" stroke="black" cx="56.56" cy="-12.02" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="56.56" y="-10.12" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 3&#45;&gt;2 -->
<g id="edge7" class="edge">
<title>3&#45;&gt;2</title>
<path fill="none" stroke="black" d="M56.56,-137.97C56.56,-115.34 56.56,-63.66 56.56,-34.34"/>
<polygon fill="black" stroke="black" points="60.06,-34.31 56.56,-24.31 53.06,-34.31 60.06,-34.31"/>
<text text-anchor="middle" x="59.56" y="-79.16" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="black" d="M21.84,-92.34C28,-102.42 37.54,-118.01 45.06,-130.31"/>
<polygon fill="black" stroke="black" points="42.13,-132.22 50.33,-138.92 48.1,-128.56 42.13,-132.22"/>
<text text-anchor="middle" x="41.56" y="-113.68" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="black" d="M14.9,-68.72C14.93,-60.78 15.99,-50.17 20.56,-42.04 24.2,-35.55 29.93,-29.96 35.75,-25.46"/>
<polygon fill="black" stroke="black" points="37.88,-28.24 44.12,-19.68 33.9,-22.48 37.88,-28.24"/>
<text text-anchor="middle" x="23.56" y="-44.64" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge5" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="black" d="M66.58,-21.3C72.15,-26.58 78.55,-33.94 81.56,-42.04 93.63,-74.56 93.63,-87.57 81.56,-120.08 79.77,-124.9 76.79,-129.44 73.49,-133.45"/>
<polygon fill="black" stroke="black" points="70.87,-131.14 66.58,-140.82 75.97,-135.92 70.87,-131.14"/>
<text text-anchor="middle" x="93.56" y="-79.16" font-family="Times,serif" font-size="8.00">4</text>
</g>
<!-- 2&#45;&gt;1 -->
<g id="edge4" class="edge">
<title>2&#45;&gt;1</title>
<path fill="none" stroke="black" d="M50.27,-23.3C44.11,-33.38 34.57,-48.97 27.05,-61.27"/>
<polygon fill="black" stroke="black" points="24.01,-59.52 21.78,-69.88 29.99,-63.18 24.01,-59.52"/>
<text text-anchor="middle" x="41.56" y="-44.64" font-family="Times,serif" font-size="8.00">2</text>
</g>
</g>
</svg>
</div>

    </td>
    <td style="font-size: 30px; vertical-align: middle;">=</td>
    <td style="width: 30%;">
        <!-- Diagram C -->
<div>
<!-- Title: %3 Pages: 1 -->
<svg width="68pt" height="239pt"
 viewBox="0.00 0.00 68.11 239.17" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 235.17)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-235.17 64.11,-235.17 64.11,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<ellipse fill="none" stroke="black" cx="41.56" cy="-219.15" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="41.56" y="-217.25" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 3 -->
<g id="node2" class="node">
<title>3</title>
<ellipse fill="none" stroke="black" cx="41.56" cy="-150.1" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="41.56" y="-148.2" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 0&#45;&gt;3 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;3</title>
<path fill="none" stroke="black" d="M41.56,-207.08C41.56,-197.72 41.56,-184.04 41.56,-172.55"/>
<polygon fill="black" stroke="black" points="45.06,-172.42 41.56,-162.42 38.06,-172.42 45.06,-172.42"/>
<text text-anchor="middle" x="47.06" y="-182.72" font-family="Times,serif" font-size="8.00">12</text>
</g>
<!-- 2 -->
<g id="node4" class="node">
<title>2</title>
<ellipse fill="none" stroke="black" cx="15.56" cy="-81.06" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="15.56" y="-79.16" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 3&#45;&gt;2 -->
<g id="edge5" class="edge">
<title>3&#45;&gt;2</title>
<path fill="none" stroke="black" d="M37.38,-138.33C33.65,-128.71 28.08,-114.36 23.51,-102.56"/>
<polygon fill="black" stroke="black" points="26.69,-101.09 19.81,-93.03 20.16,-103.62 26.69,-101.09"/>
<text text-anchor="middle" x="33.56" y="-113.68" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 1 -->
<g id="node3" class="node">
<title>1</title>
<ellipse fill="none" stroke="black" cx="44.56" cy="-12.02" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="44.56" y="-10.12" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="black" d="M44.31,-24.31C43.81,-46.97 42.68,-98.31 42.03,-127.59"/>
<polygon fill="black" stroke="black" points="38.52,-127.89 41.8,-137.97 45.52,-128.05 38.52,-127.89"/>
<text text-anchor="middle" x="46.56" y="-79.16" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="black" d="M40,-23.54C35.79,-33.29 29.4,-48.05 24.22,-60.04"/>
<polygon fill="black" stroke="black" points="20.97,-58.72 20.22,-69.29 27.4,-61.5 20.97,-58.72"/>
<text text-anchor="middle" x="35.56" y="-44.64" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 2&#45;&gt;1 -->
<g id="edge4" class="edge">
<title>2&#45;&gt;1</title>
<path fill="none" stroke="black" d="M15.01,-68.97C15.02,-61.14 15.87,-50.57 19.56,-42.04 21.51,-37.52 24.42,-33.19 27.58,-29.32"/>
<polygon fill="black" stroke="black" points="30.41,-31.41 34.59,-21.67 25.25,-26.68 30.41,-31.41"/>
<text text-anchor="middle" x="22.56" y="-44.64" font-family="Times,serif" font-size="8.00">4</text>
</g>
</g>
</svg>
</div>

    </td>
  </tr>
</table>
<h1 id="elementwise-union">Elementwise Union</h1>
<p><code>eunion</code> is like <code>eadd</code> but differs in how the binary op is
applied. A pair of scalars, <code>alpha</code> and <code>beta</code> define the inputs to
the operator when entries are present in one matrix but not the
other.
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="k">select</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">binaryop</span><span class="p">,</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">eunion</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="o">::</span><span class="n">scalar</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="mf">4</span><span class="o">::</span><span class="n">scalar</span><span class="p">,</span><span class="w"> </span><span class="n">binaryop</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">eunion</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test_fixture</span><span class="p">;</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="go">┌────────────────────┬─────────────┬────────────────────┬────────────────────┐</span>
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="go">│         a          │  binaryop   │         b          │       eunion       │</span>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="go">├────────────────────┼─────────────┼────────────────────┼────────────────────┤</span>
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="go">│      0  1  2  3    │ times_int32 │      0  1  2  3    │      0  1  2  3    │</span>
</span><span id="__span-26-6"><a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="go">│    ────────────    │             │    ────────────    │    ────────────    │</span>
</span><span id="__span-26-7"><a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a><span class="go">│  0│        0  3    │             │  0│           4    │  0│        0 12    │</span>
</span><span id="__span-26-8"><a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a><span class="go">│  1│  2     1  0    │             │  1│        3  1    │  1│  8     3  0    │</span>
</span><span id="__span-26-9"><a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a><span class="go">│  2│  2  2          │             │  2│     2     4    │  2│  8  4    12    │</span>
</span><span id="__span-26-10"><a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a><span class="go">│  3│  2     1       │             │  3│     0  2       │  3│  8  0  2       │</span>
</span><span id="__span-26-11"><a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a><span class="go">│                    │             │                    │                    │</span>
</span><span id="__span-26-12"><a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a><span class="go">└────────────────────┴─────────────┴────────────────────┴────────────────────┘</span>
</span><span id="__span-26-13"><a id="__codelineno-26-13" name="__codelineno-26-13" href="#__codelineno-26-13"></a><span class="go">(1 row)</span>
</span></code></pre></div>
From a graph standpoint, elementwise union is very similar to
<code>eadd()</code>, and can be seen as the merging ("union") of two graphs,
such that the result has edges from both graphs.  Any edges that
occur in both graphs are merged with the provided binary operator.
If an edge occurs in a but not in b, it is combined with the
scalar <code>alpha</code>, if the edge occurs in the b but not in a, then
the edge is combined with scalar <code>beta</code>.</p>
<table style="width: 100%; table-layout: fixed;" class="dot-table">
  <tr>
    <td style="width: 30%;">
        <!-- Diagram A -->
<div>
<!-- Title: %3 Pages: 1 -->
<svg width="153pt" height="239pt"
 viewBox="0.00 0.00 153.31 239.17" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 235.17)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-235.17 149.31,-235.17 149.31,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<ellipse fill="none" stroke="black" cx="69.76" cy="-219.15" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="69.76" y="-217.25" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 2 -->
<g id="node2" class="node">
<title>2</title>
<ellipse fill="none" stroke="black" cx="98.76" cy="-150.1" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="98.76" y="-148.2" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 0&#45;&gt;2 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;2</title>
<path fill="none" stroke="black" d="M69.21,-207.05C69.22,-199.23 70.07,-188.65 73.76,-180.12 75.71,-175.61 78.62,-171.28 81.78,-167.4"/>
<polygon fill="black" stroke="black" points="84.61,-169.49 88.79,-159.75 79.45,-164.76 84.61,-169.49"/>
<text text-anchor="middle" x="76.76" y="-182.72" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 3 -->
<g id="node3" class="node">
<title>3</title>
<ellipse fill="none" stroke="black" cx="51.76" cy="-12.02" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="51.76" y="-10.12" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 0&#45;&gt;3 -->
<g id="edge2" class="edge">
<title>0&#45;&gt;3</title>
<path fill="none" stroke="black" d="M55.27,-214.33C42.6,-210.23 24.72,-202.43 14.76,-189.12 -4.01,-164.06 3.88,-151.24 0.76,-120.08 -2.27,-89.91 10.52,-48.91 14.76,-42.04 18.79,-35.51 24.85,-29.86 30.91,-25.32"/>
<polygon fill="black" stroke="black" points="33.21,-27.99 39.55,-19.51 29.3,-22.19 33.21,-27.99"/>
<text text-anchor="middle" x="3.76" y="-113.68" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 2&#45;&gt;0 -->
<g id="edge6" class="edge">
<title>2&#45;&gt;0</title>
<path fill="none" stroke="black" d="M94.2,-161.63C89.99,-171.38 83.6,-186.13 78.42,-198.12"/>
<polygon fill="black" stroke="black" points="75.17,-196.81 74.42,-207.37 81.6,-199.59 75.17,-196.81"/>
<text text-anchor="middle" x="89.76" y="-182.72" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 1 -->
<g id="node4" class="node">
<title>1</title>
<ellipse fill="none" stroke="black" cx="129.76" cy="-81.06" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="129.76" y="-79.16" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 2&#45;&gt;1 -->
<g id="edge7" class="edge">
<title>2&#45;&gt;1</title>
<path fill="none" stroke="black" d="M101.77,-138.2C104.08,-130.45 107.58,-119.91 111.76,-111.08 113.43,-107.55 115.43,-103.92 117.49,-100.47"/>
<polygon fill="black" stroke="black" points="120.48,-102.28 122.85,-91.95 114.56,-98.55 120.48,-102.28"/>
<text text-anchor="middle" x="114.76" y="-113.68" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 3&#45;&gt;0 -->
<g id="edge8" class="edge">
<title>3&#45;&gt;0</title>
<path fill="none" stroke="black" d="M52.73,-24.1C55.6,-56.87 64.1,-153.69 67.89,-196.9"/>
<polygon fill="black" stroke="black" points="64.43,-197.46 68.79,-207.12 71.4,-196.85 64.43,-197.46"/>
<text text-anchor="middle" x="64.76" y="-113.68" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 3&#45;&gt;2 -->
<g id="edge9" class="edge">
<title>3&#45;&gt;2</title>
<path fill="none" stroke="black" d="M55.56,-24.03C63.45,-46.86 81.69,-99.69 91.76,-128.85"/>
<polygon fill="black" stroke="black" points="88.5,-130.12 95.07,-138.43 95.11,-127.83 88.5,-130.12"/>
<text text-anchor="middle" x="82.76" y="-79.16" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 1&#45;&gt;0 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;0</title>
<path fill="none" stroke="black" d="M131.33,-93.05C133.1,-109.08 134.51,-139.45 123.76,-162.12 115.76,-178.98 100.68,-193.96 88.48,-204.18"/>
<polygon fill="black" stroke="black" points="86.25,-201.48 80.61,-210.45 90.61,-206.95 86.25,-201.48"/>
<text text-anchor="middle" x="132.76" y="-148.2" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="black" d="M125.91,-92.87C123.08,-100.57 118.99,-111.09 114.76,-120.08 113.26,-123.26 111.57,-126.57 109.86,-129.77"/>
<polygon fill="black" stroke="black" points="106.65,-128.35 104.86,-138.79 112.77,-131.74 106.65,-128.35"/>
<text text-anchor="middle" x="121.76" y="-113.68" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge5" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="black" d="M120.51,-71.08C112.33,-63.23 99.98,-51.62 88.76,-42.04 82.92,-37.06 76.37,-31.82 70.43,-27.18"/>
<polygon fill="black" stroke="black" points="72.37,-24.26 62.31,-20.93 68.09,-29.8 72.37,-24.26"/>
<text text-anchor="middle" x="101.76" y="-44.64" font-family="Times,serif" font-size="8.00">0</text>
</g>
</g>
</svg>
</div>

    </td>
    <td style="font-size: 30px; vertical-align: middle;">op</td>
    <td style="width: 30%;">
        <!-- Diagram B -->
<div>
<!-- Title: %3 Pages: 1 -->
<svg width="105pt" height="239pt"
 viewBox="0.00 0.00 104.56 239.17" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 235.17)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-235.17 100.56,-235.17 100.56,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<ellipse fill="none" stroke="black" cx="56.56" cy="-219.15" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="56.56" y="-217.25" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 3 -->
<g id="node2" class="node">
<title>3</title>
<ellipse fill="none" stroke="black" cx="56.56" cy="-150.1" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="56.56" y="-148.2" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 0&#45;&gt;3 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;3</title>
<path fill="none" stroke="black" d="M56.56,-207.08C56.56,-197.72 56.56,-184.04 56.56,-172.55"/>
<polygon fill="black" stroke="black" points="60.06,-172.42 56.56,-162.42 53.06,-172.42 60.06,-172.42"/>
<text text-anchor="middle" x="59.56" y="-182.72" font-family="Times,serif" font-size="8.00">4</text>
</g>
<!-- 1 -->
<g id="node3" class="node">
<title>1</title>
<ellipse fill="none" stroke="black" cx="15.56" cy="-81.06" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="15.56" y="-79.16" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 3&#45;&gt;1 -->
<g id="edge6" class="edge">
<title>3&#45;&gt;1</title>
<path fill="none" stroke="black" d="M45.16,-141.51C38.19,-136.28 29.67,-128.74 24.56,-120.08 21.61,-115.1 19.63,-109.22 18.3,-103.58"/>
<polygon fill="black" stroke="black" points="21.68,-102.59 16.45,-93.37 14.79,-103.83 21.68,-102.59"/>
<text text-anchor="middle" x="27.56" y="-113.68" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 2 -->
<g id="node4" class="node">
<title>2</title>
<ellipse fill="none" stroke="black" cx="56.56" cy="-12.02" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="56.56" y="-10.12" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 3&#45;&gt;2 -->
<g id="edge7" class="edge">
<title>3&#45;&gt;2</title>
<path fill="none" stroke="black" d="M56.56,-137.97C56.56,-115.34 56.56,-63.66 56.56,-34.34"/>
<polygon fill="black" stroke="black" points="60.06,-34.31 56.56,-24.31 53.06,-34.31 60.06,-34.31"/>
<text text-anchor="middle" x="59.56" y="-79.16" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="black" d="M21.84,-92.34C28,-102.42 37.54,-118.01 45.06,-130.31"/>
<polygon fill="black" stroke="black" points="42.13,-132.22 50.33,-138.92 48.1,-128.56 42.13,-132.22"/>
<text text-anchor="middle" x="41.56" y="-113.68" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="black" d="M14.9,-68.72C14.93,-60.78 15.99,-50.17 20.56,-42.04 24.2,-35.55 29.93,-29.96 35.75,-25.46"/>
<polygon fill="black" stroke="black" points="37.88,-28.24 44.12,-19.68 33.9,-22.48 37.88,-28.24"/>
<text text-anchor="middle" x="23.56" y="-44.64" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge5" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="black" d="M66.58,-21.3C72.15,-26.58 78.55,-33.94 81.56,-42.04 93.63,-74.56 93.63,-87.57 81.56,-120.08 79.77,-124.9 76.79,-129.44 73.49,-133.45"/>
<polygon fill="black" stroke="black" points="70.87,-131.14 66.58,-140.82 75.97,-135.92 70.87,-131.14"/>
<text text-anchor="middle" x="93.56" y="-79.16" font-family="Times,serif" font-size="8.00">4</text>
</g>
<!-- 2&#45;&gt;1 -->
<g id="edge4" class="edge">
<title>2&#45;&gt;1</title>
<path fill="none" stroke="black" d="M50.27,-23.3C44.11,-33.38 34.57,-48.97 27.05,-61.27"/>
<polygon fill="black" stroke="black" points="24.01,-59.52 21.78,-69.88 29.99,-63.18 24.01,-59.52"/>
<text text-anchor="middle" x="41.56" y="-44.64" font-family="Times,serif" font-size="8.00">2</text>
</g>
</g>
</svg>
</div>

    </td>
    <td style="font-size: 30px; vertical-align: middle;">=</td>
    <td style="width: 30%;">
        <!-- Diagram C -->
<div>
<!-- Title: %3 Pages: 1 -->
<svg width="120pt" height="239pt"
 viewBox="0.00 0.00 120.25 239.17" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 235.17)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-235.17 116.25,-235.17 116.25,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<ellipse fill="none" stroke="black" cx="72.25" cy="-219.15" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="72.25" y="-217.25" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 2 -->
<g id="node2" class="node">
<title>2</title>
<ellipse fill="none" stroke="black" cx="20.25" cy="-150.1" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="20.25" y="-148.2" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 0&#45;&gt;2 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;2</title>
<path fill="none" stroke="black" d="M64.8,-208.54C56.77,-198.19 43.81,-181.48 33.93,-168.74"/>
<polygon fill="black" stroke="black" points="36.58,-166.45 27.68,-160.69 31.05,-170.74 36.58,-166.45"/>
<text text-anchor="middle" x="53.25" y="-182.72" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 3 -->
<g id="node3" class="node">
<title>3</title>
<ellipse fill="none" stroke="black" cx="50.25" cy="-12.02" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="50.25" y="-10.12" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 0&#45;&gt;3 -->
<g id="edge2" class="edge">
<title>0&#45;&gt;3</title>
<path fill="none" stroke="black" d="M76.46,-207.3C78.33,-201.93 80.32,-195.28 81.25,-189.12 81.85,-185.17 81.34,-184.12 81.25,-180.12 80.14,-130.72 87.98,-117.05 76.25,-69.04 73.12,-56.25 67.01,-42.85 61.5,-32.36"/>
<polygon fill="black" stroke="black" points="64.41,-30.38 56.52,-23.31 58.28,-33.76 64.41,-30.38"/>
<text text-anchor="middle" x="88.75" y="-113.68" font-family="Times,serif" font-size="8.00">12</text>
</g>
<!-- 2&#45;&gt;0 -->
<g id="edge6" class="edge">
<title>2&#45;&gt;0</title>
<path fill="none" stroke="black" d="M22.21,-162.25C24.05,-170.3 27.41,-181.12 33.25,-189.12 38.04,-195.69 44.74,-201.42 51.23,-206.01"/>
<polygon fill="black" stroke="black" points="49.48,-209.05 59.77,-211.55 53.29,-203.17 49.48,-209.05"/>
<text text-anchor="middle" x="36.25" y="-182.72" font-family="Times,serif" font-size="8.00">8</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge8" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="black" d="M17.3,-138.24C13.56,-122.6 8.38,-93.01 15.25,-69.04 19.3,-54.92 28.06,-40.9 35.8,-30.42"/>
<polygon fill="black" stroke="black" points="38.57,-32.56 41.94,-22.52 33.04,-28.27 38.57,-32.56"/>
<text text-anchor="middle" x="20.75" y="-79.16" font-family="Times,serif" font-size="8.00">12</text>
</g>
<!-- 1 -->
<g id="node4" class="node">
<title>1</title>
<ellipse fill="none" stroke="black" cx="51.25" cy="-81.06" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="51.25" y="-79.16" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 2&#45;&gt;1 -->
<g id="edge7" class="edge">
<title>2&#45;&gt;1</title>
<path fill="none" stroke="black" d="M20.4,-137.99C20.89,-130.15 22.32,-119.57 26.25,-111.08 28.32,-106.62 31.28,-102.31 34.44,-98.44"/>
<polygon fill="black" stroke="black" points="37.28,-100.53 41.43,-90.78 32.11,-95.81 37.28,-100.53"/>
<text text-anchor="middle" x="29.25" y="-113.68" font-family="Times,serif" font-size="8.00">4</text>
</g>
<!-- 3&#45;&gt;0 -->
<g id="edge9" class="edge">
<title>3&#45;&gt;0</title>
<path fill="none" stroke="black" d="M61.2,-20.9C67.99,-26.24 76.49,-33.81 82.25,-42.04 89.68,-52.66 90.01,-56.5 93.25,-69.04 106.59,-120.73 115.05,-139.16 96.25,-189.12 94.54,-193.65 91.82,-197.99 88.81,-201.86"/>
<polygon fill="black" stroke="black" points="86.05,-199.7 82.04,-209.51 91.29,-204.34 86.05,-199.7"/>
<text text-anchor="middle" x="109.25" y="-113.68" font-family="Times,serif" font-size="8.00">8</text>
</g>
<!-- 3&#45;&gt;2 -->
<g id="edge11" class="edge">
<title>3&#45;&gt;2</title>
<path fill="none" stroke="black" d="M39.25,-21C27.02,-30.7 8.21,-48.37 2.25,-69.04 -3.64,-89.45 3.43,-113.23 10.37,-129.55"/>
<polygon fill="black" stroke="black" points="7.19,-131.02 14.55,-138.64 13.55,-128.09 7.19,-131.02"/>
<text text-anchor="middle" x="5.25" y="-79.16" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 3&#45;&gt;1 -->
<g id="edge10" class="edge">
<title>3&#45;&gt;1</title>
<path fill="none" stroke="black" d="M50.42,-24.33C50.56,-33.76 50.76,-47.46 50.93,-58.91"/>
<polygon fill="black" stroke="black" points="47.43,-59.05 51.08,-68.99 54.43,-58.94 47.43,-59.05"/>
<text text-anchor="middle" x="54.25" y="-44.64" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 1&#45;&gt;0 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;0</title>
<path fill="none" stroke="black" d="M52.99,-93.35C56.5,-116.11 64.48,-167.81 68.99,-197.02"/>
<polygon fill="black" stroke="black" points="65.54,-197.66 70.53,-207.01 72.46,-196.59 65.54,-197.66"/>
<text text-anchor="middle" x="67.25" y="-148.2" font-family="Times,serif" font-size="8.00">8</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="black" d="M46.34,-92.69C41.79,-102.52 34.91,-117.39 29.36,-129.39"/>
<polygon fill="black" stroke="black" points="26.11,-128.08 25.09,-138.63 32.47,-131.02 26.11,-128.08"/>
<text text-anchor="middle" x="41.25" y="-113.68" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge5" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="black" d="M46.22,-69.58C43.9,-64.18 41.41,-57.4 40.25,-51.04 39.17,-45.17 40,-38.87 41.56,-33.12"/>
<polygon fill="black" stroke="black" points="44.89,-34.17 44.89,-23.58 38.29,-31.86 44.89,-34.17"/>
<text text-anchor="middle" x="43.25" y="-44.64" font-family="Times,serif" font-size="8.00">0</text>
</g>
</g>
</svg>
</div>

    </td>
  </tr>
</table>
<h1 id="reduction">Reduction</h1>
<p>The entire matrix can be reduced to a scalar value:
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="k">select</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">monoid</span><span class="p">,</span><span class="w"> </span><span class="n">reduce_scalar</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">monoid</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test_fixture</span><span class="p">;</span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="go">┌────────────────────┬───────────────────┬───────────────┐</span>
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="go">│         a          │      monoid       │ reduce_scalar │</span>
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="go">├────────────────────┼───────────────────┼───────────────┤</span>
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a><span class="go">│      0  1  2  3    │ plus_monoid_int32 │ int32:13      │</span>
</span><span id="__span-27-6"><a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="go">│    ────────────    │                   │               │</span>
</span><span id="__span-27-7"><a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a><span class="go">│  0│        0  3    │                   │               │</span>
</span><span id="__span-27-8"><a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a><span class="go">│  1│  2     1  0    │                   │               │</span>
</span><span id="__span-27-9"><a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a><span class="go">│  2│  2  2          │                   │               │</span>
</span><span id="__span-27-10"><a id="__codelineno-27-10" name="__codelineno-27-10" href="#__codelineno-27-10"></a><span class="go">│  3│  2     1       │                   │               │</span>
</span><span id="__span-27-11"><a id="__codelineno-27-11" name="__codelineno-27-11" href="#__codelineno-27-11"></a><span class="go">│                    │                   │               │</span>
</span><span id="__span-27-12"><a id="__codelineno-27-12" name="__codelineno-27-12" href="#__codelineno-27-12"></a><span class="go">└────────────────────┴───────────────────┴───────────────┘</span>
</span><span id="__span-27-13"><a id="__codelineno-27-13" name="__codelineno-27-13" href="#__codelineno-27-13"></a><span class="go">(1 row)</span>
</span></code></pre></div>
The matrix can also be reduced to a column vector:
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="k">select</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">monoid</span><span class="p">,</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">reduce_vector</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">monoid</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">reduce_vector</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test_fixture</span><span class="p">;</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="go">┌────────────────────┬───────────────────┬───────────────┐</span>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="go">│         a          │      monoid       │ reduce_vector │</span>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="go">├────────────────────┼───────────────────┼───────────────┤</span>
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="go">│      0  1  2  3    │ plus_monoid_int32 │               │</span>
</span><span id="__span-28-6"><a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="go">│    ────────────    │                   │    ───        │</span>
</span><span id="__span-28-7"><a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="go">│  0│        0  3    │                   │  0│  3        │</span>
</span><span id="__span-28-8"><a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="go">│  1│  2     1  0    │                   │  1│  3        │</span>
</span><span id="__span-28-9"><a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="go">│  2│  2  2          │                   │  2│  4        │</span>
</span><span id="__span-28-10"><a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a><span class="go">│  3│  2     1       │                   │  3│  3        │</span>
</span><span id="__span-28-11"><a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a><span class="go">│                    │                   │               │</span>
</span><span id="__span-28-12"><a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a><span class="go">└────────────────────┴───────────────────┴───────────────┘</span>
</span><span id="__span-28-13"><a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a><span class="go">(1 row)</span>
</span></code></pre></div>
To reduce a row vector, specify that the input should be transposed
with the descriptor <code>t0</code>:
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="gp">select print(a) as a, monoid, print(reduce_vector(a, monoid, descriptor=&gt;</span><span class="s1">&#39;t0&#39;</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">transpose_reduce_vector</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test_fixture</span><span class="p">;</span>
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="go">┌────────────────────┬───────────────────┬─────────────────────────┐</span>
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a><span class="go">│         a          │      monoid       │ transpose_reduce_vector │</span>
</span><span id="__span-29-4"><a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a><span class="go">├────────────────────┼───────────────────┼─────────────────────────┤</span>
</span><span id="__span-29-5"><a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a><span class="go">│      0  1  2  3    │ plus_monoid_int32 │                         │</span>
</span><span id="__span-29-6"><a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a><span class="go">│    ────────────    │                   │    ───                  │</span>
</span><span id="__span-29-7"><a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a><span class="go">│  0│        0  3    │                   │  0│  6                  │</span>
</span><span id="__span-29-8"><a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a><span class="go">│  1│  2     1  0    │                   │  1│  2                  │</span>
</span><span id="__span-29-9"><a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a><span class="go">│  2│  2  2          │                   │  2│  2                  │</span>
</span><span id="__span-29-10"><a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a><span class="go">│  3│  2     1       │                   │  3│  3                  │</span>
</span><span id="__span-29-11"><a id="__codelineno-29-11" name="__codelineno-29-11" href="#__codelineno-29-11"></a><span class="go">│                    │                   │                         │</span>
</span><span id="__span-29-12"><a id="__codelineno-29-12" name="__codelineno-29-12" href="#__codelineno-29-12"></a><span class="go">└────────────────────┴───────────────────┴─────────────────────────┘</span>
</span><span id="__span-29-13"><a id="__codelineno-29-13" name="__codelineno-29-13" href="#__codelineno-29-13"></a><span class="go">(1 row)</span>
</span></code></pre></div></p>
<h1 id="matrix-matrix-multiplication">Matrix Matrix Multiplication</h1>
<p>Matrix Multiplication is the heart of linear algebra.  All matrix
multiplication happens over a semiring.  For the most common form
of matrix multiplication, the outer opperation is to multiply
coresponding elements with the "times" operator and then reduce
those products with the "plus" operator.  This is called the
<code>plus_times</code> semiring:
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="k">select</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">semiring</span><span class="p">,</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">mxm</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">mxm</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test_fixture</span><span class="p">;</span>
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="go">┌────────────────────┬──────────────────┬────────────────────┬────────────────────┐</span>
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="go">│         a          │     semiring     │         b          │        mxm         │</span>
</span><span id="__span-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="go">├────────────────────┼──────────────────┼────────────────────┼────────────────────┤</span>
</span><span id="__span-30-5"><a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="go">│      0  1  2  3    │ plus_times_int32 │      0  1  2  3    │      0  1  2  3    │</span>
</span><span id="__span-30-6"><a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a><span class="go">│    ────────────    │                  │    ────────────    │    ────────────    │</span>
</span><span id="__span-30-7"><a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a><span class="go">│  0│        0  3    │                  │  0│           4    │  0│     0  6  0    │</span>
</span><span id="__span-30-8"><a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a><span class="go">│  1│  2     1  0    │                  │  1│        3  1    │  1│     2  0 12    │</span>
</span><span id="__span-30-9"><a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a><span class="go">│  2│  2  2          │                  │  2│     2     4    │  2│        6 10    │</span>
</span><span id="__span-30-10"><a id="__codelineno-30-10" name="__codelineno-30-10" href="#__codelineno-30-10"></a><span class="go">│  3│  2     1       │                  │  3│     0  2       │  3│     2    12    │</span>
</span><span id="__span-30-11"><a id="__codelineno-30-11" name="__codelineno-30-11" href="#__codelineno-30-11"></a><span class="go">│                    │                  │                    │                    │</span>
</span><span id="__span-30-12"><a id="__codelineno-30-12" name="__codelineno-30-12" href="#__codelineno-30-12"></a><span class="go">└────────────────────┴──────────────────┴────────────────────┴────────────────────┘</span>
</span><span id="__span-30-13"><a id="__codelineno-30-13" name="__codelineno-30-13" href="#__codelineno-30-13"></a><span class="go">(1 row)</span>
</span></code></pre></div></p>
<table style="width: 100%; table-layout: fixed;" class="dot-table">
  <tr>
    <td style="width: 30%;">
        <!-- Diagram A -->
<div>
<!-- Title: %3 Pages: 1 -->
<svg width="153pt" height="239pt"
 viewBox="0.00 0.00 153.31 239.17" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 235.17)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-235.17 149.31,-235.17 149.31,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<ellipse fill="none" stroke="black" cx="69.76" cy="-219.15" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="69.76" y="-217.25" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 2 -->
<g id="node2" class="node">
<title>2</title>
<ellipse fill="none" stroke="black" cx="98.76" cy="-150.1" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="98.76" y="-148.2" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 0&#45;&gt;2 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;2</title>
<path fill="none" stroke="black" d="M69.21,-207.05C69.22,-199.23 70.07,-188.65 73.76,-180.12 75.71,-175.61 78.62,-171.28 81.78,-167.4"/>
<polygon fill="black" stroke="black" points="84.61,-169.49 88.79,-159.75 79.45,-164.76 84.61,-169.49"/>
<text text-anchor="middle" x="76.76" y="-182.72" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 3 -->
<g id="node3" class="node">
<title>3</title>
<ellipse fill="none" stroke="black" cx="51.76" cy="-12.02" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="51.76" y="-10.12" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 0&#45;&gt;3 -->
<g id="edge2" class="edge">
<title>0&#45;&gt;3</title>
<path fill="none" stroke="black" d="M55.27,-214.33C42.6,-210.23 24.72,-202.43 14.76,-189.12 -4.01,-164.06 3.88,-151.24 0.76,-120.08 -2.27,-89.91 10.52,-48.91 14.76,-42.04 18.79,-35.51 24.85,-29.86 30.91,-25.32"/>
<polygon fill="black" stroke="black" points="33.21,-27.99 39.55,-19.51 29.3,-22.19 33.21,-27.99"/>
<text text-anchor="middle" x="3.76" y="-113.68" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 2&#45;&gt;0 -->
<g id="edge6" class="edge">
<title>2&#45;&gt;0</title>
<path fill="none" stroke="black" d="M94.2,-161.63C89.99,-171.38 83.6,-186.13 78.42,-198.12"/>
<polygon fill="black" stroke="black" points="75.17,-196.81 74.42,-207.37 81.6,-199.59 75.17,-196.81"/>
<text text-anchor="middle" x="89.76" y="-182.72" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 1 -->
<g id="node4" class="node">
<title>1</title>
<ellipse fill="none" stroke="black" cx="129.76" cy="-81.06" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="129.76" y="-79.16" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 2&#45;&gt;1 -->
<g id="edge7" class="edge">
<title>2&#45;&gt;1</title>
<path fill="none" stroke="black" d="M101.77,-138.2C104.08,-130.45 107.58,-119.91 111.76,-111.08 113.43,-107.55 115.43,-103.92 117.49,-100.47"/>
<polygon fill="black" stroke="black" points="120.48,-102.28 122.85,-91.95 114.56,-98.55 120.48,-102.28"/>
<text text-anchor="middle" x="114.76" y="-113.68" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 3&#45;&gt;0 -->
<g id="edge8" class="edge">
<title>3&#45;&gt;0</title>
<path fill="none" stroke="black" d="M52.73,-24.1C55.6,-56.87 64.1,-153.69 67.89,-196.9"/>
<polygon fill="black" stroke="black" points="64.43,-197.46 68.79,-207.12 71.4,-196.85 64.43,-197.46"/>
<text text-anchor="middle" x="64.76" y="-113.68" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 3&#45;&gt;2 -->
<g id="edge9" class="edge">
<title>3&#45;&gt;2</title>
<path fill="none" stroke="black" d="M55.56,-24.03C63.45,-46.86 81.69,-99.69 91.76,-128.85"/>
<polygon fill="black" stroke="black" points="88.5,-130.12 95.07,-138.43 95.11,-127.83 88.5,-130.12"/>
<text text-anchor="middle" x="82.76" y="-79.16" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 1&#45;&gt;0 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;0</title>
<path fill="none" stroke="black" d="M131.33,-93.05C133.1,-109.08 134.51,-139.45 123.76,-162.12 115.76,-178.98 100.68,-193.96 88.48,-204.18"/>
<polygon fill="black" stroke="black" points="86.25,-201.48 80.61,-210.45 90.61,-206.95 86.25,-201.48"/>
<text text-anchor="middle" x="132.76" y="-148.2" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="black" d="M125.91,-92.87C123.08,-100.57 118.99,-111.09 114.76,-120.08 113.26,-123.26 111.57,-126.57 109.86,-129.77"/>
<polygon fill="black" stroke="black" points="106.65,-128.35 104.86,-138.79 112.77,-131.74 106.65,-128.35"/>
<text text-anchor="middle" x="121.76" y="-113.68" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge5" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="black" d="M120.51,-71.08C112.33,-63.23 99.98,-51.62 88.76,-42.04 82.92,-37.06 76.37,-31.82 70.43,-27.18"/>
<polygon fill="black" stroke="black" points="72.37,-24.26 62.31,-20.93 68.09,-29.8 72.37,-24.26"/>
<text text-anchor="middle" x="101.76" y="-44.64" font-family="Times,serif" font-size="8.00">0</text>
</g>
</g>
</svg>
</div>

    </td>
    <td style="font-size: 30px; vertical-align: middle;">op</td>
    <td style="width: 30%;">
        <!-- Diagram B -->
<div>
<!-- Title: %3 Pages: 1 -->
<svg width="105pt" height="239pt"
 viewBox="0.00 0.00 104.56 239.17" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 235.17)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-235.17 100.56,-235.17 100.56,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<ellipse fill="none" stroke="black" cx="56.56" cy="-219.15" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="56.56" y="-217.25" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 3 -->
<g id="node2" class="node">
<title>3</title>
<ellipse fill="none" stroke="black" cx="56.56" cy="-150.1" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="56.56" y="-148.2" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 0&#45;&gt;3 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;3</title>
<path fill="none" stroke="black" d="M56.56,-207.08C56.56,-197.72 56.56,-184.04 56.56,-172.55"/>
<polygon fill="black" stroke="black" points="60.06,-172.42 56.56,-162.42 53.06,-172.42 60.06,-172.42"/>
<text text-anchor="middle" x="59.56" y="-182.72" font-family="Times,serif" font-size="8.00">4</text>
</g>
<!-- 1 -->
<g id="node3" class="node">
<title>1</title>
<ellipse fill="none" stroke="black" cx="15.56" cy="-81.06" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="15.56" y="-79.16" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 3&#45;&gt;1 -->
<g id="edge6" class="edge">
<title>3&#45;&gt;1</title>
<path fill="none" stroke="black" d="M45.16,-141.51C38.19,-136.28 29.67,-128.74 24.56,-120.08 21.61,-115.1 19.63,-109.22 18.3,-103.58"/>
<polygon fill="black" stroke="black" points="21.68,-102.59 16.45,-93.37 14.79,-103.83 21.68,-102.59"/>
<text text-anchor="middle" x="27.56" y="-113.68" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 2 -->
<g id="node4" class="node">
<title>2</title>
<ellipse fill="none" stroke="black" cx="56.56" cy="-12.02" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="56.56" y="-10.12" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 3&#45;&gt;2 -->
<g id="edge7" class="edge">
<title>3&#45;&gt;2</title>
<path fill="none" stroke="black" d="M56.56,-137.97C56.56,-115.34 56.56,-63.66 56.56,-34.34"/>
<polygon fill="black" stroke="black" points="60.06,-34.31 56.56,-24.31 53.06,-34.31 60.06,-34.31"/>
<text text-anchor="middle" x="59.56" y="-79.16" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="black" d="M21.84,-92.34C28,-102.42 37.54,-118.01 45.06,-130.31"/>
<polygon fill="black" stroke="black" points="42.13,-132.22 50.33,-138.92 48.1,-128.56 42.13,-132.22"/>
<text text-anchor="middle" x="41.56" y="-113.68" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="black" d="M14.9,-68.72C14.93,-60.78 15.99,-50.17 20.56,-42.04 24.2,-35.55 29.93,-29.96 35.75,-25.46"/>
<polygon fill="black" stroke="black" points="37.88,-28.24 44.12,-19.68 33.9,-22.48 37.88,-28.24"/>
<text text-anchor="middle" x="23.56" y="-44.64" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge5" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="black" d="M66.58,-21.3C72.15,-26.58 78.55,-33.94 81.56,-42.04 93.63,-74.56 93.63,-87.57 81.56,-120.08 79.77,-124.9 76.79,-129.44 73.49,-133.45"/>
<polygon fill="black" stroke="black" points="70.87,-131.14 66.58,-140.82 75.97,-135.92 70.87,-131.14"/>
<text text-anchor="middle" x="93.56" y="-79.16" font-family="Times,serif" font-size="8.00">4</text>
</g>
<!-- 2&#45;&gt;1 -->
<g id="edge4" class="edge">
<title>2&#45;&gt;1</title>
<path fill="none" stroke="black" d="M50.27,-23.3C44.11,-33.38 34.57,-48.97 27.05,-61.27"/>
<polygon fill="black" stroke="black" points="24.01,-59.52 21.78,-69.88 29.99,-63.18 24.01,-59.52"/>
<text text-anchor="middle" x="41.56" y="-44.64" font-family="Times,serif" font-size="8.00">2</text>
</g>
</g>
</svg>
</div>

    </td>
    <td style="font-size: 30px; vertical-align: middle;">=</td>
    <td style="width: 30%;">
        <!-- Diagram C -->
<div>
<!-- Title: %3 Pages: 1 -->
<svg width="137pt" height="239pt"
 viewBox="0.00 0.00 136.89 239.17" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 235.17)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-235.17 132.89,-235.17 132.89,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<ellipse fill="none" stroke="black" cx="27.33" cy="-219.15" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="27.33" y="-217.25" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<ellipse fill="none" stroke="black" cx="27.33" cy="-150.1" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="27.33" y="-148.2" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="black" d="M27.33,-207.08C27.33,-197.72 27.33,-184.04 27.33,-172.55"/>
<polygon fill="black" stroke="black" points="30.83,-172.42 27.33,-162.42 23.83,-172.42 30.83,-172.42"/>
<text text-anchor="middle" x="30.33" y="-182.72" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<ellipse fill="none" stroke="black" cx="89.33" cy="-81.06" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="89.33" y="-79.16" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 0&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>0&#45;&gt;2</title>
<path fill="none" stroke="black" d="M37.44,-209.8C48.87,-199.75 67.09,-181.77 76.33,-162.12 85.05,-143.59 88.06,-120.28 89.03,-103.59"/>
<polygon fill="black" stroke="black" points="92.54,-103.37 89.42,-93.24 85.55,-103.1 92.54,-103.37"/>
<text text-anchor="middle" x="87.33" y="-148.2" font-family="Times,serif" font-size="8.00">6</text>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<ellipse fill="none" stroke="black" cx="25.33" cy="-12.02" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="25.33" y="-10.12" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 0&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>0&#45;&gt;3</title>
<path fill="none" stroke="black" d="M21.15,-207.86C14.98,-196.95 5.93,-179 2.33,-162.12 -4.31,-130.93 4.9,-80.02 14.33,-42.04 15.06,-39.1 16,-36.05 17.02,-33.08"/>
<polygon fill="black" stroke="black" points="20.36,-34.17 20.64,-23.58 13.81,-31.68 20.36,-34.17"/>
<text text-anchor="middle" x="5.33" y="-113.68" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 1&#45;&gt;1 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;1</title>
<path fill="none" stroke="black" d="M41.12,-155.79C51.02,-157.64 60.89,-155.75 60.89,-150.1 60.89,-146.49 56.84,-144.41 51.33,-143.87"/>
<polygon fill="black" stroke="black" points="50.92,-140.39 41.12,-144.42 51.29,-147.38 50.92,-140.39"/>
<text text-anchor="middle" x="63.89" y="-148.2" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge5" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="black" d="M37.62,-140.95C44.38,-135.39 53.25,-127.67 60.33,-120.08 66.01,-113.99 71.7,-106.83 76.51,-100.38"/>
<polygon fill="black" stroke="black" points="79.42,-102.33 82.45,-92.18 73.75,-98.22 79.42,-102.33"/>
<text text-anchor="middle" x="71.33" y="-113.68" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge6" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="black" d="M24.5,-138.04C21.78,-126.8 17.87,-108.87 16.33,-93.08 14.37,-72.95 17.5,-50.01 20.59,-33.86"/>
<polygon fill="black" stroke="black" points="24.06,-34.39 22.66,-23.89 17.2,-32.97 24.06,-34.39"/>
<text text-anchor="middle" x="21.83" y="-79.16" font-family="Times,serif" font-size="8.00">12</text>
</g>
<!-- 2&#45;&gt;2 -->
<g id="edge7" class="edge">
<title>2&#45;&gt;2</title>
<path fill="none" stroke="black" d="M103.12,-86.75C113.02,-88.6 122.89,-86.71 122.89,-81.06 122.89,-77.45 118.84,-75.37 113.33,-74.83"/>
<polygon fill="black" stroke="black" points="112.92,-71.35 103.12,-75.37 113.29,-78.34 112.92,-71.35"/>
<text text-anchor="middle" x="125.89" y="-79.16" font-family="Times,serif" font-size="8.00">6</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge8" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="black" d="M83.51,-69.73C78.69,-61.69 71.37,-50.51 63.33,-42.04 57.96,-36.38 51.4,-30.96 45.26,-26.37"/>
<polygon fill="black" stroke="black" points="46.92,-23.25 36.74,-20.3 42.86,-28.95 46.92,-23.25"/>
<text text-anchor="middle" x="76.83" y="-44.64" font-family="Times,serif" font-size="8.00">10</text>
</g>
<!-- 3&#45;&gt;1 -->
<g id="edge9" class="edge">
<title>3&#45;&gt;1</title>
<path fill="none" stroke="black" d="M29.04,-23.91C30.69,-29.29 32.46,-35.94 33.33,-42.04 47.58,-141.92 36.37,-102.93 34.33,-120.08 34.02,-122.74 33.54,-125.51 32.99,-128.23"/>
<polygon fill="black" stroke="black" points="29.53,-127.65 30.61,-138.19 36.34,-129.28 29.53,-127.65"/>
<text text-anchor="middle" x="43.33" y="-79.16" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 3&#45;&gt;3 -->
<g id="edge10" class="edge">
<title>3&#45;&gt;3</title>
<path fill="none" stroke="black" d="M39.12,-17.71C49.02,-19.56 58.89,-17.67 58.89,-12.02 58.89,-8.4 54.84,-6.33 49.33,-5.79"/>
<polygon fill="black" stroke="black" points="48.92,-2.3 39.12,-6.33 49.29,-9.29 48.92,-2.3"/>
<text text-anchor="middle" x="64.39" y="-10.12" font-family="Times,serif" font-size="8.00">12</text>
</g>
</g>
</svg>
</div>

    </td>
  </tr>
</table>
<p>AxB can also be done with the <code>@</code> operator, mimicking the Python
syntax.  The default semiring for numeric types is <code>plus_times</code>.
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="k">select</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;@&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="s s-Name">&quot;@&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">mxm</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test_fixture</span><span class="p">;</span>
</span><span id="__span-31-2"><a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="go">┌────────────────────┬───┬────────────────────┬────────────────────┐</span>
</span><span id="__span-31-3"><a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="go">│         a          │ @ │         b          │        mxm         │</span>
</span><span id="__span-31-4"><a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="go">├────────────────────┼───┼────────────────────┼────────────────────┤</span>
</span><span id="__span-31-5"><a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="go">│      0  1  2  3    │ @ │      0  1  2  3    │      0  1  2  3    │</span>
</span><span id="__span-31-6"><a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a><span class="go">│    ────────────    │   │    ────────────    │    ────────────    │</span>
</span><span id="__span-31-7"><a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="go">│  0│        0  3    │   │  0│           4    │  0│     0  6  0    │</span>
</span><span id="__span-31-8"><a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a><span class="go">│  1│  2     1  0    │   │  1│        3  1    │  1│     2  0 12    │</span>
</span><span id="__span-31-9"><a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a><span class="go">│  2│  2  2          │   │  2│     2     4    │  2│        6 10    │</span>
</span><span id="__span-31-10"><a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a><span class="go">│  3│  2     1       │   │  3│     0  2       │  3│     2    12    │</span>
</span><span id="__span-31-11"><a id="__codelineno-31-11" name="__codelineno-31-11" href="#__codelineno-31-11"></a><span class="go">│                    │   │                    │                    │</span>
</span><span id="__span-31-12"><a id="__codelineno-31-12" name="__codelineno-31-12" href="#__codelineno-31-12"></a><span class="go">└────────────────────┴───┴────────────────────┴────────────────────┘</span>
</span><span id="__span-31-13"><a id="__codelineno-31-13" name="__codelineno-31-13" href="#__codelineno-31-13"></a><span class="go">(1 row)</span>
</span></code></pre></div></p>
<h1 id="matrix-vector-multiplication">Matrix Vector Multiplication</h1>
<p>Matrices can be multipled by vectors on the right taking the linear
combination of the matrices columns using the vectors elements as
coefficients:
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="k">select</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;@&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="s s-Name">&quot;@&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">semiring</span><span class="p">,</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">u</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">u</span><span class="p">,</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">mxv</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">u</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">mxv</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test_fixture</span><span class="p">;</span>
</span><span id="__span-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="go">┌────────────────────┬───┬──────────────────┬───────────┬───────────┐</span>
</span><span id="__span-32-3"><a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="go">│         a          │ @ │     semiring     │     u     │    mxv    │</span>
</span><span id="__span-32-4"><a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="go">├────────────────────┼───┼──────────────────┼───────────┼───────────┤</span>
</span><span id="__span-32-5"><a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a><span class="go">│      0  1  2  3    │ @ │ plus_times_int32 │           │           │</span>
</span><span id="__span-32-6"><a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a><span class="go">│    ────────────    │   │                  │    ───    │    ───    │</span>
</span><span id="__span-32-7"><a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a><span class="go">│  0│        0  3    │   │                  │  0│       │  0│       │</span>
</span><span id="__span-32-8"><a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a><span class="go">│  1│  2     1  0    │   │                  │  1│  2    │  1│       │</span>
</span><span id="__span-32-9"><a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a><span class="go">│  2│  2  2          │   │                  │  2│       │  2│  4    │</span>
</span><span id="__span-32-10"><a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a><span class="go">│  3│  2     1       │   │                  │  3│       │  3│       │</span>
</span><span id="__span-32-11"><a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a><span class="go">│                    │   │                  │           │           │</span>
</span><span id="__span-32-12"><a id="__codelineno-32-12" name="__codelineno-32-12" href="#__codelineno-32-12"></a><span class="go">└────────────────────┴───┴──────────────────┴───────────┴───────────┘</span>
</span><span id="__span-32-13"><a id="__codelineno-32-13" name="__codelineno-32-13" href="#__codelineno-32-13"></a><span class="go">(1 row)</span>
</span></code></pre></div></p>
<table style="width: 100%; table-layout: fixed;" class="dot-table">
  <tr>
    <td style="width: 30%;">
        <!-- Diagram A -->
<div>
<!-- Title: %3 Pages: 1 -->
<svg width="153pt" height="239pt"
 viewBox="0.00 0.00 153.31 239.17" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 235.17)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-235.17 149.31,-235.17 149.31,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<ellipse fill="none" stroke="black" cx="69.76" cy="-219.15" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="69.76" y="-217.25" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 2 -->
<g id="node2" class="node">
<title>2</title>
<ellipse fill="none" stroke="black" cx="98.76" cy="-150.1" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="98.76" y="-148.2" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 0&#45;&gt;2 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;2</title>
<path fill="none" stroke="black" d="M69.21,-207.05C69.22,-199.23 70.07,-188.65 73.76,-180.12 75.71,-175.61 78.62,-171.28 81.78,-167.4"/>
<polygon fill="black" stroke="black" points="84.61,-169.49 88.79,-159.75 79.45,-164.76 84.61,-169.49"/>
<text text-anchor="middle" x="76.76" y="-182.72" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 3 -->
<g id="node3" class="node">
<title>3</title>
<ellipse fill="none" stroke="black" cx="51.76" cy="-12.02" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="51.76" y="-10.12" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 0&#45;&gt;3 -->
<g id="edge2" class="edge">
<title>0&#45;&gt;3</title>
<path fill="none" stroke="black" d="M55.27,-214.33C42.6,-210.23 24.72,-202.43 14.76,-189.12 -4.01,-164.06 3.88,-151.24 0.76,-120.08 -2.27,-89.91 10.52,-48.91 14.76,-42.04 18.79,-35.51 24.85,-29.86 30.91,-25.32"/>
<polygon fill="black" stroke="black" points="33.21,-27.99 39.55,-19.51 29.3,-22.19 33.21,-27.99"/>
<text text-anchor="middle" x="3.76" y="-113.68" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 2&#45;&gt;0 -->
<g id="edge6" class="edge">
<title>2&#45;&gt;0</title>
<path fill="none" stroke="black" d="M94.2,-161.63C89.99,-171.38 83.6,-186.13 78.42,-198.12"/>
<polygon fill="black" stroke="black" points="75.17,-196.81 74.42,-207.37 81.6,-199.59 75.17,-196.81"/>
<text text-anchor="middle" x="89.76" y="-182.72" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 1 -->
<g id="node4" class="node">
<title>1</title>
<ellipse fill="none" stroke="black" cx="129.76" cy="-81.06" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="129.76" y="-79.16" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 2&#45;&gt;1 -->
<g id="edge7" class="edge">
<title>2&#45;&gt;1</title>
<path fill="none" stroke="black" d="M101.77,-138.2C104.08,-130.45 107.58,-119.91 111.76,-111.08 113.43,-107.55 115.43,-103.92 117.49,-100.47"/>
<polygon fill="black" stroke="black" points="120.48,-102.28 122.85,-91.95 114.56,-98.55 120.48,-102.28"/>
<text text-anchor="middle" x="114.76" y="-113.68" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 3&#45;&gt;0 -->
<g id="edge8" class="edge">
<title>3&#45;&gt;0</title>
<path fill="none" stroke="black" d="M52.73,-24.1C55.6,-56.87 64.1,-153.69 67.89,-196.9"/>
<polygon fill="black" stroke="black" points="64.43,-197.46 68.79,-207.12 71.4,-196.85 64.43,-197.46"/>
<text text-anchor="middle" x="64.76" y="-113.68" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 3&#45;&gt;2 -->
<g id="edge9" class="edge">
<title>3&#45;&gt;2</title>
<path fill="none" stroke="black" d="M55.56,-24.03C63.45,-46.86 81.69,-99.69 91.76,-128.85"/>
<polygon fill="black" stroke="black" points="88.5,-130.12 95.07,-138.43 95.11,-127.83 88.5,-130.12"/>
<text text-anchor="middle" x="82.76" y="-79.16" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 1&#45;&gt;0 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;0</title>
<path fill="none" stroke="black" d="M131.33,-93.05C133.1,-109.08 134.51,-139.45 123.76,-162.12 115.76,-178.98 100.68,-193.96 88.48,-204.18"/>
<polygon fill="black" stroke="black" points="86.25,-201.48 80.61,-210.45 90.61,-206.95 86.25,-201.48"/>
<text text-anchor="middle" x="132.76" y="-148.2" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="black" d="M125.91,-92.87C123.08,-100.57 118.99,-111.09 114.76,-120.08 113.26,-123.26 111.57,-126.57 109.86,-129.77"/>
<polygon fill="black" stroke="black" points="106.65,-128.35 104.86,-138.79 112.77,-131.74 106.65,-128.35"/>
<text text-anchor="middle" x="121.76" y="-113.68" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge5" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="black" d="M120.51,-71.08C112.33,-63.23 99.98,-51.62 88.76,-42.04 82.92,-37.06 76.37,-31.82 70.43,-27.18"/>
<polygon fill="black" stroke="black" points="72.37,-24.26 62.31,-20.93 68.09,-29.8 72.37,-24.26"/>
<text text-anchor="middle" x="101.76" y="-44.64" font-family="Times,serif" font-size="8.00">0</text>
</g>
</g>
</svg>
</div>

    </td>
    <td style="font-size: 30px; vertical-align: middle;">op</td>
    <td style="width: 30%;">
        <!-- Diagram B -->
<div>
<!-- Title: vector Pages: 1 -->
<svg width="70pt" height="177pt"
 viewBox="0.00 0.00 70.00 177.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 173)">
<title>vector</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-173 66,-173 66,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_vector</title>
<polygon fill="lightgray" stroke="black" stroke-dasharray="5,2" points="8,-8 8,-161 54,-161 54,-8 8,-8"/>
</g>
<!-- node0 -->
<g id="node1" class="node">
<title>node0</title>
<polygon fill="none" stroke="black" points="33,-153 29,-153 29,-149 33,-149 33,-153"/>
</g>
<!-- node1 -->
<g id="node2" class="node">
<title>node1</title>
<polygon fill="none" stroke="black" points="46,-113 16,-113 16,-96 46,-96 46,-113"/>
<text text-anchor="middle" x="31" y="-102.6" font-family="Times,serif" font-size="8.00">1:2</text>
</g>
<!-- node0&#45;&gt;node1 -->
<!-- node2 -->
<g id="node3" class="node">
<title>node2</title>
<polygon fill="none" stroke="black" points="33,-60 29,-60 29,-56 33,-56 33,-60"/>
</g>
<!-- node1&#45;&gt;node2 -->
<!-- node3 -->
<g id="node4" class="node">
<title>node3</title>
<polygon fill="none" stroke="black" points="33,-20 29,-20 29,-16 33,-16 33,-20"/>
</g>
<!-- node2&#45;&gt;node3 -->
</g>
</svg>
</div>

    </td>
    <td style="font-size: 30px; vertical-align: middle;">=</td>
    <td style="width: 30%;">
        <!-- Diagram C -->
<div>
<!-- Title: vector Pages: 1 -->
<svg width="70pt" height="177pt"
 viewBox="0.00 0.00 70.00 177.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 173)">
<title>vector</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-173 66,-173 66,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_vector</title>
<polygon fill="lightgray" stroke="black" stroke-dasharray="5,2" points="8,-8 8,-161 54,-161 54,-8 8,-8"/>
</g>
<!-- node0 -->
<g id="node1" class="node">
<title>node0</title>
<polygon fill="none" stroke="black" points="33,-153 29,-153 29,-149 33,-149 33,-153"/>
</g>
<!-- node1 -->
<g id="node2" class="node">
<title>node1</title>
<polygon fill="none" stroke="black" points="33,-113 29,-113 29,-109 33,-109 33,-113"/>
</g>
<!-- node0&#45;&gt;node1 -->
<!-- node2 -->
<g id="node3" class="node">
<title>node2</title>
<polygon fill="none" stroke="black" points="46,-73 16,-73 16,-56 46,-56 46,-73"/>
<text text-anchor="middle" x="31" y="-62.6" font-family="Times,serif" font-size="8.00">2:4</text>
</g>
<!-- node1&#45;&gt;node2 -->
<!-- node3 -->
<g id="node4" class="node">
<title>node3</title>
<polygon fill="none" stroke="black" points="33,-20 29,-20 29,-16 33,-16 33,-20"/>
</g>
<!-- node2&#45;&gt;node3 -->
</g>
</svg>
</div>

    </td>
  </tr>
</table>
<p>'mxv' is also supported by the <code>@</code> operator:
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="k">select</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;@&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="s s-Name">&quot;@&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">u</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">u</span><span class="p">,</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="n">u</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">mxv</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test_fixture</span><span class="p">;</span>
</span><span id="__span-33-2"><a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="go">┌────────────────────┬───┬───────────┬───────────┐</span>
</span><span id="__span-33-3"><a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="go">│         a          │ @ │     u     │    mxv    │</span>
</span><span id="__span-33-4"><a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="go">├────────────────────┼───┼───────────┼───────────┤</span>
</span><span id="__span-33-5"><a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a><span class="go">│      0  1  2  3    │ @ │           │           │</span>
</span><span id="__span-33-6"><a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a><span class="go">│    ────────────    │   │    ───    │    ───    │</span>
</span><span id="__span-33-7"><a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a><span class="go">│  0│        0  3    │   │  0│       │  0│       │</span>
</span><span id="__span-33-8"><a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a><span class="go">│  1│  2     1  0    │   │  1│  2    │  1│       │</span>
</span><span id="__span-33-9"><a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a><span class="go">│  2│  2  2          │   │  2│       │  2│  4    │</span>
</span><span id="__span-33-10"><a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a><span class="go">│  3│  2     1       │   │  3│       │  3│       │</span>
</span><span id="__span-33-11"><a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a><span class="go">│                    │   │           │           │</span>
</span><span id="__span-33-12"><a id="__codelineno-33-12" name="__codelineno-33-12" href="#__codelineno-33-12"></a><span class="go">└────────────────────┴───┴───────────┴───────────┘</span>
</span><span id="__span-33-13"><a id="__codelineno-33-13" name="__codelineno-33-13" href="#__codelineno-33-13"></a><span class="go">(1 row)</span>
</span></code></pre></div></p>
<h1 id="vector-matrix-multiplication">Vector Matrix Multiplication</h1>
<p>Matrices can be multipled by vectors on the right taking the linear
combination of the matrices rows using the vectors elements as
coefficients:
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="k">select</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="n">semiring</span><span class="p">,</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">vxm</span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">semiring</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">vxm</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test_fixture</span><span class="p">;</span>
</span><span id="__span-34-2"><a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="go">┌───────────┬──────────────────┬────────────────────┬───────────┐</span>
</span><span id="__span-34-3"><a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="go">│     v     │     semiring     │         b          │    vxm    │</span>
</span><span id="__span-34-4"><a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="go">├───────────┼──────────────────┼────────────────────┼───────────┤</span>
</span><span id="__span-34-5"><a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a><span class="go">│           │ plus_times_int32 │      0  1  2  3    │           │</span>
</span><span id="__span-34-6"><a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a><span class="go">│    ───    │                  │    ────────────    │    ───    │</span>
</span><span id="__span-34-7"><a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a><span class="go">│  0│       │                  │  0│           4    │  0│       │</span>
</span><span id="__span-34-8"><a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a><span class="go">│  1│       │                  │  1│        3  1    │  1│  6    │</span>
</span><span id="__span-34-9"><a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a><span class="go">│  2│  3    │                  │  2│     2     4    │  2│       │</span>
</span><span id="__span-34-10"><a id="__codelineno-34-10" name="__codelineno-34-10" href="#__codelineno-34-10"></a><span class="go">│  3│       │                  │  3│     0  2       │  3│ 12    │</span>
</span><span id="__span-34-11"><a id="__codelineno-34-11" name="__codelineno-34-11" href="#__codelineno-34-11"></a><span class="go">│           │                  │                    │           │</span>
</span><span id="__span-34-12"><a id="__codelineno-34-12" name="__codelineno-34-12" href="#__codelineno-34-12"></a><span class="go">└───────────┴──────────────────┴────────────────────┴───────────┘</span>
</span><span id="__span-34-13"><a id="__codelineno-34-13" name="__codelineno-34-13" href="#__codelineno-34-13"></a><span class="go">(1 row)</span>
</span></code></pre></div></p>
<table style="width: 100%; table-layout: fixed;" class="dot-table">
  <tr>
    <td style="width: 30%;">
        <!-- Diagram A -->
<div>
<!-- Title: vector Pages: 1 -->
<svg width="70pt" height="177pt"
 viewBox="0.00 0.00 70.00 177.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 173)">
<title>vector</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-173 66,-173 66,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_vector</title>
<polygon fill="lightgray" stroke="black" stroke-dasharray="5,2" points="8,-8 8,-161 54,-161 54,-8 8,-8"/>
</g>
<!-- node0 -->
<g id="node1" class="node">
<title>node0</title>
<polygon fill="none" stroke="black" points="33,-153 29,-153 29,-149 33,-149 33,-153"/>
</g>
<!-- node1 -->
<g id="node2" class="node">
<title>node1</title>
<polygon fill="none" stroke="black" points="33,-113 29,-113 29,-109 33,-109 33,-113"/>
</g>
<!-- node0&#45;&gt;node1 -->
<!-- node2 -->
<g id="node3" class="node">
<title>node2</title>
<polygon fill="none" stroke="black" points="46,-73 16,-73 16,-56 46,-56 46,-73"/>
<text text-anchor="middle" x="31" y="-62.6" font-family="Times,serif" font-size="8.00">2:3</text>
</g>
<!-- node1&#45;&gt;node2 -->
<!-- node3 -->
<g id="node4" class="node">
<title>node3</title>
<polygon fill="none" stroke="black" points="33,-20 29,-20 29,-16 33,-16 33,-20"/>
</g>
<!-- node2&#45;&gt;node3 -->
</g>
</svg>
</div>

    </td>
    <td style="font-size: 30px; vertical-align: middle;">op</td>
    <td style="width: 30%;">
        <!-- Diagram B -->
<div>
<!-- Title: %3 Pages: 1 -->
<svg width="105pt" height="239pt"
 viewBox="0.00 0.00 104.56 239.17" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 235.17)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-235.17 100.56,-235.17 100.56,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<ellipse fill="none" stroke="black" cx="56.56" cy="-219.15" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="56.56" y="-217.25" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 3 -->
<g id="node2" class="node">
<title>3</title>
<ellipse fill="none" stroke="black" cx="56.56" cy="-150.1" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="56.56" y="-148.2" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 0&#45;&gt;3 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;3</title>
<path fill="none" stroke="black" d="M56.56,-207.08C56.56,-197.72 56.56,-184.04 56.56,-172.55"/>
<polygon fill="black" stroke="black" points="60.06,-172.42 56.56,-162.42 53.06,-172.42 60.06,-172.42"/>
<text text-anchor="middle" x="59.56" y="-182.72" font-family="Times,serif" font-size="8.00">4</text>
</g>
<!-- 1 -->
<g id="node3" class="node">
<title>1</title>
<ellipse fill="none" stroke="black" cx="15.56" cy="-81.06" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="15.56" y="-79.16" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 3&#45;&gt;1 -->
<g id="edge6" class="edge">
<title>3&#45;&gt;1</title>
<path fill="none" stroke="black" d="M45.16,-141.51C38.19,-136.28 29.67,-128.74 24.56,-120.08 21.61,-115.1 19.63,-109.22 18.3,-103.58"/>
<polygon fill="black" stroke="black" points="21.68,-102.59 16.45,-93.37 14.79,-103.83 21.68,-102.59"/>
<text text-anchor="middle" x="27.56" y="-113.68" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 2 -->
<g id="node4" class="node">
<title>2</title>
<ellipse fill="none" stroke="black" cx="56.56" cy="-12.02" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="56.56" y="-10.12" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 3&#45;&gt;2 -->
<g id="edge7" class="edge">
<title>3&#45;&gt;2</title>
<path fill="none" stroke="black" d="M56.56,-137.97C56.56,-115.34 56.56,-63.66 56.56,-34.34"/>
<polygon fill="black" stroke="black" points="60.06,-34.31 56.56,-24.31 53.06,-34.31 60.06,-34.31"/>
<text text-anchor="middle" x="59.56" y="-79.16" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="black" d="M21.84,-92.34C28,-102.42 37.54,-118.01 45.06,-130.31"/>
<polygon fill="black" stroke="black" points="42.13,-132.22 50.33,-138.92 48.1,-128.56 42.13,-132.22"/>
<text text-anchor="middle" x="41.56" y="-113.68" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="black" d="M14.9,-68.72C14.93,-60.78 15.99,-50.17 20.56,-42.04 24.2,-35.55 29.93,-29.96 35.75,-25.46"/>
<polygon fill="black" stroke="black" points="37.88,-28.24 44.12,-19.68 33.9,-22.48 37.88,-28.24"/>
<text text-anchor="middle" x="23.56" y="-44.64" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge5" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="black" d="M66.58,-21.3C72.15,-26.58 78.55,-33.94 81.56,-42.04 93.63,-74.56 93.63,-87.57 81.56,-120.08 79.77,-124.9 76.79,-129.44 73.49,-133.45"/>
<polygon fill="black" stroke="black" points="70.87,-131.14 66.58,-140.82 75.97,-135.92 70.87,-131.14"/>
<text text-anchor="middle" x="93.56" y="-79.16" font-family="Times,serif" font-size="8.00">4</text>
</g>
<!-- 2&#45;&gt;1 -->
<g id="edge4" class="edge">
<title>2&#45;&gt;1</title>
<path fill="none" stroke="black" d="M50.27,-23.3C44.11,-33.38 34.57,-48.97 27.05,-61.27"/>
<polygon fill="black" stroke="black" points="24.01,-59.52 21.78,-69.88 29.99,-63.18 24.01,-59.52"/>
<text text-anchor="middle" x="41.56" y="-44.64" font-family="Times,serif" font-size="8.00">2</text>
</g>
</g>
</svg>
</div>

    </td>
    <td style="font-size: 30px; vertical-align: middle;">=</td>
    <td style="width: 30%;">
        <!-- Diagram C -->
<div>
<!-- Title: vector Pages: 1 -->
<svg width="76pt" height="190pt"
 viewBox="0.00 0.00 76.00 190.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 186)">
<title>vector</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-186 72,-186 72,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_vector</title>
<polygon fill="lightgray" stroke="black" stroke-dasharray="5,2" points="8,-8 8,-174 60,-174 60,-8 8,-8"/>
</g>
<!-- node0 -->
<g id="node1" class="node">
<title>node0</title>
<polygon fill="none" stroke="black" points="36,-166 32,-166 32,-162 36,-162 36,-166"/>
</g>
<!-- node1 -->
<g id="node2" class="node">
<title>node1</title>
<polygon fill="none" stroke="black" points="49,-126 19,-126 19,-109 49,-109 49,-126"/>
<text text-anchor="middle" x="34" y="-115.6" font-family="Times,serif" font-size="8.00">1:6</text>
</g>
<!-- node0&#45;&gt;node1 -->
<!-- node2 -->
<g id="node3" class="node">
<title>node2</title>
<polygon fill="none" stroke="black" points="36,-73 32,-73 32,-69 36,-69 36,-73"/>
</g>
<!-- node1&#45;&gt;node2 -->
<!-- node3 -->
<g id="node4" class="node">
<title>node3</title>
<polygon fill="none" stroke="black" points="51.5,-33 16.5,-33 16.5,-16 51.5,-16 51.5,-33"/>
<text text-anchor="middle" x="34" y="-22.6" font-family="Times,serif" font-size="8.00">3:12</text>
</g>
<!-- node2&#45;&gt;node3 -->
</g>
</svg>
</div>

    </td>
  </tr>
</table>
<p>'vxm' is also supported by the <code>@</code> operator:
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="k">select</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;@&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="s s-Name">&quot;@&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">v</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">vxm</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test_fixture</span><span class="p">;</span>
</span><span id="__span-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="go">┌───────────┬───┬────────────────────┬───────────┐</span>
</span><span id="__span-35-3"><a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="go">│     v     │ @ │         b          │    vxm    │</span>
</span><span id="__span-35-4"><a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="go">├───────────┼───┼────────────────────┼───────────┤</span>
</span><span id="__span-35-5"><a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a><span class="go">│           │ @ │      0  1  2  3    │           │</span>
</span><span id="__span-35-6"><a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="go">│    ───    │   │    ────────────    │    ───    │</span>
</span><span id="__span-35-7"><a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a><span class="go">│  0│       │   │  0│           4    │  0│       │</span>
</span><span id="__span-35-8"><a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a><span class="go">│  1│       │   │  1│        3  1    │  1│  6    │</span>
</span><span id="__span-35-9"><a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a><span class="go">│  2│  3    │   │  2│     2     4    │  2│       │</span>
</span><span id="__span-35-10"><a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a><span class="go">│  3│       │   │  3│     0  2       │  3│ 12    │</span>
</span><span id="__span-35-11"><a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a><span class="go">│           │   │                    │           │</span>
</span><span id="__span-35-12"><a id="__codelineno-35-12" name="__codelineno-35-12" href="#__codelineno-35-12"></a><span class="go">└───────────┴───┴────────────────────┴───────────┘</span>
</span><span id="__span-35-13"><a id="__codelineno-35-13" name="__codelineno-35-13" href="#__codelineno-35-13"></a><span class="go">(1 row)</span>
</span></code></pre></div></p>
<h1 id="element-selection">Element Selection</h1>
<p>The <code>selection</code> method calls the <code>GrB_select()</code> API function.  The
name <code>selection</code> was chosen not to conflict with the SQL keyword
<code>select</code>.  Selection provides a conditional operator called an
<code>indexunaryop</code> and a parameter for the operator to use to compare
elements in the matrix.  Below, all elements with values greater
than 50 are returned:
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="k">select</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">indexunaryop</span><span class="p">,</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">selection</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">indexunaryop</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test_fixture</span><span class="p">;</span>
</span><span id="__span-36-2"><a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="go">┌────────────────────┬───────────────┬────────────────────┐</span>
</span><span id="__span-36-3"><a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a><span class="go">│         a          │ indexunaryop  │      selected      │</span>
</span><span id="__span-36-4"><a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="go">├────────────────────┼───────────────┼────────────────────┤</span>
</span><span id="__span-36-5"><a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a><span class="go">│      0  1  2  3    │ valuegt_int32 │      0  1  2  3    │</span>
</span><span id="__span-36-6"><a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a><span class="go">│    ────────────    │               │    ────────────    │</span>
</span><span id="__span-36-7"><a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a><span class="go">│  0│        0  3    │               │  0│           3    │</span>
</span><span id="__span-36-8"><a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a><span class="go">│  1│  2     1  0    │               │  1│  2             │</span>
</span><span id="__span-36-9"><a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a><span class="go">│  2│  2  2          │               │  2│  2  2          │</span>
</span><span id="__span-36-10"><a id="__codelineno-36-10" name="__codelineno-36-10" href="#__codelineno-36-10"></a><span class="go">│  3│  2     1       │               │  3│  2             │</span>
</span><span id="__span-36-11"><a id="__codelineno-36-11" name="__codelineno-36-11" href="#__codelineno-36-11"></a><span class="go">│                    │               │                    │</span>
</span><span id="__span-36-12"><a id="__codelineno-36-12" name="__codelineno-36-12" href="#__codelineno-36-12"></a><span class="go">└────────────────────┴───────────────┴────────────────────┘</span>
</span><span id="__span-36-13"><a id="__codelineno-36-13" name="__codelineno-36-13" href="#__codelineno-36-13"></a><span class="go">(1 row)</span>
</span></code></pre></div></p>
<table style="width: 100%; table-layout: fixed;" class="dot-table">
  <tr>
    <td style="width: 45%;">
        <!-- Diagram A -->
<div>
<!-- Title: %3 Pages: 1 -->
<svg width="153pt" height="239pt"
 viewBox="0.00 0.00 153.31 239.17" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 235.17)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-235.17 149.31,-235.17 149.31,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<ellipse fill="none" stroke="black" cx="69.76" cy="-219.15" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="69.76" y="-217.25" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 2 -->
<g id="node2" class="node">
<title>2</title>
<ellipse fill="none" stroke="black" cx="98.76" cy="-150.1" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="98.76" y="-148.2" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 0&#45;&gt;2 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;2</title>
<path fill="none" stroke="black" d="M69.21,-207.05C69.22,-199.23 70.07,-188.65 73.76,-180.12 75.71,-175.61 78.62,-171.28 81.78,-167.4"/>
<polygon fill="black" stroke="black" points="84.61,-169.49 88.79,-159.75 79.45,-164.76 84.61,-169.49"/>
<text text-anchor="middle" x="76.76" y="-182.72" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 3 -->
<g id="node3" class="node">
<title>3</title>
<ellipse fill="none" stroke="black" cx="51.76" cy="-12.02" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="51.76" y="-10.12" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 0&#45;&gt;3 -->
<g id="edge2" class="edge">
<title>0&#45;&gt;3</title>
<path fill="none" stroke="black" d="M55.27,-214.33C42.6,-210.23 24.72,-202.43 14.76,-189.12 -4.01,-164.06 3.88,-151.24 0.76,-120.08 -2.27,-89.91 10.52,-48.91 14.76,-42.04 18.79,-35.51 24.85,-29.86 30.91,-25.32"/>
<polygon fill="black" stroke="black" points="33.21,-27.99 39.55,-19.51 29.3,-22.19 33.21,-27.99"/>
<text text-anchor="middle" x="3.76" y="-113.68" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 2&#45;&gt;0 -->
<g id="edge6" class="edge">
<title>2&#45;&gt;0</title>
<path fill="none" stroke="black" d="M94.2,-161.63C89.99,-171.38 83.6,-186.13 78.42,-198.12"/>
<polygon fill="black" stroke="black" points="75.17,-196.81 74.42,-207.37 81.6,-199.59 75.17,-196.81"/>
<text text-anchor="middle" x="89.76" y="-182.72" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 1 -->
<g id="node4" class="node">
<title>1</title>
<ellipse fill="none" stroke="black" cx="129.76" cy="-81.06" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="129.76" y="-79.16" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 2&#45;&gt;1 -->
<g id="edge7" class="edge">
<title>2&#45;&gt;1</title>
<path fill="none" stroke="black" d="M101.77,-138.2C104.08,-130.45 107.58,-119.91 111.76,-111.08 113.43,-107.55 115.43,-103.92 117.49,-100.47"/>
<polygon fill="black" stroke="black" points="120.48,-102.28 122.85,-91.95 114.56,-98.55 120.48,-102.28"/>
<text text-anchor="middle" x="114.76" y="-113.68" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 3&#45;&gt;0 -->
<g id="edge8" class="edge">
<title>3&#45;&gt;0</title>
<path fill="none" stroke="black" d="M52.73,-24.1C55.6,-56.87 64.1,-153.69 67.89,-196.9"/>
<polygon fill="black" stroke="black" points="64.43,-197.46 68.79,-207.12 71.4,-196.85 64.43,-197.46"/>
<text text-anchor="middle" x="64.76" y="-113.68" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 3&#45;&gt;2 -->
<g id="edge9" class="edge">
<title>3&#45;&gt;2</title>
<path fill="none" stroke="black" d="M55.56,-24.03C63.45,-46.86 81.69,-99.69 91.76,-128.85"/>
<polygon fill="black" stroke="black" points="88.5,-130.12 95.07,-138.43 95.11,-127.83 88.5,-130.12"/>
<text text-anchor="middle" x="82.76" y="-79.16" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 1&#45;&gt;0 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;0</title>
<path fill="none" stroke="black" d="M131.33,-93.05C133.1,-109.08 134.51,-139.45 123.76,-162.12 115.76,-178.98 100.68,-193.96 88.48,-204.18"/>
<polygon fill="black" stroke="black" points="86.25,-201.48 80.61,-210.45 90.61,-206.95 86.25,-201.48"/>
<text text-anchor="middle" x="132.76" y="-148.2" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="black" d="M125.91,-92.87C123.08,-100.57 118.99,-111.09 114.76,-120.08 113.26,-123.26 111.57,-126.57 109.86,-129.77"/>
<polygon fill="black" stroke="black" points="106.65,-128.35 104.86,-138.79 112.77,-131.74 106.65,-128.35"/>
<text text-anchor="middle" x="121.76" y="-113.68" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge5" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="black" d="M120.51,-71.08C112.33,-63.23 99.98,-51.62 88.76,-42.04 82.92,-37.06 76.37,-31.82 70.43,-27.18"/>
<polygon fill="black" stroke="black" points="72.37,-24.26 62.31,-20.93 68.09,-29.8 72.37,-24.26"/>
<text text-anchor="middle" x="101.76" y="-44.64" font-family="Times,serif" font-size="8.00">0</text>
</g>
</g>
</svg>
</div>

    </td>
    <td style="font-size: 30px; vertical-align: middle;">op</td>
    <td style="width: 45%;">
        <!-- Diagram B -->
<div>
<!-- Title: %3 Pages: 1 -->
<svg width="63pt" height="239pt"
 viewBox="0.00 0.00 63.11 239.17" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 235.17)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-235.17 59.11,-235.17 59.11,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<ellipse fill="none" stroke="black" cx="17.56" cy="-81.06" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="17.56" y="-79.16" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 3 -->
<g id="node2" class="node">
<title>3</title>
<ellipse fill="none" stroke="black" cx="17.56" cy="-12.02" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="17.56" y="-10.12" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 0&#45;&gt;3 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;3</title>
<path fill="none" stroke="black" d="M12.29,-69.52C9.12,-61.95 5.98,-51.47 7.56,-42.04 8.05,-39.09 8.81,-36.03 9.7,-33.05"/>
<polygon fill="black" stroke="black" points="13.02,-34.14 12.98,-23.55 6.41,-31.86 13.02,-34.14"/>
<text text-anchor="middle" x="10.56" y="-44.64" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 3&#45;&gt;0 -->
<g id="edge5" class="edge">
<title>3&#45;&gt;0</title>
<path fill="none" stroke="black" d="M17.56,-24.33C17.56,-33.76 17.56,-47.46 17.56,-58.91"/>
<polygon fill="black" stroke="black" points="14.06,-58.99 17.56,-68.99 21.06,-58.99 14.06,-58.99"/>
<text text-anchor="middle" x="20.56" y="-44.64" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 1 -->
<g id="node3" class="node">
<title>1</title>
<ellipse fill="none" stroke="black" cx="39.56" cy="-150.1" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="39.56" y="-148.2" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 1&#45;&gt;0 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;0</title>
<path fill="none" stroke="black" d="M36.02,-138.33C32.87,-128.71 28.16,-114.36 24.28,-102.56"/>
<polygon fill="black" stroke="black" points="27.6,-101.44 21.16,-93.03 20.95,-103.62 27.6,-101.44"/>
<text text-anchor="middle" x="33.56" y="-113.68" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 2 -->
<g id="node4" class="node">
<title>2</title>
<ellipse fill="none" stroke="black" cx="15.56" cy="-219.15" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="15.56" y="-217.25" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 2&#45;&gt;0 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;0</title>
<path fill="none" stroke="black" d="M13.41,-207.01C10.69,-191.55 6.59,-162.7 8.56,-138.08 9.49,-126.42 11.49,-113.53 13.37,-103.05"/>
<polygon fill="black" stroke="black" points="16.82,-103.64 15.24,-93.16 9.94,-102.34 16.82,-103.64"/>
<text text-anchor="middle" x="11.56" y="-148.2" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 2&#45;&gt;1 -->
<g id="edge4" class="edge">
<title>2&#45;&gt;1</title>
<path fill="none" stroke="black" d="M19.41,-207.37C22.86,-197.76 27.99,-183.4 32.22,-171.6"/>
<polygon fill="black" stroke="black" points="35.55,-172.67 35.63,-162.07 28.96,-170.31 35.55,-172.67"/>
<text text-anchor="middle" x="32.56" y="-182.72" font-family="Times,serif" font-size="8.00">2</text>
</g>
</g>
</svg>
</div>

    </td>
  </tr>
</table>
<p>A useful select operator is <code>triu</code>, it select only upper triangular
values, this turns your graph into a direct acyclic graph (DAG) by
removing all the links "back" from higher number nodes to lower.
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="gp">select print(random_matrix(8, 8, 16, seed=&gt;</span><span class="mf">0.42</span><span class="p">,</span><span class="w"> </span><span class="n">max</span><span class="o">=&gt;</span><span class="mf">42</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">matrix</span><span class="p">,</span>
</span><span id="__span-37-2"><a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="w">       </span><span class="n">print</span><span class="p">(</span><span class="n">selection</span><span class="p">(</span><span class="n">random_matrix</span><span class="p">(</span><span class="mf">8</span><span class="p">,</span><span class="w"> </span><span class="mf">8</span><span class="p">,</span><span class="w"> </span><span class="mf">16</span><span class="p">,</span><span class="w"> </span><span class="n">seed</span><span class="o">=&gt;</span><span class="mf">0.42</span><span class="p">,</span><span class="w"> </span><span class="n">max</span><span class="o">=&gt;</span><span class="mf">42</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;triu&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">triu</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test_fixture</span><span class="p">;</span>
</span><span id="__span-37-3"><a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="go">┌────────────────────────────────┬────────────────────────────────┐</span>
</span><span id="__span-37-4"><a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a><span class="go">│             matrix             │              triu              │</span>
</span><span id="__span-37-5"><a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a><span class="go">├────────────────────────────────┼────────────────────────────────┤</span>
</span><span id="__span-37-6"><a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a><span class="go">│      0  1  2  3  4  5  6  7    │      0  1  2  3  4  5  6  7    │</span>
</span><span id="__span-37-7"><a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a><span class="go">│    ────────────────────────    │    ────────────────────────    │</span>
</span><span id="__span-37-8"><a id="__codelineno-37-8" name="__codelineno-37-8" href="#__codelineno-37-8"></a><span class="go">│  0│              6 31          │  0│              6 31          │</span>
</span><span id="__span-37-9"><a id="__codelineno-37-9" name="__codelineno-37-9" href="#__codelineno-37-9"></a><span class="go">│  1│                   12       │  1│                   12       │</span>
</span><span id="__span-37-10"><a id="__codelineno-37-10" name="__codelineno-37-10" href="#__codelineno-37-10"></a><span class="go">│  2│    26                      │  2│                            │</span>
</span><span id="__span-37-11"><a id="__codelineno-37-11" name="__codelineno-37-11" href="#__codelineno-37-11"></a><span class="go">│  3│                40          │  3│                40          │</span>
</span><span id="__span-37-12"><a id="__codelineno-37-12" name="__codelineno-37-12" href="#__codelineno-37-12"></a><span class="go">│  4│    11    15           7    │  4│                       7    │</span>
</span><span id="__span-37-13"><a id="__codelineno-37-13" name="__codelineno-37-13" href="#__codelineno-37-13"></a><span class="go">│  5│ 20 12    22        1       │  5│                    1       │</span>
</span><span id="__span-37-14"><a id="__codelineno-37-14" name="__codelineno-37-14" href="#__codelineno-37-14"></a><span class="go">│  6│              1             │  6│                            │</span>
</span><span id="__span-37-15"><a id="__codelineno-37-15" name="__codelineno-37-15" href="#__codelineno-37-15"></a><span class="go">│  7│       17                   │  7│                            │</span>
</span><span id="__span-37-16"><a id="__codelineno-37-16" name="__codelineno-37-16" href="#__codelineno-37-16"></a><span class="go">│                                │                                │</span>
</span><span id="__span-37-17"><a id="__codelineno-37-17" name="__codelineno-37-17" href="#__codelineno-37-17"></a><span class="go">└────────────────────────────────┴────────────────────────────────┘</span>
</span><span id="__span-37-18"><a id="__codelineno-37-18" name="__codelineno-37-18" href="#__codelineno-37-18"></a><span class="go">(1 row)</span>
</span><span id="__span-37-19"><a id="__codelineno-37-19" name="__codelineno-37-19" href="#__codelineno-37-19"></a>
</span><span id="__span-37-20"><a id="__codelineno-37-20" name="__codelineno-37-20" href="#__codelineno-37-20"></a><span class="gp">select draw(random_matrix(8, 8, 16, seed=&gt;</span><span class="mf">0.42</span><span class="p">,</span><span class="w"> </span><span class="n">max</span><span class="o">=&gt;</span><span class="mf">42</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">uop_a_source</span><span class="p">,</span>
</span><span id="__span-37-21"><a id="__codelineno-37-21" name="__codelineno-37-21" href="#__codelineno-37-21"></a><span class="w">       </span><span class="n">draw</span><span class="p">(</span><span class="n">selection</span><span class="p">(</span><span class="n">random_matrix</span><span class="p">(</span><span class="mf">8</span><span class="p">,</span><span class="w"> </span><span class="mf">8</span><span class="p">,</span><span class="w"> </span><span class="mf">16</span><span class="p">,</span><span class="w"> </span><span class="n">seed</span><span class="o">=&gt;</span><span class="mf">0.42</span><span class="p">,</span><span class="w"> </span><span class="n">max</span><span class="o">=&gt;</span><span class="mf">42</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;triu&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">uop_b_source</span>
</span></code></pre></div></p>
<table style="width: 100%; table-layout: fixed;" class="dot-table">
  <tr>
    <td style="width: 45%;">
        <!-- Diagram A -->
<div>
<!-- Title: %3 Pages: 1 -->
<svg width="245pt" height="377pt"
 viewBox="0.00 0.00 245.24 377.25" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 373.25)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-373.25 241.24,-373.25 241.24,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<ellipse fill="none" stroke="black" cx="34.24" cy="-357.23" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="34.24" y="-355.33" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 4 -->
<g id="node2" class="node">
<title>4</title>
<ellipse fill="none" stroke="black" cx="135.24" cy="-288.19" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="135.24" y="-286.29" font-family="Times,serif" font-size="8.00">4</text>
</g>
<!-- 0&#45;&gt;4 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;4</title>
<path fill="none" stroke="black" d="M45.44,-348.8C62.35,-337.57 94.65,-316.13 115.55,-302.26"/>
<polygon fill="black" stroke="black" points="117.6,-305.1 124,-296.65 113.73,-299.27 117.6,-305.1"/>
<text text-anchor="middle" x="94.24" y="-320.81" font-family="Times,serif" font-size="8.00">6</text>
</g>
<!-- 5 -->
<g id="node3" class="node">
<title>5</title>
<ellipse fill="none" stroke="black" cx="71.24" cy="-150.1" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="71.24" y="-148.2" font-family="Times,serif" font-size="8.00">5</text>
</g>
<!-- 0&#45;&gt;5 -->
<g id="edge2" class="edge">
<title>0&#45;&gt;5</title>
<path fill="none" stroke="black" d="M27.98,-346.15C17.09,-327.46 -3.73,-285.98 1.24,-249.17 5.5,-217.63 0.71,-205.25 20.24,-180.12 27.28,-171.08 37.98,-164.38 47.77,-159.71"/>
<polygon fill="black" stroke="black" points="49.27,-162.87 57.08,-155.71 46.51,-156.44 49.27,-162.87"/>
<text text-anchor="middle" x="6.74" y="-251.77" font-family="Times,serif" font-size="8.00">31</text>
</g>
<!-- 1 -->
<g id="node4" class="node">
<title>1</title>
<ellipse fill="none" stroke="black" cx="135.24" cy="-81.06" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="135.24" y="-79.16" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 4&#45;&gt;1 -->
<g id="edge6" class="edge">
<title>4&#45;&gt;1</title>
<path fill="none" stroke="black" d="M135.24,-276.16C135.24,-243.46 135.24,-146.65 135.24,-103.38"/>
<polygon fill="black" stroke="black" points="138.74,-103.15 135.24,-93.15 131.74,-103.15 138.74,-103.15"/>
<text text-anchor="middle" x="140.74" y="-182.72" font-family="Times,serif" font-size="8.00">11</text>
</g>
<!-- 3 -->
<g id="node7" class="node">
<title>3</title>
<ellipse fill="none" stroke="black" cx="91.24" cy="-219.15" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="91.24" y="-217.25" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 4&#45;&gt;3 -->
<g id="edge7" class="edge">
<title>4&#45;&gt;3</title>
<path fill="none" stroke="black" d="M126.28,-277.99C121.21,-272.51 114.96,-265.25 110.24,-258.17 106.52,-252.58 103.05,-246.16 100.11,-240.21"/>
<polygon fill="black" stroke="black" points="103.15,-238.43 95.74,-230.86 96.81,-241.4 103.15,-238.43"/>
<text text-anchor="middle" x="115.74" y="-251.77" font-family="Times,serif" font-size="8.00">15</text>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<ellipse fill="none" stroke="black" cx="179.24" cy="-219.15" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="179.24" y="-217.25" font-family="Times,serif" font-size="8.00">7</text>
</g>
<!-- 4&#45;&gt;7 -->
<g id="edge8" class="edge">
<title>4&#45;&gt;7</title>
<path fill="none" stroke="black" d="M141.93,-277.01C148.52,-266.96 158.75,-251.38 166.83,-239.06"/>
<polygon fill="black" stroke="black" points="169.94,-240.7 172.5,-230.42 164.08,-236.86 169.94,-240.7"/>
<text text-anchor="middle" x="163.24" y="-251.77" font-family="Times,serif" font-size="8.00">7</text>
</g>
<!-- 5&#45;&gt;0 -->
<g id="edge9" class="edge">
<title>5&#45;&gt;0</title>
<path fill="none" stroke="black" d="M67.93,-162.06C66.37,-167.46 64.57,-174.1 63.24,-180.12 51.07,-235.59 41.46,-301.9 36.99,-335.1"/>
<polygon fill="black" stroke="black" points="33.52,-334.65 35.67,-345.02 40.45,-335.57 33.52,-334.65"/>
<text text-anchor="middle" x="55.74" y="-251.77" font-family="Times,serif" font-size="8.00">20</text>
</g>
<!-- 5&#45;&gt;1 -->
<g id="edge10" class="edge">
<title>5&#45;&gt;1</title>
<path fill="none" stroke="black" d="M79.87,-140.06C89.93,-129.53 106.77,-111.89 119.24,-98.83"/>
<polygon fill="black" stroke="black" points="121.96,-101.04 126.34,-91.39 116.9,-96.21 121.96,-101.04"/>
<text text-anchor="middle" x="112.74" y="-113.68" font-family="Times,serif" font-size="8.00">12</text>
</g>
<!-- 6 -->
<g id="node5" class="node">
<title>6</title>
<ellipse fill="none" stroke="black" cx="135.24" cy="-12.02" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="135.24" y="-10.12" font-family="Times,serif" font-size="8.00">6</text>
</g>
<!-- 5&#45;&gt;6 -->
<g id="edge12" class="edge">
<title>5&#45;&gt;6</title>
<path fill="none" stroke="black" d="M75.24,-138.31C81.09,-122.77 92.58,-93.29 104.24,-69.04 110.29,-56.46 117.86,-42.75 124.01,-32.03"/>
<polygon fill="black" stroke="black" points="127.17,-33.56 129.17,-23.16 121.12,-30.05 127.17,-33.56"/>
<text text-anchor="middle" x="107.24" y="-79.16" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 5&#45;&gt;3 -->
<g id="edge11" class="edge">
<title>5&#45;&gt;3</title>
<path fill="none" stroke="black" d="M74.52,-162.07C77.37,-171.66 81.6,-185.83 85.09,-197.53"/>
<polygon fill="black" stroke="black" points="81.82,-198.79 88.03,-207.37 88.53,-196.79 81.82,-198.79"/>
<text text-anchor="middle" x="88.74" y="-182.72" font-family="Times,serif" font-size="8.00">22</text>
</g>
<!-- 1&#45;&gt;6 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;6</title>
<path fill="none" stroke="black" d="M135.24,-68.99C135.24,-59.63 135.24,-45.96 135.24,-34.47"/>
<polygon fill="black" stroke="black" points="138.74,-34.33 135.24,-24.33 131.74,-34.33 138.74,-34.33"/>
<text text-anchor="middle" x="140.74" y="-44.64" font-family="Times,serif" font-size="8.00">12</text>
</g>
<!-- 6&#45;&gt;4 -->
<g id="edge13" class="edge">
<title>6&#45;&gt;4</title>
<path fill="none" stroke="black" d="M150.24,-16.18C177.24,-22.84 231.24,-41.03 231.24,-80.06 231.24,-220.15 231.24,-220.15 231.24,-220.15 231.24,-254.91 188.41,-273.14 159.97,-281.42"/>
<polygon fill="black" stroke="black" points="158.99,-278.06 150.24,-284.03 160.81,-284.82 158.99,-278.06"/>
<text text-anchor="middle" x="234.24" y="-148.2" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 2 -->
<g id="node6" class="node">
<title>2</title>
<ellipse fill="none" stroke="black" cx="179.24" cy="-150.1" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="179.24" y="-148.2" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 2&#45;&gt;1 -->
<g id="edge4" class="edge">
<title>2&#45;&gt;1</title>
<path fill="none" stroke="black" d="M172.56,-138.92C165.97,-128.88 155.74,-113.29 147.66,-100.98"/>
<polygon fill="black" stroke="black" points="150.4,-98.78 141.99,-92.34 144.55,-102.62 150.4,-98.78"/>
<text text-anchor="middle" x="165.74" y="-113.68" font-family="Times,serif" font-size="8.00">26</text>
</g>
<!-- 3&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>3&#45;&gt;5</title>
<path fill="none" stroke="black" d="M81.77,-209.46C76.7,-204.15 70.95,-196.9 68.24,-189.12 66.39,-183.79 66.1,-177.79 66.54,-172.16"/>
<polygon fill="black" stroke="black" points="70.04,-172.47 68.08,-162.06 63.12,-171.42 70.04,-172.47"/>
<text text-anchor="middle" x="73.74" y="-182.72" font-family="Times,serif" font-size="8.00">40</text>
</g>
<!-- 7&#45;&gt;2 -->
<g id="edge14" class="edge">
<title>7&#45;&gt;2</title>
<path fill="none" stroke="black" d="M179.24,-207.08C179.24,-197.72 179.24,-184.04 179.24,-172.55"/>
<polygon fill="black" stroke="black" points="182.74,-172.42 179.24,-162.42 175.74,-172.42 182.74,-172.42"/>
<text text-anchor="middle" x="184.74" y="-182.72" font-family="Times,serif" font-size="8.00">17</text>
</g>
</g>
</svg>
</div>

    </td>
    <td style="font-size: 30px; vertical-align: middle;">op</td>
    <td style="width: 45%;">
        <!-- Diagram B -->
<div>
<!-- Title: %3 Pages: 1 -->
<svg width="144pt" height="170pt"
 viewBox="0.00 0.00 144.11 170.12" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 166.12)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-166.12 140.11,-166.12 140.11,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<ellipse fill="none" stroke="black" cx="22.56" cy="-150.1" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="22.56" y="-148.2" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 4 -->
<g id="node2" class="node">
<title>4</title>
<ellipse fill="none" stroke="black" cx="15.56" cy="-81.06" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="15.56" y="-79.16" font-family="Times,serif" font-size="8.00">4</text>
</g>
<!-- 0&#45;&gt;4 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;4</title>
<path fill="none" stroke="black" d="M21.4,-138.03C20.42,-128.68 19,-115 17.8,-103.51"/>
<polygon fill="black" stroke="black" points="21.26,-102.96 16.74,-93.37 14.29,-103.68 21.26,-102.96"/>
<text text-anchor="middle" x="22.56" y="-113.68" font-family="Times,serif" font-size="8.00">6</text>
</g>
<!-- 5 -->
<g id="node3" class="node">
<title>5</title>
<ellipse fill="none" stroke="black" cx="71.56" cy="-81.06" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="71.56" y="-79.16" font-family="Times,serif" font-size="8.00">5</text>
</g>
<!-- 0&#45;&gt;5 -->
<g id="edge2" class="edge">
<title>0&#45;&gt;5</title>
<path fill="none" stroke="black" d="M29.79,-139.21C37.24,-129.01 49.04,-112.87 58.19,-100.34"/>
<polygon fill="black" stroke="black" points="61.22,-102.13 64.3,-92 55.57,-98 61.22,-102.13"/>
<text text-anchor="middle" x="55.06" y="-113.68" font-family="Times,serif" font-size="8.00">31</text>
</g>
<!-- 7 -->
<g id="node7" class="node">
<title>7</title>
<ellipse fill="none" stroke="black" cx="15.56" cy="-12.02" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="15.56" y="-10.12" font-family="Times,serif" font-size="8.00">7</text>
</g>
<!-- 4&#45;&gt;7 -->
<g id="edge5" class="edge">
<title>4&#45;&gt;7</title>
<path fill="none" stroke="black" d="M15.56,-68.99C15.56,-59.63 15.56,-45.96 15.56,-34.47"/>
<polygon fill="black" stroke="black" points="19.06,-34.33 15.56,-24.33 12.06,-34.33 19.06,-34.33"/>
<text text-anchor="middle" x="18.56" y="-44.64" font-family="Times,serif" font-size="8.00">7</text>
</g>
<!-- 6 -->
<g id="node5" class="node">
<title>6</title>
<ellipse fill="none" stroke="black" cx="95.56" cy="-12.02" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="95.56" y="-10.12" font-family="Times,serif" font-size="8.00">6</text>
</g>
<!-- 5&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>5&#45;&gt;6</title>
<path fill="none" stroke="black" d="M75.41,-69.29C78.86,-59.67 83.99,-45.32 88.22,-33.52"/>
<polygon fill="black" stroke="black" points="91.55,-34.58 91.63,-23.99 84.96,-32.22 91.55,-34.58"/>
<text text-anchor="middle" x="87.56" y="-44.64" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 1 -->
<g id="node4" class="node">
<title>1</title>
<ellipse fill="none" stroke="black" cx="120.56" cy="-81.06" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="120.56" y="-79.16" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 1&#45;&gt;6 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;6</title>
<path fill="none" stroke="black" d="M116.54,-69.29C112.95,-59.67 107.6,-45.32 103.2,-33.52"/>
<polygon fill="black" stroke="black" points="106.42,-32.14 99.65,-23.99 99.86,-34.58 106.42,-32.14"/>
<text text-anchor="middle" x="114.06" y="-44.64" font-family="Times,serif" font-size="8.00">12</text>
</g>
<!-- 3 -->
<g id="node6" class="node">
<title>3</title>
<ellipse fill="none" stroke="black" cx="78.56" cy="-150.1" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="78.56" y="-148.2" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 3&#45;&gt;5 -->
<g id="edge4" class="edge">
<title>3&#45;&gt;5</title>
<path fill="none" stroke="black" d="M77.4,-138.03C76.42,-128.68 75,-115 73.8,-103.51"/>
<polygon fill="black" stroke="black" points="77.26,-102.96 72.74,-93.37 70.29,-103.68 77.26,-102.96"/>
<text text-anchor="middle" x="80.06" y="-113.68" font-family="Times,serif" font-size="8.00">40</text>
</g>
</g>
</svg>
</div>

    </td>
  </tr>
</table>
<h1 id="kronecker">Kronecker</h1>
<p>The <code>kronecker()</code> function takes two input matrices, and replaces
every element in the second matrix with a new submatrix of the
first.  This "expands" the matrix exponentially.  This is useful
for constructing synthetic graphs with specific power law
distributions.</p>
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="k">select</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">semiring</span><span class="p">,</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">kronecker</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">semiring</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">kronecker</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test_fixture</span><span class="p">;</span>
</span><span id="__span-38-2"><a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="go">┌──────────────┬──────────────────┬──────────────┬────────────────────┐</span>
</span><span id="__span-38-3"><a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="go">│      s       │     semiring     │      s       │     kronecker      │</span>
</span><span id="__span-38-4"><a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="go">├──────────────┼──────────────────┼──────────────┼────────────────────┤</span>
</span><span id="__span-38-5"><a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a><span class="go">│      0  1    │ plus_times_int32 │      0  1    │      0  1  2  3    │</span>
</span><span id="__span-38-6"><a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a><span class="go">│    ──────    │                  │    ──────    │    ────────────    │</span>
</span><span id="__span-38-7"><a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a><span class="go">│  0│  1  1    │                  │  0│  1  1    │  0│  1  1  1  1    │</span>
</span><span id="__span-38-8"><a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a><span class="go">│  1│     1    │                  │  1│     1    │  1│     1     1    │</span>
</span><span id="__span-38-9"><a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a><span class="go">│              │                  │              │  2│        1  1    │</span>
</span><span id="__span-38-10"><a id="__codelineno-38-10" name="__codelineno-38-10" href="#__codelineno-38-10"></a><span class="go">│              │                  │              │  3│           1    │</span>
</span><span id="__span-38-11"><a id="__codelineno-38-11" name="__codelineno-38-11" href="#__codelineno-38-11"></a><span class="go">│              │                  │              │                    │</span>
</span><span id="__span-38-12"><a id="__codelineno-38-12" name="__codelineno-38-12" href="#__codelineno-38-12"></a><span class="go">└──────────────┴──────────────────┴──────────────┴────────────────────┘</span>
</span><span id="__span-38-13"><a id="__codelineno-38-13" name="__codelineno-38-13" href="#__codelineno-38-13"></a><span class="go">(1 row)</span>
</span></code></pre></div>
<table style="width: 100%; table-layout: fixed;" class="dot-table">
  <tr>
    <td style="width: 30%;">
        <!-- Diagram A -->
<div>
<!-- Title: %3 Pages: 1 -->
<svg width="63pt" height="101pt"
 viewBox="0.00 0.00 63.11 101.08" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 97.08)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-97.08 59.11,-97.08 59.11,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<ellipse fill="none" stroke="black" cx="15.56" cy="-81.06" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="15.56" y="-79.16" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 0&#45;&gt;0 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;0</title>
<path fill="none" stroke="black" d="M29.34,-86.75C39.25,-88.6 49.11,-86.71 49.11,-81.06 49.11,-77.45 45.06,-75.37 39.55,-74.83"/>
<polygon fill="black" stroke="black" points="39.14,-71.35 29.34,-75.37 39.52,-78.34 39.14,-71.35"/>
<text text-anchor="middle" x="52.11" y="-79.16" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<ellipse fill="none" stroke="black" cx="15.56" cy="-12.02" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="15.56" y="-10.12" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge2" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="black" d="M15.56,-68.99C15.56,-59.63 15.56,-45.96 15.56,-34.47"/>
<polygon fill="black" stroke="black" points="19.06,-34.33 15.56,-24.33 12.06,-34.33 19.06,-34.33"/>
<text text-anchor="middle" x="18.56" y="-44.64" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 1&#45;&gt;1 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;1</title>
<path fill="none" stroke="black" d="M29.34,-17.71C39.25,-19.56 49.11,-17.67 49.11,-12.02 49.11,-8.4 45.06,-6.33 39.55,-5.79"/>
<polygon fill="black" stroke="black" points="39.14,-2.3 29.34,-6.33 39.52,-9.29 39.14,-2.3"/>
<text text-anchor="middle" x="52.11" y="-10.12" font-family="Times,serif" font-size="8.00">1</text>
</g>
</g>
</svg>
</div>

    </td>
    <td style="font-size: 30px; vertical-align: middle;">op</td>
    <td style="width: 30%;">
        <!-- Diagram B -->
<div>
<!-- Title: %3 Pages: 1 -->
<svg width="63pt" height="101pt"
 viewBox="0.00 0.00 63.11 101.08" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 97.08)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-97.08 59.11,-97.08 59.11,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<ellipse fill="none" stroke="black" cx="15.56" cy="-81.06" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="15.56" y="-79.16" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 0&#45;&gt;0 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;0</title>
<path fill="none" stroke="black" d="M29.34,-86.75C39.25,-88.6 49.11,-86.71 49.11,-81.06 49.11,-77.45 45.06,-75.37 39.55,-74.83"/>
<polygon fill="black" stroke="black" points="39.14,-71.35 29.34,-75.37 39.52,-78.34 39.14,-71.35"/>
<text text-anchor="middle" x="52.11" y="-79.16" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<ellipse fill="none" stroke="black" cx="15.56" cy="-12.02" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="15.56" y="-10.12" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge2" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="black" d="M15.56,-68.99C15.56,-59.63 15.56,-45.96 15.56,-34.47"/>
<polygon fill="black" stroke="black" points="19.06,-34.33 15.56,-24.33 12.06,-34.33 19.06,-34.33"/>
<text text-anchor="middle" x="18.56" y="-44.64" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 1&#45;&gt;1 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;1</title>
<path fill="none" stroke="black" d="M29.34,-17.71C39.25,-19.56 49.11,-17.67 49.11,-12.02 49.11,-8.4 45.06,-6.33 39.55,-5.79"/>
<polygon fill="black" stroke="black" points="39.14,-2.3 29.34,-6.33 39.52,-9.29 39.14,-2.3"/>
<text text-anchor="middle" x="52.11" y="-10.12" font-family="Times,serif" font-size="8.00">1</text>
</g>
</g>
</svg>
</div>

    </td>
    <td style="font-size: 30px; vertical-align: middle;">=</td>
    <td style="width: 30%;">
        <!-- Diagram C -->
<div>
<!-- Title: %3 Pages: 1 -->
<svg width="154pt" height="170pt"
 viewBox="0.00 0.00 153.56 170.12" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 166.12)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-166.12 149.56,-166.12 149.56,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<ellipse fill="none" stroke="black" cx="88.56" cy="-150.1" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="88.56" y="-148.2" font-family="Times,serif" font-size="8.00">0</text>
</g>
<!-- 0&#45;&gt;0 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;0</title>
<path fill="none" stroke="black" d="M102.34,-155.79C112.25,-157.64 122.11,-155.75 122.11,-150.1 122.11,-146.49 118.06,-144.41 112.55,-143.87"/>
<polygon fill="black" stroke="black" points="112.14,-140.39 102.34,-144.42 112.52,-147.38 112.14,-140.39"/>
<text text-anchor="middle" x="125.11" y="-148.2" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<ellipse fill="none" stroke="black" cx="15.56" cy="-81.06" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="15.56" y="-79.16" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge2" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="black" d="M79.01,-140.34C67.38,-129.66 47.5,-111.4 33.09,-98.16"/>
<polygon fill="black" stroke="black" points="35.07,-95.23 25.34,-91.04 30.33,-100.39 35.07,-95.23"/>
<text text-anchor="middle" x="59.56" y="-113.68" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<ellipse fill="none" stroke="black" cx="88.56" cy="-81.06" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="88.56" y="-79.16" font-family="Times,serif" font-size="8.00">2</text>
</g>
<!-- 0&#45;&gt;2 -->
<g id="edge3" class="edge">
<title>0&#45;&gt;2</title>
<path fill="none" stroke="black" d="M88.56,-138.03C88.56,-128.68 88.56,-115 88.56,-103.51"/>
<polygon fill="black" stroke="black" points="92.06,-103.37 88.56,-93.37 85.06,-103.37 92.06,-103.37"/>
<text text-anchor="middle" x="91.56" y="-113.68" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<ellipse fill="none" stroke="black" cx="88.56" cy="-12.02" rx="15.61" ry="12.04"/>
<text text-anchor="middle" x="88.56" y="-10.12" font-family="Times,serif" font-size="8.00">3</text>
</g>
<!-- 0&#45;&gt;3 -->
<g id="edge4" class="edge">
<title>0&#45;&gt;3</title>
<path fill="none" stroke="black" d="M99.24,-141C111.21,-131.18 129.92,-113.4 137.56,-93.08 146.81,-68.44 124.87,-43.01 107.42,-27.61"/>
<polygon fill="black" stroke="black" points="109.29,-24.61 99.37,-20.9 104.81,-29.99 109.29,-24.61"/>
<text text-anchor="middle" x="142.56" y="-79.16" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 1&#45;&gt;1 -->
<g id="edge5" class="edge">
<title>1&#45;&gt;1</title>
<path fill="none" stroke="black" d="M29.34,-86.75C39.25,-88.6 49.11,-86.71 49.11,-81.06 49.11,-77.45 45.06,-75.37 39.55,-74.83"/>
<polygon fill="black" stroke="black" points="39.14,-71.35 29.34,-75.37 39.52,-78.34 39.14,-71.35"/>
<text text-anchor="middle" x="52.11" y="-79.16" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge6" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="black" d="M25.1,-71.3C36.73,-60.62 56.61,-42.36 71.03,-29.12"/>
<polygon fill="black" stroke="black" points="73.78,-31.34 78.78,-22 69.04,-26.19 73.78,-31.34"/>
<text text-anchor="middle" x="59.56" y="-44.64" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 2&#45;&gt;2 -->
<g id="edge7" class="edge">
<title>2&#45;&gt;2</title>
<path fill="none" stroke="black" d="M102.34,-86.75C112.25,-88.6 122.11,-86.71 122.11,-81.06 122.11,-77.45 118.06,-75.37 112.55,-74.83"/>
<polygon fill="black" stroke="black" points="112.14,-71.35 102.34,-75.37 112.52,-78.34 112.14,-71.35"/>
<text text-anchor="middle" x="125.11" y="-79.16" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge8" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="black" d="M88.56,-68.99C88.56,-59.63 88.56,-45.96 88.56,-34.47"/>
<polygon fill="black" stroke="black" points="92.06,-34.33 88.56,-24.33 85.06,-34.33 92.06,-34.33"/>
<text text-anchor="middle" x="91.56" y="-44.64" font-family="Times,serif" font-size="8.00">1</text>
</g>
<!-- 3&#45;&gt;3 -->
<g id="edge9" class="edge">
<title>3&#45;&gt;3</title>
<path fill="none" stroke="black" d="M102.34,-17.71C112.25,-19.56 122.11,-17.67 122.11,-12.02 122.11,-8.4 118.06,-6.33 112.55,-5.79"/>
<polygon fill="black" stroke="black" points="112.14,-2.3 102.34,-6.33 112.52,-9.29 112.14,-2.3"/>
<text text-anchor="middle" x="125.11" y="-10.12" font-family="Times,serif" font-size="8.00">1</text>
</g>
</g>
</svg>
</div>

    </td>
  </tr>
</table>
<h1 id="kronecker-power">Kronecker Power</h1>
<p>here's a special function for exponentiating a matrix to itself
a certain number of times, <code>kronpower</code>.:
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="k">select</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">kronpower</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="mf">2</span><span class="p">))</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test_fixture</span><span class="p">;</span>
</span><span id="__span-39-2"><a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="go">┌────────────────────────────────────────────────────────┐</span>
</span><span id="__span-39-3"><a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a><span class="go">│                         print                          │</span>
</span><span id="__span-39-4"><a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a><span class="go">├────────────────────────────────────────────────────────┤</span>
</span><span id="__span-39-5"><a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a><span class="go">│      0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15    │</span>
</span><span id="__span-39-6"><a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a><span class="go">│    ────────────────────────────────────────────────    │</span>
</span><span id="__span-39-7"><a id="__codelineno-39-7" name="__codelineno-39-7" href="#__codelineno-39-7"></a><span class="go">│  0│  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1    │</span>
</span><span id="__span-39-8"><a id="__codelineno-39-8" name="__codelineno-39-8" href="#__codelineno-39-8"></a><span class="go">│  1│     1     1     1     1     1     1     1     1    │</span>
</span><span id="__span-39-9"><a id="__codelineno-39-9" name="__codelineno-39-9" href="#__codelineno-39-9"></a><span class="go">│  2│        1  1        1  1        1  1        1  1    │</span>
</span><span id="__span-39-10"><a id="__codelineno-39-10" name="__codelineno-39-10" href="#__codelineno-39-10"></a><span class="go">│  3│           1           1           1           1    │</span>
</span><span id="__span-39-11"><a id="__codelineno-39-11" name="__codelineno-39-11" href="#__codelineno-39-11"></a><span class="go">│  4│              1  1  1  1              1  1  1  1    │</span>
</span><span id="__span-39-12"><a id="__codelineno-39-12" name="__codelineno-39-12" href="#__codelineno-39-12"></a><span class="go">│  5│                 1     1                 1     1    │</span>
</span><span id="__span-39-13"><a id="__codelineno-39-13" name="__codelineno-39-13" href="#__codelineno-39-13"></a><span class="go">│  6│                    1  1                    1  1    │</span>
</span><span id="__span-39-14"><a id="__codelineno-39-14" name="__codelineno-39-14" href="#__codelineno-39-14"></a><span class="go">│  7│                       1                       1    │</span>
</span><span id="__span-39-15"><a id="__codelineno-39-15" name="__codelineno-39-15" href="#__codelineno-39-15"></a><span class="go">│  8│                          1  1  1  1  1  1  1  1    │</span>
</span><span id="__span-39-16"><a id="__codelineno-39-16" name="__codelineno-39-16" href="#__codelineno-39-16"></a><span class="go">│  9│                             1     1     1     1    │</span>
</span><span id="__span-39-17"><a id="__codelineno-39-17" name="__codelineno-39-17" href="#__codelineno-39-17"></a><span class="go">│ 10│                                1  1        1  1    │</span>
</span><span id="__span-39-18"><a id="__codelineno-39-18" name="__codelineno-39-18" href="#__codelineno-39-18"></a><span class="go">│ 11│                                   1           1    │</span>
</span><span id="__span-39-19"><a id="__codelineno-39-19" name="__codelineno-39-19" href="#__codelineno-39-19"></a><span class="go">│ 12│                                      1  1  1  1    │</span>
</span><span id="__span-39-20"><a id="__codelineno-39-20" name="__codelineno-39-20" href="#__codelineno-39-20"></a><span class="go">│ 13│                                         1     1    │</span>
</span><span id="__span-39-21"><a id="__codelineno-39-21" name="__codelineno-39-21" href="#__codelineno-39-21"></a><span class="go">│ 14│                                            1  1    │</span>
</span><span id="__span-39-22"><a id="__codelineno-39-22" name="__codelineno-39-22" href="#__codelineno-39-22"></a><span class="go">│ 15│                                               1    │</span>
</span><span id="__span-39-23"><a id="__codelineno-39-23" name="__codelineno-39-23" href="#__codelineno-39-23"></a><span class="go">│                                                        │</span>
</span><span id="__span-39-24"><a id="__codelineno-39-24" name="__codelineno-39-24" href="#__codelineno-39-24"></a><span class="go">└────────────────────────────────────────────────────────┘</span>
</span><span id="__span-39-25"><a id="__codelineno-39-25" name="__codelineno-39-25" href="#__codelineno-39-25"></a><span class="go">(1 row)</span>
</span></code></pre></div>
Kronecker products can very quickly make huge graphs with power law
distributions.  These are handy synthetic graphs to mimic certain
statistical edge distributions common in sparse graph problems:
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="k">select</span><span class="w"> </span><span class="n">nvals</span><span class="p">(</span><span class="n">kronpower</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="p">))</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test_fixture</span><span class="p">;</span>
</span><span id="__span-40-2"><a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a><span class="go">┌───────┐</span>
</span><span id="__span-40-3"><a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a><span class="go">│ nvals │</span>
</span><span id="__span-40-4"><a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a><span class="go">├───────┤</span>
</span><span id="__span-40-5"><a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a><span class="go">│  6561 │</span>
</span><span id="__span-40-6"><a id="__codelineno-40-6" name="__codelineno-40-6" href="#__codelineno-40-6"></a><span class="go">└───────┘</span>
</span><span id="__span-40-7"><a id="__codelineno-40-7" name="__codelineno-40-7" href="#__codelineno-40-7"></a><span class="go">(1 row)</span>
</span></code></pre></div>
Let's time how long it takes to make a huge kronecker product:
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="k">select</span><span class="w"> </span><span class="n">nvals</span><span class="p">(</span><span class="n">kronpower</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="mf">4</span><span class="p">))</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test_fixture</span><span class="p">;</span>
</span><span id="__span-41-2"><a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="go">┌──────────┐</span>
</span><span id="__span-41-3"><a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a><span class="go">│  nvals   │</span>
</span><span id="__span-41-4"><a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a><span class="go">├──────────┤</span>
</span><span id="__span-41-5"><a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a><span class="go">│ 43046721 │</span>
</span><span id="__span-41-6"><a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a><span class="go">└──────────┘</span>
</span><span id="__span-41-7"><a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a><span class="go">(1 row)</span>
</span><span id="__span-41-8"><a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a>
</span><span id="__span-41-9"><a id="__codelineno-41-9" name="__codelineno-41-9" href="#__codelineno-41-9"></a><span class="go">Time: 109.633 ms</span>
</span></code></pre></div></p>
<h1 id="transpose">Transpose</h1>
<p>A matrix can be transposed with the <code>transpose()</code> function:
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="k">select</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">transpose</span><span class="p">(</span><span class="n">a</span><span class="p">))</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test_fixture</span><span class="p">;</span>
</span><span id="__span-42-2"><a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="go">┌────────────────────┐</span>
</span><span id="__span-42-3"><a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a><span class="go">│       print        │</span>
</span><span id="__span-42-4"><a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a><span class="go">├────────────────────┤</span>
</span><span id="__span-42-5"><a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a><span class="go">│      0  1  2  3    │</span>
</span><span id="__span-42-6"><a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a><span class="go">│    ────────────    │</span>
</span><span id="__span-42-7"><a id="__codelineno-42-7" name="__codelineno-42-7" href="#__codelineno-42-7"></a><span class="go">│  0│     2  2  2    │</span>
</span><span id="__span-42-8"><a id="__codelineno-42-8" name="__codelineno-42-8" href="#__codelineno-42-8"></a><span class="go">│  1│        2       │</span>
</span><span id="__span-42-9"><a id="__codelineno-42-9" name="__codelineno-42-9" href="#__codelineno-42-9"></a><span class="go">│  2│  0  1     1    │</span>
</span><span id="__span-42-10"><a id="__codelineno-42-10" name="__codelineno-42-10" href="#__codelineno-42-10"></a><span class="go">│  3│  3  0          │</span>
</span><span id="__span-42-11"><a id="__codelineno-42-11" name="__codelineno-42-11" href="#__codelineno-42-11"></a><span class="go">│                    │</span>
</span><span id="__span-42-12"><a id="__codelineno-42-12" name="__codelineno-42-12" href="#__codelineno-42-12"></a><span class="go">└────────────────────┘</span>
</span><span id="__span-42-13"><a id="__codelineno-42-13" name="__codelineno-42-13" href="#__codelineno-42-13"></a><span class="go">(1 row)</span>
</span></code></pre></div></p>
<h1 id="apply">Apply</h1>
<p><code>apply</code> takes an operator of type <code>unaryop</code> and applies it to every
element of the matrix.  The 'ainv_int32' returned the additive
inverse (the negative value for integers) of every element:
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="k">select</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">unaryop</span><span class="p">,</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">apply</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">unaryop</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">applied</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test_fixture</span><span class="p">;</span>
</span><span id="__span-43-2"><a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a><span class="go">┌────────────────────┬────────────┬────────────────────┐</span>
</span><span id="__span-43-3"><a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a><span class="go">│         a          │  unaryop   │      applied       │</span>
</span><span id="__span-43-4"><a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a><span class="go">├────────────────────┼────────────┼────────────────────┤</span>
</span><span id="__span-43-5"><a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a><span class="go">│      0  1  2  3    │ ainv_int32 │      0  1  2  3    │</span>
</span><span id="__span-43-6"><a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a><span class="go">│    ────────────    │            │    ────────────    │</span>
</span><span id="__span-43-7"><a id="__codelineno-43-7" name="__codelineno-43-7" href="#__codelineno-43-7"></a><span class="go">│  0│        0  3    │            │  0│        0 -3    │</span>
</span><span id="__span-43-8"><a id="__codelineno-43-8" name="__codelineno-43-8" href="#__codelineno-43-8"></a><span class="go">│  1│  2     1  0    │            │  1│ -2    -1  0    │</span>
</span><span id="__span-43-9"><a id="__codelineno-43-9" name="__codelineno-43-9" href="#__codelineno-43-9"></a><span class="go">│  2│  2  2          │            │  2│ -2 -2          │</span>
</span><span id="__span-43-10"><a id="__codelineno-43-10" name="__codelineno-43-10" href="#__codelineno-43-10"></a><span class="go">│  3│  2     1       │            │  3│ -2    -1       │</span>
</span><span id="__span-43-11"><a id="__codelineno-43-11" name="__codelineno-43-11" href="#__codelineno-43-11"></a><span class="go">│                    │            │                    │</span>
</span><span id="__span-43-12"><a id="__codelineno-43-12" name="__codelineno-43-12" href="#__codelineno-43-12"></a><span class="go">└────────────────────┴────────────┴────────────────────┘</span>
</span><span id="__span-43-13"><a id="__codelineno-43-13" name="__codelineno-43-13" href="#__codelineno-43-13"></a><span class="go">(1 row)</span>
</span></code></pre></div></p>
<h1 id="suitesparse-info">SuiteSparse Info</h1>
<p>The <code>info</code> function returns a descripton of the matrix from
SuiteSparse.
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="k">select</span><span class="w"> </span><span class="n">info</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test_fixture</span><span class="p">;</span>
</span><span id="__span-44-2"><a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a><span class="go">┌───────────────────────────────────────────────┐</span>
</span><span id="__span-44-3"><a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a><span class="go">│                     info                      │</span>
</span><span id="__span-44-4"><a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a><span class="go">├───────────────────────────────────────────────┤</span>
</span><span id="__span-44-5"><a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a><span class="go">│                                               │</span>
</span><span id="__span-44-6"><a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a><span class="go">│   4x4 GraphBLAS int32_t matrix, bitmap by row │</span>
</span><span id="__span-44-7"><a id="__codelineno-44-7" name="__codelineno-44-7" href="#__codelineno-44-7"></a><span class="gp">│   A-&gt;</span><span class="n">matrix</span><span class="p">,</span><span class="w"> </span><span class="mf">9</span><span class="w"> </span><span class="n">entries</span><span class="p">,</span><span class="w"> </span><span class="n">memory</span><span class="p">:</span><span class="w"> </span><span class="mf">312</span><span class="w"> </span><span class="n">bytes</span><span class="w">     </span><span class="err">│</span>
</span><span id="__span-44-8"><a id="__codelineno-44-8" name="__codelineno-44-8" href="#__codelineno-44-8"></a><span class="err">│</span><span class="w">                                               </span><span class="err">│</span>
</span><span id="__span-44-9"><a id="__codelineno-44-9" name="__codelineno-44-9" href="#__codelineno-44-9"></a><span class="err">│</span><span class="w">                                               </span><span class="err">│</span>
</span><span id="__span-44-10"><a id="__codelineno-44-10" name="__codelineno-44-10" href="#__codelineno-44-10"></a><span class="err">└───────────────────────────────────────────────┘</span>
</span><span id="__span-44-11"><a id="__codelineno-44-11" name="__codelineno-44-11" href="#__codelineno-44-11"></a><span class="p">(</span><span class="mf">1</span><span class="w"> </span><span class="k">row</span><span class="p">)</span>
</span></code></pre></div></p>
<h1 id="matrix-duplication">Matrix Duplication</h1>
<p>The <code>dup</code> function duplicates a matrix returning a new matrix
object with the same values:
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="k">select</span><span class="w"> </span><span class="n">dup</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">test_fixture</span><span class="p">;</span>
</span><span id="__span-45-2"><a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a><span class="go">┌───────────────────────────────────────────────────────────────────┐</span>
</span><span id="__span-45-3"><a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a><span class="go">│                                dup                                │</span>
</span><span id="__span-45-4"><a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a><span class="go">├───────────────────────────────────────────────────────────────────┤</span>
</span><span id="__span-45-5"><a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a><span class="go">│ int32(4:4)[0:2:0 0:3:3 1:0:2 1:2:1 1:3:0 2:0:2 2:1:2 3:0:2 3:2:1] │</span>
</span><span id="__span-45-6"><a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a><span class="go">└───────────────────────────────────────────────────────────────────┘</span>
</span><span id="__span-45-7"><a id="__codelineno-45-7" name="__codelineno-45-7" href="#__codelineno-45-7"></a><span class="go">(1 row)</span>
</span></code></pre></div></p>
<h1 id="work-completion">Work Completion</h1>
<p>The <code>wait</code> method is used to "complete" a matrix, which may have
pending operations waiting to be performed when using the default
SuiteSparse non-blocking mode.  As a side effect, wait will sort
the elements of the input:
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="k">select</span><span class="w"> </span><span class="n">wait</span><span class="p">(</span><span class="s1">&#39;int32[2:2:2 3:3:3 1:1:1]&#39;</span><span class="o">::</span><span class="n">matrix</span><span class="p">);</span>
</span><span id="__span-46-2"><a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a><span class="go">┌──────────────────────────┐</span>
</span><span id="__span-46-3"><a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a><span class="go">│           wait           │</span>
</span><span id="__span-46-4"><a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a><span class="go">├──────────────────────────┤</span>
</span><span id="__span-46-5"><a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a><span class="go">│ int32[1:1:1 2:2:2 3:3:3] │</span>
</span><span id="__span-46-6"><a id="__codelineno-46-6" name="__codelineno-46-6" href="#__codelineno-46-6"></a><span class="go">└──────────────────────────┘</span>
</span><span id="__span-46-7"><a id="__codelineno-46-7" name="__codelineno-46-7" href="#__codelineno-46-7"></a><span class="go">(1 row)</span>
</span></code></pre></div>
The <code>clear</code> function clears the matrix of all elements and returns
the same object, but empty.  The dimensions do not change:</p>
<h1 id="clearing-matrices">Clearing Matrices</h1>
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="k">select</span><span class="w"> </span><span class="n">clear</span><span class="p">(</span><span class="s1">&#39;int32[1:1:1 2:2:2 3:3:3]&#39;</span><span class="o">::</span><span class="n">matrix</span><span class="p">);</span>
</span><span id="__span-47-2"><a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a><span class="go">┌───────┐</span>
</span><span id="__span-47-3"><a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a><span class="go">│ clear │</span>
</span><span id="__span-47-4"><a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a><span class="go">├───────┤</span>
</span><span id="__span-47-5"><a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a><span class="go">│ int32 │</span>
</span><span id="__span-47-6"><a id="__codelineno-47-6" name="__codelineno-47-6" href="#__codelineno-47-6"></a><span class="go">└───────┘</span>
</span><span id="__span-47-7"><a id="__codelineno-47-7" name="__codelineno-47-7" href="#__codelineno-47-7"></a><span class="go">(1 row)</span>
</span></code></pre></div>
<h1 id="extra-tests">Extra tests</h1>
<p>This documentation also forms the basis for the onesparse tests,
These tests run the documentation against a live server, all the
above results are automatically generated.
<div class="language-postgres-console highlight"><pre><span></span><code><span id="__span-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="k">select</span><span class="w"> </span><span class="n">nrows</span><span class="p">(</span><span class="s1">&#39;int32(10)[1:1:1 2:2:2 3:3:3]&#39;</span><span class="o">::</span><span class="n">matrix</span><span class="p">);</span>
</span><span id="__span-48-2"><a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a><span class="go">┌───────┐</span>
</span><span id="__span-48-3"><a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a><span class="go">│ nrows │</span>
</span><span id="__span-48-4"><a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a><span class="go">├───────┤</span>
</span><span id="__span-48-5"><a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a><span class="go">│    10 │</span>
</span><span id="__span-48-6"><a id="__codelineno-48-6" name="__codelineno-48-6" href="#__codelineno-48-6"></a><span class="go">└───────┘</span>
</span><span id="__span-48-7"><a id="__codelineno-48-7" name="__codelineno-48-7" href="#__codelineno-48-7"></a><span class="go">(1 row)</span>
</span><span id="__span-48-8"><a id="__codelineno-48-8" name="__codelineno-48-8" href="#__codelineno-48-8"></a>
</span><span id="__span-48-9"><a id="__codelineno-48-9" name="__codelineno-48-9" href="#__codelineno-48-9"></a><span class="go">select ncols(&#39;int32(10)[1:1:1 2:2:2 3:3:3]&#39;::matrix);</span>
</span><span id="__span-48-10"><a id="__codelineno-48-10" name="__codelineno-48-10" href="#__codelineno-48-10"></a><span class="go">┌─────────────────────┐</span>
</span><span id="__span-48-11"><a id="__codelineno-48-11" name="__codelineno-48-11" href="#__codelineno-48-11"></a><span class="go">│        ncols        │</span>
</span><span id="__span-48-12"><a id="__codelineno-48-12" name="__codelineno-48-12" href="#__codelineno-48-12"></a><span class="go">├─────────────────────┤</span>
</span><span id="__span-48-13"><a id="__codelineno-48-13" name="__codelineno-48-13" href="#__codelineno-48-13"></a><span class="go">│ 1152921504606846976 │</span>
</span><span id="__span-48-14"><a id="__codelineno-48-14" name="__codelineno-48-14" href="#__codelineno-48-14"></a><span class="go">└─────────────────────┘</span>
</span><span id="__span-48-15"><a id="__codelineno-48-15" name="__codelineno-48-15" href="#__codelineno-48-15"></a><span class="go">(1 row)</span>
</span><span id="__span-48-16"><a id="__codelineno-48-16" name="__codelineno-48-16" href="#__codelineno-48-16"></a>
</span><span id="__span-48-17"><a id="__codelineno-48-17" name="__codelineno-48-17" href="#__codelineno-48-17"></a><span class="go">select nvals(&#39;int32(10)[1:1:1 2:2:2 3:3:3]&#39;::matrix);</span>
</span><span id="__span-48-18"><a id="__codelineno-48-18" name="__codelineno-48-18" href="#__codelineno-48-18"></a><span class="go">┌───────┐</span>
</span><span id="__span-48-19"><a id="__codelineno-48-19" name="__codelineno-48-19" href="#__codelineno-48-19"></a><span class="go">│ nvals │</span>
</span><span id="__span-48-20"><a id="__codelineno-48-20" name="__codelineno-48-20" href="#__codelineno-48-20"></a><span class="go">├───────┤</span>
</span><span id="__span-48-21"><a id="__codelineno-48-21" name="__codelineno-48-21" href="#__codelineno-48-21"></a><span class="go">│     3 │</span>
</span><span id="__span-48-22"><a id="__codelineno-48-22" name="__codelineno-48-22" href="#__codelineno-48-22"></a><span class="go">└───────┘</span>
</span><span id="__span-48-23"><a id="__codelineno-48-23" name="__codelineno-48-23" href="#__codelineno-48-23"></a><span class="go">(1 row)</span>
</span><span id="__span-48-24"><a id="__codelineno-48-24" name="__codelineno-48-24" href="#__codelineno-48-24"></a>
</span><span id="__span-48-25"><a id="__codelineno-48-25" name="__codelineno-48-25" href="#__codelineno-48-25"></a><span class="go">select nrows(&#39;int32(10:)[1:1:1 2:2:2 3:3:3]&#39;::matrix);</span>
</span><span id="__span-48-26"><a id="__codelineno-48-26" name="__codelineno-48-26" href="#__codelineno-48-26"></a><span class="go">┌───────┐</span>
</span><span id="__span-48-27"><a id="__codelineno-48-27" name="__codelineno-48-27" href="#__codelineno-48-27"></a><span class="go">│ nrows │</span>
</span><span id="__span-48-28"><a id="__codelineno-48-28" name="__codelineno-48-28" href="#__codelineno-48-28"></a><span class="go">├───────┤</span>
</span><span id="__span-48-29"><a id="__codelineno-48-29" name="__codelineno-48-29" href="#__codelineno-48-29"></a><span class="go">│    10 │</span>
</span><span id="__span-48-30"><a id="__codelineno-48-30" name="__codelineno-48-30" href="#__codelineno-48-30"></a><span class="go">└───────┘</span>
</span><span id="__span-48-31"><a id="__codelineno-48-31" name="__codelineno-48-31" href="#__codelineno-48-31"></a><span class="go">(1 row)</span>
</span><span id="__span-48-32"><a id="__codelineno-48-32" name="__codelineno-48-32" href="#__codelineno-48-32"></a>
</span><span id="__span-48-33"><a id="__codelineno-48-33" name="__codelineno-48-33" href="#__codelineno-48-33"></a><span class="go">select ncols(&#39;int32(10:)[1:1:1 2:2:2 3:3:3]&#39;::matrix);</span>
</span><span id="__span-48-34"><a id="__codelineno-48-34" name="__codelineno-48-34" href="#__codelineno-48-34"></a><span class="go">┌─────────────────────┐</span>
</span><span id="__span-48-35"><a id="__codelineno-48-35" name="__codelineno-48-35" href="#__codelineno-48-35"></a><span class="go">│        ncols        │</span>
</span><span id="__span-48-36"><a id="__codelineno-48-36" name="__codelineno-48-36" href="#__codelineno-48-36"></a><span class="go">├─────────────────────┤</span>
</span><span id="__span-48-37"><a id="__codelineno-48-37" name="__codelineno-48-37" href="#__codelineno-48-37"></a><span class="go">│ 1152921504606846976 │</span>
</span><span id="__span-48-38"><a id="__codelineno-48-38" name="__codelineno-48-38" href="#__codelineno-48-38"></a><span class="go">└─────────────────────┘</span>
</span><span id="__span-48-39"><a id="__codelineno-48-39" name="__codelineno-48-39" href="#__codelineno-48-39"></a><span class="go">(1 row)</span>
</span><span id="__span-48-40"><a id="__codelineno-48-40" name="__codelineno-48-40" href="#__codelineno-48-40"></a>
</span><span id="__span-48-41"><a id="__codelineno-48-41" name="__codelineno-48-41" href="#__codelineno-48-41"></a><span class="go">select nvals(&#39;int32(10:)[1:1:1 2:2:2 3:3:3]&#39;::matrix);</span>
</span><span id="__span-48-42"><a id="__codelineno-48-42" name="__codelineno-48-42" href="#__codelineno-48-42"></a><span class="go">┌───────┐</span>
</span><span id="__span-48-43"><a id="__codelineno-48-43" name="__codelineno-48-43" href="#__codelineno-48-43"></a><span class="go">│ nvals │</span>
</span><span id="__span-48-44"><a id="__codelineno-48-44" name="__codelineno-48-44" href="#__codelineno-48-44"></a><span class="go">├───────┤</span>
</span><span id="__span-48-45"><a id="__codelineno-48-45" name="__codelineno-48-45" href="#__codelineno-48-45"></a><span class="go">│     3 │</span>
</span><span id="__span-48-46"><a id="__codelineno-48-46" name="__codelineno-48-46" href="#__codelineno-48-46"></a><span class="go">└───────┘</span>
</span><span id="__span-48-47"><a id="__codelineno-48-47" name="__codelineno-48-47" href="#__codelineno-48-47"></a><span class="go">(1 row)</span>
</span><span id="__span-48-48"><a id="__codelineno-48-48" name="__codelineno-48-48" href="#__codelineno-48-48"></a>
</span><span id="__span-48-49"><a id="__codelineno-48-49" name="__codelineno-48-49" href="#__codelineno-48-49"></a><span class="go">select nrows(&#39;int32(:10)[1:1:1 2:2:2 3:3:3]&#39;::matrix);</span>
</span><span id="__span-48-50"><a id="__codelineno-48-50" name="__codelineno-48-50" href="#__codelineno-48-50"></a><span class="go">┌─────────────────────┐</span>
</span><span id="__span-48-51"><a id="__codelineno-48-51" name="__codelineno-48-51" href="#__codelineno-48-51"></a><span class="go">│        nrows        │</span>
</span><span id="__span-48-52"><a id="__codelineno-48-52" name="__codelineno-48-52" href="#__codelineno-48-52"></a><span class="go">├─────────────────────┤</span>
</span><span id="__span-48-53"><a id="__codelineno-48-53" name="__codelineno-48-53" href="#__codelineno-48-53"></a><span class="go">│ 1152921504606846976 │</span>
</span><span id="__span-48-54"><a id="__codelineno-48-54" name="__codelineno-48-54" href="#__codelineno-48-54"></a><span class="go">└─────────────────────┘</span>
</span><span id="__span-48-55"><a id="__codelineno-48-55" name="__codelineno-48-55" href="#__codelineno-48-55"></a><span class="go">(1 row)</span>
</span><span id="__span-48-56"><a id="__codelineno-48-56" name="__codelineno-48-56" href="#__codelineno-48-56"></a>
</span><span id="__span-48-57"><a id="__codelineno-48-57" name="__codelineno-48-57" href="#__codelineno-48-57"></a><span class="go">select ncols(&#39;int32(:10)[1:1:1 2:2:2 3:3:3]&#39;::matrix);</span>
</span><span id="__span-48-58"><a id="__codelineno-48-58" name="__codelineno-48-58" href="#__codelineno-48-58"></a><span class="go">┌───────┐</span>
</span><span id="__span-48-59"><a id="__codelineno-48-59" name="__codelineno-48-59" href="#__codelineno-48-59"></a><span class="go">│ ncols │</span>
</span><span id="__span-48-60"><a id="__codelineno-48-60" name="__codelineno-48-60" href="#__codelineno-48-60"></a><span class="go">├───────┤</span>
</span><span id="__span-48-61"><a id="__codelineno-48-61" name="__codelineno-48-61" href="#__codelineno-48-61"></a><span class="go">│    10 │</span>
</span><span id="__span-48-62"><a id="__codelineno-48-62" name="__codelineno-48-62" href="#__codelineno-48-62"></a><span class="go">└───────┘</span>
</span><span id="__span-48-63"><a id="__codelineno-48-63" name="__codelineno-48-63" href="#__codelineno-48-63"></a><span class="go">(1 row)</span>
</span><span id="__span-48-64"><a id="__codelineno-48-64" name="__codelineno-48-64" href="#__codelineno-48-64"></a>
</span><span id="__span-48-65"><a id="__codelineno-48-65" name="__codelineno-48-65" href="#__codelineno-48-65"></a><span class="go">select nvals(&#39;int32(:10)[1:1:1 2:2:2 3:3:3]&#39;::matrix);</span>
</span><span id="__span-48-66"><a id="__codelineno-48-66" name="__codelineno-48-66" href="#__codelineno-48-66"></a><span class="go">┌───────┐</span>
</span><span id="__span-48-67"><a id="__codelineno-48-67" name="__codelineno-48-67" href="#__codelineno-48-67"></a><span class="go">│ nvals │</span>
</span><span id="__span-48-68"><a id="__codelineno-48-68" name="__codelineno-48-68" href="#__codelineno-48-68"></a><span class="go">├───────┤</span>
</span><span id="__span-48-69"><a id="__codelineno-48-69" name="__codelineno-48-69" href="#__codelineno-48-69"></a><span class="go">│     3 │</span>
</span><span id="__span-48-70"><a id="__codelineno-48-70" name="__codelineno-48-70" href="#__codelineno-48-70"></a><span class="go">└───────┘</span>
</span><span id="__span-48-71"><a id="__codelineno-48-71" name="__codelineno-48-71" href="#__codelineno-48-71"></a><span class="go">(1 row)</span>
</span><span id="__span-48-72"><a id="__codelineno-48-72" name="__codelineno-48-72" href="#__codelineno-48-72"></a>
</span><span id="__span-48-73"><a id="__codelineno-48-73" name="__codelineno-48-73" href="#__codelineno-48-73"></a><span class="go">select nrows(&#39;int32(10:10)[1:1:1 2:2:2 3:3:3]&#39;::matrix);</span>
</span><span id="__span-48-74"><a id="__codelineno-48-74" name="__codelineno-48-74" href="#__codelineno-48-74"></a><span class="go">┌───────┐</span>
</span><span id="__span-48-75"><a id="__codelineno-48-75" name="__codelineno-48-75" href="#__codelineno-48-75"></a><span class="go">│ nrows │</span>
</span><span id="__span-48-76"><a id="__codelineno-48-76" name="__codelineno-48-76" href="#__codelineno-48-76"></a><span class="go">├───────┤</span>
</span><span id="__span-48-77"><a id="__codelineno-48-77" name="__codelineno-48-77" href="#__codelineno-48-77"></a><span class="go">│    10 │</span>
</span><span id="__span-48-78"><a id="__codelineno-48-78" name="__codelineno-48-78" href="#__codelineno-48-78"></a><span class="go">└───────┘</span>
</span><span id="__span-48-79"><a id="__codelineno-48-79" name="__codelineno-48-79" href="#__codelineno-48-79"></a><span class="go">(1 row)</span>
</span><span id="__span-48-80"><a id="__codelineno-48-80" name="__codelineno-48-80" href="#__codelineno-48-80"></a>
</span><span id="__span-48-81"><a id="__codelineno-48-81" name="__codelineno-48-81" href="#__codelineno-48-81"></a><span class="go">select ncols(&#39;int32(10:10)[1:1:1 2:2:2 3:3:3]&#39;::matrix);</span>
</span><span id="__span-48-82"><a id="__codelineno-48-82" name="__codelineno-48-82" href="#__codelineno-48-82"></a><span class="go">┌───────┐</span>
</span><span id="__span-48-83"><a id="__codelineno-48-83" name="__codelineno-48-83" href="#__codelineno-48-83"></a><span class="go">│ ncols │</span>
</span><span id="__span-48-84"><a id="__codelineno-48-84" name="__codelineno-48-84" href="#__codelineno-48-84"></a><span class="go">├───────┤</span>
</span><span id="__span-48-85"><a id="__codelineno-48-85" name="__codelineno-48-85" href="#__codelineno-48-85"></a><span class="go">│    10 │</span>
</span><span id="__span-48-86"><a id="__codelineno-48-86" name="__codelineno-48-86" href="#__codelineno-48-86"></a><span class="go">└───────┘</span>
</span><span id="__span-48-87"><a id="__codelineno-48-87" name="__codelineno-48-87" href="#__codelineno-48-87"></a><span class="go">(1 row)</span>
</span><span id="__span-48-88"><a id="__codelineno-48-88" name="__codelineno-48-88" href="#__codelineno-48-88"></a>
</span><span id="__span-48-89"><a id="__codelineno-48-89" name="__codelineno-48-89" href="#__codelineno-48-89"></a><span class="go">select nvals(&#39;int32(10:10)[1:1:1 2:2:2 3:3:3]&#39;::matrix);</span>
</span><span id="__span-48-90"><a id="__codelineno-48-90" name="__codelineno-48-90" href="#__codelineno-48-90"></a><span class="go">┌───────┐</span>
</span><span id="__span-48-91"><a id="__codelineno-48-91" name="__codelineno-48-91" href="#__codelineno-48-91"></a><span class="go">│ nvals │</span>
</span><span id="__span-48-92"><a id="__codelineno-48-92" name="__codelineno-48-92" href="#__codelineno-48-92"></a><span class="go">├───────┤</span>
</span><span id="__span-48-93"><a id="__codelineno-48-93" name="__codelineno-48-93" href="#__codelineno-48-93"></a><span class="go">│     3 │</span>
</span><span id="__span-48-94"><a id="__codelineno-48-94" name="__codelineno-48-94" href="#__codelineno-48-94"></a><span class="go">└───────┘</span>
</span><span id="__span-48-95"><a id="__codelineno-48-95" name="__codelineno-48-95" href="#__codelineno-48-95"></a><span class="go">(1 row)</span>
</span></code></pre></div></p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href=".." class="btn btn-neutral float-left" title="Welcome to OneSparse Postgres"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../test_scalar_header/" class="btn btn-neutral float-right" title="Scalar">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href=".." style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../test_scalar_header/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
