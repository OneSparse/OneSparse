<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Matrix - OneSparse Postgres</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Matrix";
        var mkdocs_page_input_path = "test_matrix_header.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/C.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/python.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/pgsql.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> OneSparse Postgres
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Welcome to OneSparse Postgres</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="#">Matrix</a>
    <ul class="current">
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../test_scalar_header/">Scalar</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../test_scalar_op_f4/">Scalar float4 Operations</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../test_scalar_op_f8/">Scalar float8 Operations</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../test_scalar_op_i2/">Scalar smallint Operations</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../test_scalar_op_i4/">Scalar integer Operations</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../test_scalar_op_i8/">Scalar bigint Operations</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../test_vector_header/">Vectors</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">OneSparse Postgres</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Matrix</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="matrix">Matrix</h1>
<p>This documentation is also tests for the code, the examples below
show the literal output of these statements from Postgres.</p>
<p>Some setup to make sure the extension is installed.
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>set client_min_messages = &#39;WARNING&#39;; -- pragma:hide
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>create extension if not exists onesparse;
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>\pset linestyle unicode
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>\pset border 2
</span></code></pre></div>
The <code>matrix</code> data type wraps a SuiteSparse GrB_Matrix handle and
delegates functions from SQL to the library through instances of
this type.
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>\dT+ matrix
</span></code></pre></div>
An empty matrix can be constructed many ways, but one of the
simplest is casting a type code to the matrix type.  In this case
<code>int32</code> means the SuiteSparse type <code>GrB_INT32</code>.
<div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>select &#39;int32&#39;::matrix;
</span></code></pre></div>
Another way to create an empty matrix is to use the <code>matrix()</code>
constructor function:
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>select matrix(&#39;int32&#39;);
</span></code></pre></div>
The above matrices are "unbounced", they do not have a fixed number
of rows and/or columns.  The default possible number of rows and
columns is defined by the SuiteSparse library to be <code>GrB_INDEX_MAX</code>
which is <code>2^60</code> power indexes.  For the purposes of this
documentation this will be referred to as <code>INDEX_MAX</code> and matrices
and vector dimensions that are <code>INDEX_MAX</code> in size are reffered to
as "unbounded".
<div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>
</span></code></pre></div>
For matrices with known dimensions, the dimensions can be provided
in parentesis after the type code.  Here a 10 row by 10 column
matrix is created:
<div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>select &#39;int32(10:10)&#39;::matrix;
</span></code></pre></div>
Another way to make a new matrix is with the <code>matrix</code> constructor
function.
<div class="language-text highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>select matrix(&#39;int32&#39;, 8, 8);
</span></code></pre></div>
Either dimension can be ommited, this creates a 10 row by unbounded
column matrix.
<div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>select &#39;int32(10:)&#39;::matrix;
</span></code></pre></div>
This creates a unbounded row by 10 column matrix.
<div class="language-text highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>select &#39;int32(:10)&#39;::matrix;
</span></code></pre></div>
Note that in all the above cases the matrices created are <em>empty</em>.
They contain no stored elements.  The memory needed to hold the
matrix contains only stored elements, if there isn't a value stored
at a given row or column position, no memory is consumed.  This is
the "sparse" in sparse matrix.  This is how it's possible to create
an unbounded row by unbounded column matrix without exhausting
memory trying to allocate <code>2^120</code> entries.</p>
<p>All graphblas operations are exposed by a series of functions and
operators.  Here we see three very common operations, returning the
number of rows, the number of columns, and the number of store
values.
<div class="language-text highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>select nrows(&#39;int32&#39;::matrix),
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>       ncols(&#39;int32&#39;::matrix),
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>       nvals(&#39;int32&#39;::matrix);
</span></code></pre></div>
Above you can see the matrix has unbounded rows and columns (the
very large number is the number of <em>possible</em> entries).  And the
number of stored values is zero.  These matrices are empty, they
contain no elements.
<div class="language-text highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>
</span></code></pre></div>
Values can be specified after the <code>type(dimension)</code> prefix as an
array of elements between square brackets.  Empty brackets imply no
elements, so empty square brackets are the same as no square
brackets as above:
<div class="language-text highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>select nrows(&#39;int32[]&#39;::matrix),
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>       ncols(&#39;int32[]&#39;::matrix),
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>       nvals(&#39;int32[]&#39;::matrix);
</span></code></pre></div>
Elements are specified between square brackets are coordinates of
'row_id:column_id:value' separated by spaces:
<div class="language-text highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>select &#39;int32[1:2:1 2:3:2 3:1:3]&#39;::matrix,
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>       &#39;int32(10:)[1:2:1 2:3:2 3:1:3]&#39;::matrix,
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>       &#39;int32(:10)[1:2:1 2:3:2 3:3:1]&#39;::matrix;
</span></code></pre></div>
Seeing matrices in this format is pretty hard to understand, there
are two helpful functions for visualizing matrices, the first is
<code>print</code> which prints the matrix in
<div class="language-text highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>
</span></code></pre></div>
Below you see the number of rows, columns and spaces for a variety
of combinations:
<div class="language-text highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>select print(&#39;int32(8:8)[1:2:1 2:3:2 3:1:3]&#39;::matrix) as matrix;
</span></code></pre></div>
Above you can see the sparse matrix format of an 8x8 matrix.  It's
only possible to print matrices that have fixed dimensions of a
reasonable size.
<div class="language-text highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>
</span></code></pre></div>
Another useful function is <code>dot_matrix()</code> This turns a matrix into the
Graphviz DOT language that is used to draw graph diagrams:
<div class="language-text highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>select dot_matrix(&#39;int32(8:8)[1:2:1 2:3:2 3:1:3]&#39;::matrix) as dot_matrix;
</span></code></pre></div>
Will generate the following diagram:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>select dot_matrix(&#39;int32(8:8)[1:2:1 2:3:2 3:1:3]&#39;::matrix) as dot_source \gset
</span></code></pre></div>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>\i sql/dot.sql
</span></code></pre></div>
Another useful function is <code>random_matrix()</code>.  This will generate a
random matrix provided the type, number of rows, number of columns,
and the number of (approximate) values and an optional random seed
for deterministic generation:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>select print(random_matrix(8, 8, 16, seed=&gt;0.42, max=&gt;42)) as random_matrix;
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>select dot_matrix(random_matrix(8, 8, 16, seed=&gt;0.42, max=&gt;42)) as dot_source \gset
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>\i sql/dot.sql
</span></code></pre></div>
<h1 id="test-fixtures">Test Fixtures</h1>
<p>Let's get a test fixture table with a couple matrix and vector
columns so that we can do some operations without tediously
repeating the literal syntax.  These matrices and vectors are
construction with <code>random_matrix()</code> show above, and the
<code>random_vector()</code> function:
<div class="language-text highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>\o /dev/null
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>\set ECHO none
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>\i sql/fixtures.sql
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>\set ECHO all
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>\o
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a>select print(a) as a, print(b) as b, print(u) as u, print(v) as v from test_fixture;
</span></code></pre></div></p>
<h1 id="element-wise-operations">Element-wise operations</h1>
<p>The GraphBLAS API has elementwise operations on matrices that
operate pairs of matrices.  <code>eadd</code> computes the element-wise
“addition” of two matrices A and B, element-wise using any binary
operator.  Elements present on both sides of the operation are
included in the result.
<div class="language-text highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>select print(a) as a, binaryop, print(b) as b, print(eadd(A, B, binaryop)) as union from test_fixture;
</span></code></pre></div>
<code>emult</code> multiplies elements of two matrices, taking only the
intersection of common elements in both matrices, if an element is
missing from either the left or right side, it is ommited from the
result:
<div class="language-text highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>select print(a) as a, binaryop, print(b) as b, print(emult(A, B, binaryop)) as intersect from test_fixture;
</span></code></pre></div>
<code>eunion</code> is like <code>eadd</code> but differs in how the binary op is
applied. A pair of scalars, <code>alpha</code> and <code>beta</code> define the inputs to
the operator when entries are present in one matrix but not the
other.
<div class="language-text highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>select print(a) as a, binaryop, print(b) as b, print(eunion(A, 3, B, 4, binaryop)) as union from test_fixture;
</span></code></pre></div>
The entire matrix can be reduced to a scalar value:
<div class="language-text highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>select print(a) as a, reduce_scalar(a, monoid) from test_fixture;
</span></code></pre></div>
The matrix can also be reduced to a column vector:
<div class="language-text highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>select print(a) as a, monoid, print(reduce_vector(a, monoid)) as reduce_vector from test_fixture;
</span></code></pre></div>
To reduce a row vector, specify that the input should be transposed
with the descriptor <code>t0</code>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>select print(a) as a, monoid, print(reduce_vector(a, monoid, descriptor=&gt;&#39;t0&#39;)) as transpose_reduce_vector from test_fixture;
</span></code></pre></div>
Matrix Multiplication (referred to here as A @ B) is the heart of
linear algebra.  All matrix multiplication happens over a semiring.
For the most common form of matrix multiplication, the outer
opperation is to multiply coresponding elements with the "times"
operator and then reduce those products with the "plus" operator.
This is called the <code>plus_times</code> semiring:
<div class="language-text highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>select print(a) as a, semiring, print(b) as b, print(mxm(a, b, semiring)) as mxm from test_fixture;
</span></code></pre></div>
AxB can also be done with the <code>@</code> operator, mimicking the Python
syntax.  The default semiring for numeric types is <code>plus_times</code>.
<div class="language-text highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>select print(a) as a, &#39;@&#39; as &quot;@&quot;, print(b) as b, print(a @ b) as mxm from test_fixture;
</span></code></pre></div>
Matrices can be multipled by vectors on the right taking the linear
combination of the matrices columns using the vectors elements as
coefficients:
<div class="language-text highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a>select print(a), semiring, print(u), print(mxv(a, u, semiring)) from test_fixture;
</span></code></pre></div>
'mxv' is also supported by the <code>@</code> operator:
<div class="language-text highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a>select print(a), &#39;@&#39;, print(u), print(a @ u) from test_fixture;
</span></code></pre></div>
Matrices can be multipled by vectors on the right taking the linear
combination of the matrices rows using the vectors elements as
coefficients:
<div class="language-text highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a>select print(v), semiring, print(b), print(vxm(v, b, semiring)) from test_fixture;
</span></code></pre></div>
'vxm' is also supported by the <code>@</code> operator:
<div class="language-text highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a>select print(v), &#39;@&#39;, print(b), print(v @ b) from test_fixture;
</span></code></pre></div>
The <code>selection</code> method calls the <code>GrB_select()</code> API function.  The
name <code>selection</code> was chosen not to conflict with the SQL keyword
<code>select</code>.  Selection provides a conditional operator called an
<code>indexunaryop</code> and a parameter for the operator to use to compare
elements in the matrix.  Below, all elements with values greater
than 50 are returned:
<div class="language-text highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a>select print(a), indexunaryop, print(selection(a, indexunaryop, 50)) from test_fixture;
</span></code></pre></div>
<code>apply</code> takes an operator of type <code>unaryop</code> and applies it to every
element of the matrix.  The 'ainv_int32' returned the additive
inverse (the negative value for integers) of every element:
<div class="language-text highlight"><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a>select print(a), unaryop, print(apply(a, unaryop)) from test_fixture;
</span></code></pre></div>
Elements can be set individually with <code>set_element</code>, the modified
input is returned:
<div class="language-text highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a>select print(set_element(a, 4, 4, 4)) from test_fixture;
</span></code></pre></div>
Scalar elements can be extracted individually with <code>get_element</code>
<div class="language-text highlight"><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a>select get_element(a, 3, 3) from test_fixture;
</span></code></pre></div>
The <code>print</code> function returns a descripton of the matrix from
SuiteSparse.
<div class="language-text highlight"><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a>select info(a) from test_fixture;
</span></code></pre></div>
The <code>print</code> function takes an optional "level" argument that
defaults to <code>1</code> which is a short summary.
<div class="language-text highlight"><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a>select info(a, 5) from test_fixture;
</span></code></pre></div>
The <code>dup</code> function duplicates a matrix returning a new matrix
object with the same values:
<div class="language-text highlight"><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a>select dup(a) from test_fixture;
</span></code></pre></div>
The <code>wait</code> method is used to "complete" a matrix, which may have
pending operations waiting to be performed when using the default
SuiteSparse non-blocking mode.  As a side effect, wait will sort
the elements of the input:
<div class="language-text highlight"><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a>select wait(&#39;int32[2:2:2 3:3:3 1:1:1]&#39;::matrix);
</span></code></pre></div>
The <code>clear</code> function clears the matrix of all elements and returns
the same object, but empty.  The dimensions do not change:
<div class="language-text highlight"><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a>select clear(&#39;int32[1:1:1 2:2:2 3:3:3]&#39;::matrix);
</span></code></pre></div></p>
<h1 id="extra-tests">Extra tests</h1>
<p>This documentation also forms the basis for the onesparse tests,
These tests run the documentation against a live server, all the
above results are automatically generated.
<div class="language-text highlight"><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a>select nrows(&#39;int32(10)[1:1:1 2:2:2 3:3:3]&#39;::matrix);
</span><span id="__span-43-2"><a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a>
</span><span id="__span-43-3"><a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a>select ncols(&#39;int32(10)[1:1:1 2:2:2 3:3:3]&#39;::matrix);
</span><span id="__span-43-4"><a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a>
</span><span id="__span-43-5"><a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a>select nvals(&#39;int32(10)[1:1:1 2:2:2 3:3:3]&#39;::matrix);
</span><span id="__span-43-6"><a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a>
</span><span id="__span-43-7"><a id="__codelineno-43-7" name="__codelineno-43-7" href="#__codelineno-43-7"></a>select nrows(&#39;int32(10:)[1:1:1 2:2:2 3:3:3]&#39;::matrix);
</span><span id="__span-43-8"><a id="__codelineno-43-8" name="__codelineno-43-8" href="#__codelineno-43-8"></a>
</span><span id="__span-43-9"><a id="__codelineno-43-9" name="__codelineno-43-9" href="#__codelineno-43-9"></a>select ncols(&#39;int32(10:)[1:1:1 2:2:2 3:3:3]&#39;::matrix);
</span><span id="__span-43-10"><a id="__codelineno-43-10" name="__codelineno-43-10" href="#__codelineno-43-10"></a>
</span><span id="__span-43-11"><a id="__codelineno-43-11" name="__codelineno-43-11" href="#__codelineno-43-11"></a>select nvals(&#39;int32(10:)[1:1:1 2:2:2 3:3:3]&#39;::matrix);
</span><span id="__span-43-12"><a id="__codelineno-43-12" name="__codelineno-43-12" href="#__codelineno-43-12"></a>
</span><span id="__span-43-13"><a id="__codelineno-43-13" name="__codelineno-43-13" href="#__codelineno-43-13"></a>select nrows(&#39;int32(:10)[1:1:1 2:2:2 3:3:3]&#39;::matrix);
</span><span id="__span-43-14"><a id="__codelineno-43-14" name="__codelineno-43-14" href="#__codelineno-43-14"></a>
</span><span id="__span-43-15"><a id="__codelineno-43-15" name="__codelineno-43-15" href="#__codelineno-43-15"></a>select ncols(&#39;int32(:10)[1:1:1 2:2:2 3:3:3]&#39;::matrix);
</span><span id="__span-43-16"><a id="__codelineno-43-16" name="__codelineno-43-16" href="#__codelineno-43-16"></a>
</span><span id="__span-43-17"><a id="__codelineno-43-17" name="__codelineno-43-17" href="#__codelineno-43-17"></a>select nvals(&#39;int32(:10)[1:1:1 2:2:2 3:3:3]&#39;::matrix);
</span><span id="__span-43-18"><a id="__codelineno-43-18" name="__codelineno-43-18" href="#__codelineno-43-18"></a>
</span><span id="__span-43-19"><a id="__codelineno-43-19" name="__codelineno-43-19" href="#__codelineno-43-19"></a>select nrows(&#39;int32(10:10)[1:1:1 2:2:2 3:3:3]&#39;::matrix);
</span><span id="__span-43-20"><a id="__codelineno-43-20" name="__codelineno-43-20" href="#__codelineno-43-20"></a>
</span><span id="__span-43-21"><a id="__codelineno-43-21" name="__codelineno-43-21" href="#__codelineno-43-21"></a>select ncols(&#39;int32(10:10)[1:1:1 2:2:2 3:3:3]&#39;::matrix);
</span><span id="__span-43-22"><a id="__codelineno-43-22" name="__codelineno-43-22" href="#__codelineno-43-22"></a>
</span><span id="__span-43-23"><a id="__codelineno-43-23" name="__codelineno-43-23" href="#__codelineno-43-23"></a>select nvals(&#39;int32(10:10)[1:1:1 2:2:2 3:3:3]&#39;::matrix);
</span></code></pre></div></p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href=".." class="btn btn-neutral float-left" title="Welcome to OneSparse Postgres"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../test_scalar_header/" class="btn btn-neutral float-right" title="Scalar">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href=".." style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../test_scalar_header/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
